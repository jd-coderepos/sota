




\setlength{\tabcolsep}{4pt}
\begin{table}
\begin{center}
\caption{\textbf{The result on VATEX and LSMDC.}}
\label{table:fourbenchmarks}
\begin{tabular}{lccccccccc}
\hline\noalign{\smallskip}
\multirow{2}{*}{Model} & \multicolumn{4}{c}{VATEX} & & \multicolumn{4}{c}{LSMDC} \\[0.5pt]
\cline{2-5} \cline{7-10}
 & R@1 & R@5 & R@10 & MeanR & & R@1 & R@5 & R@10 & MeanR\\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
T2VLAD\cite{wang2021t2vlad} & - & - & - & - &  & 14.3 & 32.4 & - & -\\
CLIP & 39.7 & 72.3 & 82.2 & 12.8 & & 11.3 & 22.7 & 29.2 & -\\
CLIP4Clip & 55.9 & 89.2 & 95.0 & 3.9 & & 21.6 & 41.8 & 49.8 & 58.0\\
CLIP2Video & 57.3 & 90.0 & \textbf{95.5} & 3.6 &   & - & - & - \\
QB-Norm & 58.8 & 88.3 & 93.8 & - & & 22.4 & 40.1 & 49.5 & -\\
CAMoE & - & - & - & - &  & 22.5 & {\bf 42.6} & 50.9 & 56.5\\
\textbf{Ours} & \textbf{59.1} & \textbf{90.0} & 95.2 & \textbf{3.5} & & {\bf 23.4}  & 42.3 &  {\bf 50.9} & 56.9\\
\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}


\setlength{\tabcolsep}{4pt}
\begin{table}
\begin{center}
\caption{\textbf{The result on DiDeMo and ActivityNet-Caption.}}
\label{table:fourbenchmarks}
\begin{tabular}{lccccccccccc}
\hline\noalign{\smallskip}
\multirow{2}{*}{Model} & \multicolumn{4}{c}{ActivityNet} & & \multicolumn{4}{c}{DiDeMo} \\ 
\cline{2-5} \cline{7-10}
 & R@1 & R@5 & R@10 & MeanR & & R@1 & R@5 & R@10 & MeanR\\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
T2VLAD\cite{wang2021t2vlad} & 23.7 & 55.5 & - & - & &\\
CLIP4Clip & 40.5 & 73.4 & - & 7.5 & & 43.4 & 70.2 & 80.6 & 17.5\\
QB-Norm & - & - & - & - & & 43.5 & 71.4 & 80.9 & -\\
Ours & {\bf 41.0} & {\bf 73.6} &  {\bf 84.5} & 8.6 & & 41.8 & {\bf 71.6} &  {\bf 82.0} & 14.8\\
\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}



\setlength{\tabcolsep}{2pt}
\begin{table}
\begin{center}
\caption{\textbf{The results on MSR-VTT-1kA.} Here DS means dual softmax mentioned in Section \ref{docu:dualsoftmax}.}
\label{table:msrvtt1k}
\begin{tabular}{c|ccccc|cccccc|}
\hline\noalign{\smallskip}
& & \multicolumn{5}{c}{Text \Longrightarrow Video} & \multicolumn{5}{c}{Video \Longrightarrow Text}\\
\hline
Model & R@1 & R@5 & R@10 & MdR & MeanR & R@1 & R@5 & R@10 & MdR & MeanR\\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
MMT \\
MDMMT \\
T2VLAD\cite{wang2021t2vlad}  & 29.5 & 59.0 & 70.1 & 4.0 & -\\
CLIP4Clip\cite{luo2021clip4clip}  & 44.5 & 71.4 & 81.6 & 2.0 & 15.3 & 42.7 & 70.9 & 80.6 & 2.0 & 11.6\\
CAMoE\cite{cheng2021improving}  & 44.6 & 72.6 & 81.8 & 2.0 & 13.3\\
LAFF\cite{hu2021lightweight}  & 45.8 & 71.5 & 82.0 & - & -\\
CLIP2Video\cite{fang2021clip2video}  & 45.6 & 72.6 & 81.7 & 2.0 & 14.6 & 43.5 & 72.3 & 82.1 & 2.0 & 10.2\\
\textbf{Ours}  & {\bf 47.0}  & {\bf 74.5} & {\bf 83.8} & {\bf 2.0} & {\bf 13.0} & {\bf 45.3} & {\bf 74.1} & {\bf 83.7} & {\bf 2.0} & {\bf 9.2}\\
CLIP2Video\cite{fang2021clip2video}  & 48.6 & 75.4 & 84.4 & 2.0 & 11.9\\
CAMoE\cite{cheng2021improving}  & 47.3 & 74.2 & 84.5 & 2.0 & 11.9\\
\textbf{Ours} & {\bf 51.1}  & {\bf 76.9} &  {\bf 85.6} & {\bf 1.0} & {\bf 11.7}\\
\hline
CLIP2TV\cite{gao2021clip2tv} & 48.3 & 74.6 & 82.8 & 2.0 & 14.9\\
\textbf{Ours} & {\bf 49.4}  & {\bf 75.6} &  {\bf 85.3} & {\bf 2.0} & {\bf 13.5} & {\bf 46.6}  & {\bf 75.9} &  {\bf 84.9} & {\bf 2.0} & {\bf 8.9}\\
CLIP2TV\cite{gao2021clip2tv} & 52.9 & 78.5 & 86.5 & 1.0 & 12.8\\
\textbf{Ours} & {\bf 54.0}  & {\bf 79.3} &  {\bf 87.4} & {\bf 1.0} & {\bf 11.7}\\
\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}



\setlength{\tabcolsep}{4pt}
\begin{table}
\begin{center}
\caption{The results on VATEX}
\label{table:vatex}
\begin{tabular}{lcccc}
\hline\noalign{\smallskip}
\multirow{2}{*}{Model} & \multicolumn{4}{c}{VATEX} \\ \cline{2-5}
 & R1 & R5 & R10 & MeanR\\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
CLIP & 39.7 & 72.3 & 82.2 & 12.8\\
CLIP4Clip & 55.9 & 89.2 & 95.0 & 3.9\\
CLIP2Video & 57.3 & 90.0 & 95.5 & 3.6\\
QB-Norm & 58.8 & 88.3 & 93.8 & -\\
LAFF* & 59.1 & {\bf 91.7 } & {\bf 96.3} & -\\
Ours & {\bf 60.0}  & 89.8 &  95.1 & {\bf 3.5}\\
\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}


\textbf{LSMDC}Results are given in Table~\ref{table:lsmdc}.

\setlength{\tabcolsep}{4pt}
\begin{table}
\begin{center}
\caption{The results on LSMDC}
\label{table:lsmdc}
\begin{tabular}{lcccc}
\hline\noalign{\smallskip}
Model & R1 & R5 & R10 & MeanR\\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
CLIP & 11.3 & 22.7 & 29.2 & -\\
CLIP4Clip & 21.6 & 41.8 & 49.8 & 58.0\\
QB-Norm & 22.4 & 40.1 & 49.5 & -\\
CAMoE & 22.5 & {\bf 42.6} & 50.9 & 56.5\\
Ours & {\bf 23.4}  & 42.3 &  {\bf 50.9} & 56.9\\
Ours(dsl) & 22.4 & 44.1 & 52.5 & 55.6\\
CAMoE(dsl) & 25.9 & {\bf 46.1} & 53.7 & 54.4\\
\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}


\setlength{\tabcolsep}{4pt}
\begin{table}
\begin{center}
\caption{The results on AVACap}
\label{table:activity}
\begin{tabular}{lcccc}
\hline\noalign{\smallskip}
Model & R1 & R5 & R10 & MeanR\\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
CLIP4Clip & 40.5 & 73.4 & - & 7.5\\
Ours & {\bf 41.0} & {\bf 73.6} &  {\bf 84.5} & 8.6\\
CAMoE(dsl) & 51.0 & 77.1 & 87.6 & 6.3\\
Ours(dsl) & 48.4 & 77.3 & 86.1 & 8.4\\
\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}


\begin{table*}
	\begin{center}
	\caption{Retrieval results on VATEX. }
	\label{VATEXTable}
		\resizebox{\textwidth}{!}{
			\begin{tabular}{c|ccccc|ccccc} \hline
    \multicolumn{3}{c}{}\multicolumn{4}{c}{Text \Longrightarrow Video} &\multicolumn{4}{c}{Video \Longrightarrow Text} \\
    \hline
	Method & R@1 & R@5 & R@10 & MdR & MnR & R@1 & R@5 & R@10 & MdR & MnR \\
    \hline
    Random Baseline                               & 0.2  & 0.7  & 1.05    & 2000.5 & -   & 0.02 & 0.1 & 1.02 & 2100.5 & -\\
    VSE \cite{kiros2014unifying}                  & 28.0 & 64.3 & 76.9    & 3.0    & -   & -    &    - & -    &   -   & - \\
    VSE++ \cite{faghri2017vse++}                  & 33.7 & 70.1 & 81.0    & 2.0    & -   & -    &    - & -    &   -   & - \\
    Dual Enc. \cite{dong2019dual}                 & 31.1 & 67.5 & 78.9    & 3.0    & -   & -    &    - & -    &   -   & - \\
    HGR   \cite{chen2020fine}                     & 35.1 & 73.5 & 83.5    & 2.0    & -   & -    &    - & -    &   -   & - \\
    CLIP \cite{portillo2021straightforward}       & 39.7 & 72.3 & 82.2    & 2.0    & 12.8& 52.7 & 88.8 & 94.9 & 1.0   & 3.8 \\
    SUPPORT-SET \cite{patrick2020support}         & 44.9 & 82.1 & 89.7    & 1.0    & -   & 58.4 & 84.4 & 91.0 & 1.0   & - \\
    CLIP4Clip-seqTransf \cite{luo2021clip4clip}   & 55.9 & 89.2 & 95.0 & 1.0 & 3.9 & 73.2 & 97.1 & 99.1 & 1.0 & 1.7 \\
    CLIP2Video \cite{fang2021clip2video}          & 57.3 & 90.0 & 95.5 & 1.0 & 3.6 & 76.0 & 97.7 & 99.9 & 1.0 & 1.5 \\
	\hline
	\textbf{Ours} & \textbf{59.1} & \textbf{90.0} & \textbf{95.2} & \textbf{1.0}  & \textbf{3.5} & \textbf{75.1}	& \textbf{97.0} &	\textbf{98.8}	& \textbf{1.0} & \textbf{1.7} \\
	
	\hline
		\end{tabular}}
	\end{center}
		\vspace{-0.4cm}
\end{table*}

\setlength{\tabcolsep}{4pt}
\begin{table}
\begin{center}
\caption{The results on DiDeMo}
\label{table:didemo}
\begin{tabular}{lcccc}
\hline\noalign{\smallskip}
Model & R1 & R5 & R10 & MeanR\\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
CLIP4Clip & 43.4 & 70.2 & 80.6 & 17.5\\
QB-Norm & 43.5 & 71.4 & 80.9 & -\\
Ours & 41.8 & {\bf 71.6} &  {\bf 82.0} & 14.8\\
CAMoE(dsl) & 43.8 & 71.4 & 79.9 & 16.3\\
Ours(dsl) & 47.4 & 73.6 & 82.4 & 12.9\\
\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}



\subsection{Comparison with other Video Encoder.}
Previous work such as ViViT\cite{arnab2021vivit}, TimeSformer\cite{bertasius2021space} and NIPs2021napian have explored many forms of video ViT. We compare complexity with other video ViT in table \ref{table:vivitcomplexity}. 

\setlength{\tabcolsep}{4pt}
\begin{table}
\begin{center}
\caption{Complex of our video encoder and other Video ViT. Suppose we have video of T frames and N tokens per frame. K means selecting K tokens per frame in TimeSformer's L+G strategy. We refer readers to TimeSformer\cite{bertasius2021space} and ViViT\cite{arnab2021vivit} to know details about aggregation strategy}
\label{table:vivitcomplexity}
\begin{tabular}{l|c|l}
\hline\noalign{\smallskip}
Model & Aggregation Strategy & Time Complexity \\
\noalign{\smallskip}
\hline
\noalign{\smallskip}
ViT & - & $O$(N^2) \\
TimeSformer\cite{bertasius2021space} & ST &  $O$((TN)^2) \\
TimeSformer\cite{bertasius2021space} & T+S &  $O$(N^2 + T^2) \\
TimeSformer\cite{bertasius2021space} & L+G &  $O$((TK)^2) \\
ViViT\cite{arnab2021vivit} & Factorised Encoder &  $O$(N^2 + T^2) \\
ViViT\cite{arnab2021vivit} & Factorised Self-Attention &  $O$(N^2 + T^2) \\
ViViT\cite{arnab2021vivit} & Factorised dot-product &  $O$(N^2 + T^2) \\
Ours & - &  $O$(N^2 + T^2) \\

\hline
\end{tabular}
\end{center}
\end{table}
\setlength{\tabcolsep}{1.4pt}
%
