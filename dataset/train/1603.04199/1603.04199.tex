\documentclass[9pt,numbers]{sigplanconf}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{graphicx}
\usepackage{palatino}
\usepackage{mathtools}
\usepackage{amsthm}

\usepackage{caption}
\DeclareCaptionType{copyrightbox}
\usepackage{subcaption}
\usepackage[figure, linesnumbered]{algorithm2e}

\usepackage{tikz}
\usetikzlibrary{arrows,automata}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{fadings}
\usetikzlibrary{patterns}
\tikzset{
    state/.style={
           rectangle,
           rounded corners,
           draw=black,
           minimum height=2em,
           inner sep=2pt,
           text centered,
           },
}



\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}

\DeclareMathOperator{\lin}{lin}

\newcommand{\todo}[1]{\textcolor{red}{#1}}

\SetKwBlock{SubAlgoBlock}{}{end}
\newcommand{\SubAlgo}[2]{#1 \SubAlgoBlock{#2}}

\definecolor{gris}{RGB}{180,180,200}
\definecolor{allEvtColor}{RGB}{70,90,230}
\colorlet{allEvtColorFill} {allEvtColor!20!white}
\definecolor{writeColor}{RGB}{240,90,70}
\definecolor{writeColorFill}{RGB}{255,230,200}



\copyrightyear{2016}
\conferenceinfo{PPoPP '16}{March 12-16, 2016, Barcelona, Spain}
\copyrightdata{978-1-4503-4092-2/16/03}
\reprintprice{\ECCCvWCCSCPCCCC_1C_2C_2C_1kk\Sigma_i\delta\Sigma_o\lambdaT = (\Sigma_i, \Sigma_o, Q, q_0, \delta, \lambda)\Sigma_i\Sigma_o(\sigma_i, \sigma_o)\Sigma_i \times \Sigma_o\sigma_i/\sigma_oQq_0 \in Q\delta :  Q\times \Sigma_i\rightarrow Q\lambda : Q\times \Sigma_i\rightarrow \Sigma_o\sigma_iq\delta(q,\sigma_i)\neq qqq'\lambda(q,\sigma_i)\neq\lambda(q',\sigma_i)L(T)TTT\Sigma = (\Sigma_i\times \Sigma_o) \cup \Sigma_i\Sigma\sigma_i/\sigma_o \in (\Sigma_i\times \Sigma_o)\sigma_i \in \Sigma_iT = (\Sigma_i, \Sigma_o, Q, q_0, \delta, \lambda)(\sigma_i^k/\sigma_o^k)_{k\in \mathbb{N}}T(q^k)_{k\in \mathbb{N}}q^0 = q_0k\in \mathbb{N}\delta(q^k, \sigma_i^k) = q^{k+1}\lambda(q^k, \sigma_i^k) = \sigma_o^ku = (u^k)_{k\in D}D\mathbb{N}\{0, ..., |u|-1\}T(\sigma_i^k/\sigma_o^k)_{k\in \mathbb{N}}Tk\in Du^k = \sigma_i^k/\sigma_o^ku^k = \sigma_i^kTL(T)Tk\mathcal{W}_k)w(v)v\in \mathbb{N}rk0kk\in \mathbb{N}\mathcal{W}_k =  (\Sigma_i, \Sigma_o, Q, q_0, \delta, \lambda)\Sigma_i = \cup_{v\in \mathbb{N}}\{r, w(v)\}\Sigma_o = \mathbb{N}^k \cup \{\bot\}Q = \mathbb{N}^kq_0 = (0, ..., 0)v\in \mathbb{N}q = (q_1, ..., q_k) \in Q\delta(q, w(v)) = (q_2, ...,  q_k, v)\delta(q, r) = q\lambda(q, w(v)) = \bot\lambda(q, r) = qccc+1cckkk\SigmaL(T)H = (\Sigma, E, \Lambda, \mapsto)\Sigma\sigma_i/\sigma_o\sigma_iEE_HH\Lambda : E \rightarrow \Sigma{\mapsto} \subset {(E\times E)}e\in E\{e'\in E : e' \mapsto e\}H = (\Sigma, E, \Lambda, \mapsto)\mathscr{P}_HHp\in \mathscr{P}_HHH\Lambda(e_0)\ldots\Lambda(e_i)\ldots\{e_0, \ldots, e_i, \ldots\} = E_Hi<je_j\not\mapsto e_i\lin(H)HpE', E''\subset EH.\pi(E', E'')E'E''H.\pi(E', E'') = (\Sigma, E', \Lambda', {\mapsto} \cap {E'^2})\Lambda'(e) = \sigma_i\Lambda(e) = \sigma_i/\sigma_oe\not \in E''\Lambda'(e) = \Lambda(e)H.\pi(E', E'')E'E' \cap E''\rightarrow\rightarrow\rightarrowH^\rightarrow = (\Sigma, E, \Lambda, \rightarrow)H\rightarrowCC(T)TCCTC(T)P(T, H)THTHP(T, H)C_1C_2TC_1(T) \subset C_2(T)C_1C_2C_1C_2L(T)\lin(H)HT\lin(H) \cap L(T) \neq \emptyset.pH.\pi(E_H, p)pHT\forall p\in \mathscr{P}_H, \lin\left(H.\pi(E_H, p)\right) \cap L(T) \neq \emptyset.H\rightarrowE_H\mapstoe\in E_H\{e'\in E_H : e\not\rightarrow e'\}eeeeee\lfloor e\rfloor = \{e'\in E_H : e'\rightarrow e\}\bullet\mathbf{\sigma_i^{2}}{\color{gris}/\sigma_o^{2}}\bullet\sigma_i^6/\sigma_o^6\bullet\sigma_i^{9}/\sigma_o^{9}\bullet\sigma_i^{12}/\sigma_o^{12}\bullet\mathbf{\sigma_i^3/\sigma_o^3}\bullet\mathbf{\sigma_i^5/\sigma_o^5}\bullet\mathbf{\sigma_i^7/\sigma_o^7}\bullet\sigma_i^{10}/\sigma_o^{10}\bullet\mathbf{\sigma_i^{1}}{\color{gris}/\sigma_o^{1}}\bullet\sigma_i^4/\sigma_o^4\bullet\sigma_i^8/\sigma_o^8\bullet\sigma_i^{11}/\sigma_o^{11}\bullet\mathbf{\sigma_i^{2}}{\color{gris}/\sigma_o^{2}}\bullet\sigma_i^6/\sigma_o^6\bullet\sigma_i^{9}/\sigma_o^{9}\bullet\sigma_i^{12}/\sigma_o^{12}\bullet\mathbf{\sigma_i^{3}}{\color{gris}/\sigma_o^{3}}\bullet\mathbf{\sigma_i^{5}}{\color{gris}/\sigma_o^{5}}\bullet\mathbf{\sigma_i^7/\sigma_o^7}\bullet\sigma_i^{10}/\sigma_o^{10}\bullet\mathbf{\sigma_i^{1}}{\color{gris}/\sigma_o^{1}}\bullet\mathbf{\sigma_i^{4}}{\color{gris}/\sigma_o^{4}}\bullet\sigma_i^8/\sigma_o^8\bullet\sigma_i^{11}/\sigma_o^{11}\bullet\mathbf{\sigma_i^{2}}{\color{gris}/\sigma_o^{2}}\bullet\sigma_i^6/\sigma_o^6\bullet\sigma_i^{9}/\sigma_o^{9}\bullet\sigma_i^{12}/\sigma_o^{12}\bullet\mathbf{\sigma_i^3/\sigma_o^3}\bullet\mathbf{\sigma_i^5/\sigma_o^5}\bullet\mathbf{\sigma_i^7/\sigma_o^7}\bullet\sigma_i^{10}/\sigma_o^{10}\bullet\mathbf{\sigma_i^{1}}{\color{gris}/\sigma_o^{1}}\bullet\mathbf{\sigma_i^{4}}{\color{gris}/\sigma_o^{4}}\bullet\sigma_i^8/\sigma_o^8\bullet\sigma_i^{11}/\sigma_o^{11}\bullet\mathbf{\sigma_i^2/\sigma_o^2}\bullet\mathbf{\sigma_i^8/\sigma_o^8}\bullet\sigma_i^{9}/\sigma_o^{9}\bullet\sigma_i^{12}/\sigma_o^{12}\bullet\mathbf{\sigma_i^3/\sigma_o^3}\bullet\mathbf{\sigma_i^5/\sigma_o^5}\bullet\mathbf{\sigma_i^7/\sigma_o^7}\bullet\sigma_i^{10}/\sigma_o^{10}\bullet\mathbf{\sigma_i^1/\sigma_o^1}\bullet\mathbf{\sigma_i^4/\sigma_o^4}\bullet\sigma_i^8/\sigma_o^8\bullet\sigma_i^{11}/\sigma_o^{11}\bulletw(1)\bulletr/(0,1)\bulletr/(1,2)\bulletw(2)\bulletr/(0,2)\bulletr/(1,2)\mathcal{W}_2\bulletw(1)\bulletr/(0, 1)\bulletw(2)\bulletr/(0, 2)\mathcal{W}_2\bulletw(1)\bulletr/(2,1)\bulletw(2)\bulletr/(1,2)\mathcal{W}_2\bulletw(1)\bulletr/(0,1)\bulletw(2)\bulletr/(1,2)\mathcal{W}_2\bulletpush(1)\bulletpop/1\bulletpop/1\bulletpush(3)\bulletpush(2)\bulletpop/3\bulletpush(1)\mathcal{Q}\bulletpop/1\bulletpop/\bot\bulletpush(1)\bulletpush(2)\bulletpop/1\bulletpop/\bot\mathcal{Q}\bullethd/1\bulletrh(1)\bullethd/2\bulletrh(2)\bulletpush(1)\bulletpush(2)\bullethd/1\bulletrh(1)\bullethd/2\bulletrh(2)\mathcal{Q}'\bulletw_a(1)\bulletw_c(2)\bulletw_d(1)\bulletr_b/0\bulletr_e/1\bulletr_c/3\bulletw_b(1)\bulletw_c(3)\bulletw_e(1)\bulletr_a/0\bulletr_d/1\bulletr_c/3\mathscr{M}_{[a-z]}\bulletw_a(1)\bulletw_a(2)\bulletw_b(3)\bulletr_d/3\bulletr_c/1\bulletw_a(1)\bulletw_c(1)\bulletw_c(2)\bulletw_d(3)\bulletr_b/3\bulletr_a/1\bulletw_c/1\mathscr{M}_{[a-z]}\mathscr{W}_2\mathscr{Q}\mathscr{Q}'\mathscr{M}_{[a-z]}e\in E_H\lin((H^\rightarrow).\pi(\lfloor e\rfloor, \lfloor e\rfloor))\cap L(T) \neq \emptyset\rightarrowee'ee'ee'\mathcal{W}_2\mathcal{Q}\mathcal{Q}'1(0,1)2(1, 2)w(1)/\bot.r/(0,1).w(2)/\bot.r/(1,2)\lin(H)L(\mathcal{W}_2)HT\rightarrow\forall e\in E_H, \lin((H^\rightarrow).\pi(\lfloor e\rfloor, \{e\}))\cap L(T) \neq \emptyset.r/(0,1)w(1)/\botw(2)/\bot\rightarrow r/(2,1)w(1).r.w(2).r/(2,1)w(1)/\botw(1).w(2).r/(0,1)w(1).w(2).r.r/(1,2)w(2)/\botw(1).w(2).r/(0,2)w(1).w(2).r.r/(1,2)(0,1)(1,2)(0,2)(2,1)TH = (\Sigma, E, \Lambda, \mapsto)H \in WCC(T)u, u' \in Eu\rightarrow u'u'\rightarrow uH\in SC(T)TH = (\Sigma, E, \Lambda, \mapsto) \in WCC(T)u, u' \in Eu\rightarrow u'u'\rightarrow u\leE\rightarrowl\lin(H^\le)\mapsto\subset\rightarrow\lel\in \lin(H)l\notin L(T)TlL(T)l'\in \Sigma^\stare\in El'\cdot\Lambda(e)H\in WCC(T)l''\cdot\Lambda(e) \in \lin((H^\rightarrow).\pi(\lfloor e\rfloor, \{e\}))\cap L(T)e\lfloor e\rfloorel'l''\rightarrowl'l''l''\cdot\Lambda(e) \in L(T)l' \in L(T)l'\cdot\Lambda(e) \notin L(T)l\in L(T)H\in SC(T)HT\in \mathscr{T}\rightarrow\forall p \in \mathscr{P}_H, \forall e\in p, \lin((H^\rightarrow).\pi(\lfloor e\rfloor, p))\cap L(T) \neq \emptyset.w(1)/\botw(2).w(1)/\bot.r/(2,1)w(2)/\botw(2)/\bot.w(1).r/(1,2)push(v)vpop1push(2)2121push(2).push(1).pop.pop/1push(2).pop.push(1).push(1)/\bot.pop/1.pop/1.push(3)/\botpush(2)/\bot.push(1).pop.pop.push(3).pop/3.push(1)/\bot1poppush(1)pop[1, 2]12pophdrh(v)v1rh(1)2CCPC{\mapsto} \subset {\rightarrow}H\forall p\in \mathscr{P}_H, \lin\left((H^{\rightarrow}).\pi(E_H, p)\right)\cap L(T) \neq \emptyset.Hp\in \mathscr{P}_HpeHl_e \in \lin((H^\rightarrow).\pi(\lfloor e\rfloor, p))\cap L(T)\mapsto \subset \rightarrowl(H^{\rightarrow}).\pi(E_H, p)l_el\in L(T)l_e\in L(T)ll_ep(l_k)pe_1\mapsto e_2 \mapsto ...kL_kl.e_k\in L_kl'l.e_k.l'\in \lin((H^\rightarrow).\pi(\{e\in E_H : e_k \not\rightarrow e\}, p))\cap L(T)L_ke_ke_kL_k\rightarrowE_H\setminus \{e\in E_H : e_k \rightarrow e\}L_{k+1}L_ke_k\rightarrow e_{k+1}L(T)L_kkl_j\in L_jL_kj\ge kl_kl_jj\ge k(l_k)_{k\in \mathbb{N}}L(T)kl_k\in L_kl_{k+1}l_k(l_k)llL(T)l\in L(T)lH.\pi(E_H, p)\rightarrowe_kkll\in \lin\left((H^{\rightarrow}).\pi(E_H, p)\right)\cap L(T)xw_x(v)v\in \mathbb{N}r_x0\mathcal{M}_XX\mathcal{M}_XXX\mathcal{M}_x = (\Sigma_i, \Sigma_0, Q, q_0, \delta, \lambda)Q = \mathbb{N}^Xq_0 : x\mapsto 0\Sigma_i = \{r_x, w_x(v) : v\in \mathbb{N}, x\in X\}\Sigma_o = \mathbb{N} \cup \{\bot\}x\neq y\in Xv\in \mathbb{N}q\in X\rightarrow\mathbb{N}\delta(q, w_x(v))(x) = v\delta(q, w_x(v))(y) = q(y)\lambda(q, w_x(v)) = \bot\delta(q, r_x) = q\lambda(q, r_x) = q(x)c32\rightsquigarrowe, e'\in E_He \rightsquigarrow e'x\in Xv\in \mathbb{N}\Lambda(e) = \mathrm{w}_x(v)\Lambda(e') = \mathrm{r}_x/ve\in E_H|\{e'\in E_H : e' \rightsquigarrow e\}| \le 1e\in E_H\Lambda(e) = \mathrm{r}_x/ve'\in E_He'\rightsquigarrow ev = 0H\mathcal{M}_X\rightsquigarrow\rightarrow\rightsquigarrow\mapsto\forall p\in \mathscr{P}_H, \lin\left((H^\rightarrow).\pi(E_H, p)\right) \cap L(\mathcal{M}_X) \neq \emptysetxzw_a(1)/\bot.w_a(2)/\bot.w_b(3)/\bot.w_c(1).w_c(2).w_d(3).r_d/3.r_b.r_a.w_c(1).r_c/1.w_a(1)/\botw_a(1).w_a(2).w_b(3).w_c(1)/\bot.w_c(2)/\bot.w_d(3)/\bot.r_b/3.r_d.r_c.w_a(1).r_a/1.w_c(1)/\botHH \in CC(\mathcal{M}_X)H\mathcal{M}_XHep_ee\in p_el_e \in \lin((H^\rightarrow).\pi(\lfloor e\rfloor, p_e))\cap L(\mathcal{M}_X)\rightsquigarrowe\rightsquigarrow e'\Lambda(e') = \mathrm{r}_x/vexl_el_e\in L(\mathcal{M}_X)\Lambda(e) = \mathrm{w}_x(v)e'\rightsquigarrowv=0\xrightarrow{CM}\rightsquigarrow \cup \mapsto\rightarrowp\in \mathscr{P}_H\lin\left((H^\rightarrow).\pi(E_H, p)\right) \cap L(\mathcal{M}_X) \neq \emptysetH\mathcal{M}_XHe\neq e'\in E_H\Lambda(e) = w_x(v)/\bot\Lambda(e') = w_y(v')/\bot(x,v) \neq (y,v')H\mathcal{M}_XH \in CC(\mathcal{M}_X)H\mathcal{M}_X\xrightarrow{CM}p\in \mathscr{P}_He\in pl_p \in \lin((H^{\xrightarrow{CM}}).\pi(E_H, p)) \cap L(\mathcal{M}_X)\le_pl_e\lin((H^{\le_p}).\pi(\lfloor e\rfloor), p)e'\in \lfloor e\rfloorr_x/ve'v=0e''xe'l_pw_x(v)e'' \xrightarrow{CM} e'xe'l_el_e \in L(\mathcal{M}_X)HHT\rightarrow\le\rightarrow\forall e\in E_H, \lin((H^\le).\pi(\lfloor e\rfloor, \{e\}))\cap L(T) \neq \emptyset.\lew(1)/\bot \le w(2)/\botTH = (\Sigma, E, \Lambda, \mapsto)H \in WCC(T)u \in Eq \in Eu\rightarrow qq\rightarrow uH\in SC(T)TH = (\Sigma, E, \Lambda, \mapsto) \in WCC(T)u \in Eq \in Eu\rightarrow qq\rightarrow uH\in CCv(T)\le\rightarrowe\in El_e\cdot\Lambda(e) \in \lin((H^\le).\pi(\lfloor e\rfloor, \{e\})\cap L(T)l\lin(H^\le)\mapsto \subset \lel\in \lin(H)l\notin L(T)ll'\cdot\Lambda(e) \notin L(T)l'\in L(T)Tee\rightarrow\subset\lee\lel_el'l'l''l''\cdot\Lambda(e) \in L(T)l' \in L(T)l'\cdot\Lambda(e) \notin L(T)l\in L(T)H\in SC(T)Kknmmmmmm'mm'T(\Sigma, E, \Lambda, \mapsto)\SigmaL(T)ETe\in E\Lambda(e) = \sigma_i/\sigma_o\sigma_ie\sigma_oe, e'\in Ee\mapsto e'ee'Kkread(x)x<Krx^{\text{th}}write(x, v)w(v)x^{\text{th}}p_istr_iKp_ivxp_ixvCC(\mathscr{W}_k^K)\Kwstate_i \in \mathbb{N}^{K\times k} \leftarrow [[0,...,0],...,[0,...,0]](\Kwx \in [0, K[) \in \mathbb{N}^k\Kwstate_i[\Kwx](\Kwx \in [0, K[, \Kwv \in \mathbb{N})(\Kwx, \Kwv)(\Kwx \in [0, K[, \Kwv \in \mathbb{N})y \in [0, k-2]\Kwstate_i[\Kwx][y] \leftarrow \Kwstate_i[\Kwx][y+1]\Kwstate_i[\Kwx][k-1] \leftarrow \KwvKkp_iKkH=(\Sigma, E, \Lambda, \mapsto)pp'e\in Ep't_e^pepp'e\rightarrowe, e'\in Epp'e\rightarrow e'e=e't_e^{p'}e'p\le_pe, e'\in Ee\le_p e't_e^{p}\le t_{e'}^{p}\rightarrow\rightarrow\mapsto\rightarrow\le_p\rightarrowp \in \mathscr{P}_He\in pl_p(H^{\le_p}).\pi(E, p)str_ipl_p\in L(\mathscr{W}_k^K)e\in pl_el_pe\lin((H^\rightarrow).\pi(\lfloor e\rfloor, p))\cap L(\mathscr{W}_k^K)H\in CC(\mathscr{W}_k^K)w_x(1)w_x(2)pKkread(x)rx^{\text{th}}write(x, v)w(v)x^{\text{th}}p_ivtime_istr_istr_ikk(v, (vt, j))v(vt, j)(vt, j) < (vt', j')vt < vt'vt = vt'j < j'1(0,0)str_ip_ivxp_ixv(vt, i)vtime_iCCv(\mathscr{W}_k^K)\Kwstate_i \in \mathbb{N}^{K\times k \times (1+2)} \leftarrow [[[0,(0,0)],...],...]\Kwclock_i \in \mathbb{N} \leftarrow 0(\Kwx \in [0, K[) \in \mathbb{N}^k[\Kwstate_i[\Kwx][0][0], ..., \Kwstate_i[\Kwx][k-1][0]](\Kwx \in [0, K[, \Kwv \in \mathbb{N})(\Kwx, \Kwv, \Kwclock + 1, i)(\Kwx \in [0, K[, \Kwv \in \mathbb{N}, \Kwcl\in \mathbb{N}, \Kwj\in\mathbb{N})\Kwclock_i\leftarrow \max(\Kwclock_i, \Kwcl)y\in\mathbb{N} \leftarrow 0y < k-1 \land \Kwstate_i[\Kwx][y][1] \le (\Kwcl,\Kwj)\Kwstate_i[\Kwx][y] \leftarrow \Kwstate_i[\Kwx][y+1]y \leftarrow y+1y \neq 0\Kwstate_i[\Kwx][y-1] \leftarrow \KwvKkp_iK\mathscr{W}_kH=(\Sigma, E, \Lambda, \mapsto)\le_we_i, e_jp_ip_jvtimevt_ivt_je\le e'(vt_i, i) \le (vt_j,j)e\rightarrow e'e\le_w e'\rightarrow\cup \le_wE\lee \in El_e(H^\le).\pi(\lfloor e\rfloor, \{e\})el_el_e\in L(T)\Lambda(e) = read(x)/[v_0, ..., v_{k-1}]v_0, ..., v_{k-1}kx\lel_e\in L(T)H\in CCv(\mathscr{W}_k^K)$. 
\end{proof}




\section{Conclusion}\label{section:conclusion}


Sharing objects is essential to abstract communication complexity 
in large scale distributed systems. Until now, a lot of work has been done
to specify many kinds of shared memory, but they cannot always be easily 
extended to other abstract data types. In this paper, we extend causal 
consistency to all abstract data types. We also explore the variations
of causal consistency, around three consistency criteria.

Each of these three consistency criteria is pertinent. Weak causal consistency can be seen as the causal common denominator of the two branches of weak consistency criteria (eventual consistency and pipelined consistency). Indeed, it can be combined with any of them in wait-free distributed systems. Causal convergence is the result of the integration on weak causal consistency in the eventual consistency branch. Finally, causal consistency is from one side the generalization of the consistency criterion of causal memory to any abstract data type and on the other side it covers both weak causal consistency and pipelined consistency. 

To sum up, this paper allows to better understand the connections between weak consistency criteria. The two criteria to keep in mind are causal convergence and causal consistency as representatives of the two irreconcilable branches of consistency in wait-free distributed systems (sequential consistency and linearizability cannot be implemented in such a context). 

\section*{Acknowledgment}\label{section:ack}
\addcontentsline{toc}{section}{Acknowledgment} 

This work has been partially supported by the  French ANR project Socioplug (ANR-13-INFR-0003),
which is devoted to large scale distributed programming, and the Franco-German ANR project DISCMAT 
devoted to connections between mathematics  and distributed computing.

\bibliographystyle{plain}
\bibliography{ppopp}

\end{document}
