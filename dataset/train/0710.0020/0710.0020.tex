\documentclass[conference]{IEEEtran}
\usepackage{amsmath,amssymb,latexsym,hhline,graphicx,enumerate,cite}

\makeatletter
\def\ps@headings{\def\@oddhead{\mbox{}\scriptsize\rightmark \hfil \thepage}\def\@evenhead{\scriptsize\thepage \hfil \leftmark\mbox{}}\def\@oddfoot{}\def\@evenfoot{}}
\makeatother \pagestyle{headings}

\DeclareMathOperator*{\argmin}{arg min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator{\trace}{tr} \DeclareMathOperator{\diag}{diag}

\newcommand{\nchoosek}[2]{\left(\begin{array}{c}#1\\#2\end{array}\right)}
\newtheorem{ex}{Example}
\newtheorem{theo}{Theorem}
\newtheorem{prop}{Proposition}
\newtheorem{lem}{Lemma}
\newtheorem{corol}{Corollary}

\begin{document}

\title{A Probability Model for Lifetime of Wireless Sensor Networks}

\author{\authorblockN{Moslem Noori and
Masoud Ardakani\\} \authorblockA{Department of Electrical and Computer Engineering,
University of Alberta, CANADA\\
Email: \{moslem, ardakani\}@ece.ualberta.ca}}

\maketitle
\begin{abstract}
Considering a wireless sensor network whose nodes are distributed
randomly over a given area, a probability model for the network
lifetime is provided. Using this model and assuming that packet
generation follows a Poisson distribution, an analytical expression
for the complementary cumulative density function (ccdf) of the
lifetime is obtained. Using this ccdf, one can accurately find the
probability that the network achieves a given lifetime. It is also
shown that when the number of sensors, , is large, with an error
exponentially decaying with , one can predict whether or not a
certain lifetime can be achieved. The results of this work are
obtained for both multi-hop and single-hop wireless sensor networks
and are verified with computer simulation. The approaches of this
paper are shown to be applicable to other packet generation models
and the effect of the area shape is also investigated.
\end{abstract}

\section{Introduction} \label{Section Introduction}
Wireless sensor networks (WSNs) are consisted of a set of cheap and
usually battery-powered devices, called sensors. Sensor limited
power usually necessitates a compromise between lifetime and other
parameters such as the data rate or the quality of the received
signal in the sink. It is usually impracticable to replace the
sensors batteries after their operation period. Hence, estimating
the network lifetime according to the initial energy in sensors is
essential for network design. According to such lifetime estimation,
one can choose the network parameters such as node density, data
rate and initial energy of the sensors to achieve the desired
lifetime.

Lifetime analysis has been studied in the literature based on
different definitions such as the number of dead nodes in the
network, network coverage and network
connectivity\cite{Chandr_Upperbound_ICC,Chandr_Upperbound_Role_Infocom,
Azad_Multipe_Globecom,Santi_Lifetime_cellbased,
Hou_Alpha_lifetime,Rai_Lifetime_Modeling_DATE}. Authors in
\cite{Chandr_Upperbound_ICC} derive an upper bound on the network
lifetime considering the spatial behavior of the data source. To
achieve this goal, they first consider a simplified version where
the data source is a specific point, and the source is connected to
the sink with a straight line consisting of relaying sensors. They
derive the optimum length of a hop and consequently the number of
hops in the path to minimize the total energy consumed for the data
delivery. Then, they remove the assumption of a source concentrated
on a point and assume that the source is distributed over an area.

In \cite{Chandr_Upperbound_Role_Infocom}, the results of
\cite{Chandr_Upperbound_ICC} are extended to the networks whose
nodes may perform different tasks of sensing, relaying and
aggregating. The results of \cite{Chandr_Upperbound_ICC} are also
extended to multiple-sink networks in \cite{Azad_Multipe_Globecom}.

Work reported in \cite{Santi_Lifetime_cellbased} studies the network
lifetime for a cell based network. It is assumed that  nodes are
deployed over a hypercube. For the aim of energy conserving, the
area is divided to  hypercubes (cells). Using occupancy theory
\cite{Kolchin_Random_allocation}, the distribution of the minimum
number of sensors within each cell is investigated when
. Then, authors study the lifetime for the
case when network remains almost surely connected. Using the number
of sensors in each cell, the network lifetime is lower bounded based
on the given lifetime of each sensor.

A lifetime study based on the area coverage is presented in
\cite{Hou_Alpha_lifetime}. It is assumed that the nodes have a
circular sensing region and are distributed over a squared area.
Using the stochastic geometry, theory of coverage process, and
assuming the size of the area goes to infinity, an expression for
the node density is derived to guarantee a -coverage in the area.
It is shown that using the proposed density, the network lifetime is
upper bounded by  where  is the given lifetime of each
sensor. Although the upper bound is derived for an asymptotic
situation when the area goes to infinity, it is shown through
simulation that the derived bound is also reasonable for networks
over a finite area.

Authors in \cite{Rai_Lifetime_Modeling_DATE} divide linear or
circular networks to some bins where each bin contains a
deterministically assigned number of nodes. The nodes within each
bin, however, are deployed randomly. Also, the lifetime is defined
as the time when a hole occurs in the routing scheme (i.e. death of
a bin). Assuming a fixed transmission power for each packet and
using the theory of stochastic processes, authors have found the
probability distribution function (pdf) of the network lifetime. In
addition, they propose a method to assign the number of nodes within
each bin in order to maximize the network lifetime.



It is worthy to note that other studies in the literature are
performed on the lifetime, e.g.
\cite{DuarteMelo_Hetereogen_Globecom,Ganz_Lifetime_LargNet_Elsevier,Bydere_reliable_IEICE,
Chen_Lifetime_Commletter,Coleri_Automata_WSNA}. However, the most
related ones to this work are those that we discussed earlier.

In this paper, we find the probability of reaching a certain
lifetime for randomly distributed networks based on the power
dissipation model of the sensors. More specifically, unlike
\cite{Santi_Lifetime_cellbased, Hou_Alpha_lifetime}, we do not
assume that the lifetime of a sensor is given in order to find the
network lifetime. Instead, we find the lifetime of a sensor (as a
random variable) based on its power dissipation and packet
generation model. Also, our analysis does not assume an infinite
area and infinite number of sensors. In comparison to
\cite{Rai_Lifetime_Modeling_DATE}, we consider totally randomly
deployed networks over more variant area shapes. In addition, both
fixed and adjustable transmission power are studied in this work.
Also, the definition of lifetime in our work is more general and can
include the case studied in \cite{Rai_Lifetime_Modeling_DATE} (to be
discussed in Section \ref{Section lifetime pdf multi-hop}).

Considering the randomness in packet generation and sensor
deployment in the area, the lifetime of a network is a random
variable. For a lifetime analysis of the network, it is needed to
have a knowledge of the lifetime of each individual sensor. In this
work, instead of assuming that the lifetime of each sensor is given
beforehand, we first perform a lifetime analysis at the sensor
level. To this end, we model the lifetime of a sensor as a random
variable and find its distribution based on the traffic model and
the power dissipation model in the sensor. Using this probabilistic
model of a sensor lifetime and the distribution of the sensors over
the area, the complementary cumulative distribution function (ccdf)
of the lifetime of a single-hop network is derived. From this ccdf,
the probability distribution function (pdf) of the lifetime is also
obtained. The single-hop analysis will be the base of our further
extensions.

In the proposed analysis, no asymptotic assumption is made on the
number of nodes. Nevertheless, an asymptotic analysis is provided,
which---with an error exponentially decaying with the number of
sensors---predicts whether or not a desired lifetime can be
achieved.

The above analysis is then extended to multi-hop networks. Since the
lifetime of the multi-hop networks is dependent on the routing
scheme, we study the lifetime ccdf under the \emph{maximum-lifetime}
\cite{Al-Karaki_Routing_Magazine2004} routing.

The methodologies of this work are applicable to more general
scenarios, some of them are discussed in this paper. For example, we
extend the results to different traffic models; to the case where
different sensors may have different initial energy or traffic load;
and to various area shapes.

The organization of this paper is as follows. In Section
\ref{Section Model} we introduce the system model and provide the
required definitions and assumptions. The lifetime analysis for
single-hop networks is studied in Section \ref{Section Prob Model
Single Hop}. Section \ref{Section lifetime pdf multi-hop} discuses
the lifetime analysis of multi-hop networks. Extensions to other
scenarios are discussed in Section \ref{Section Extnesion} and the
accuracy of the proposed method is verified through simulations in
Section \ref{Section Simulations}. The paper is concluded in Section
\ref{Section Conclusion}.

\section{System Model}\label{Section Model}
In this section, the components of the system model such as lifetime
definition, energy consumption model and network traffic model are
introduced.

\subsection{Lifetime Definition}
As mentioned, lifetime has a great significance in the design of
WSNs. Conceptually, lifetime means the time duration that the
network is operational and can perform its assigned task. Since
there is no unique measure of the network failure, the definition of
the lifetime is application-related.

In \cite{Heinzelman_TCOM, Madan_Distributed_Routing_TWireless,
Chang_Energy_Conserving_Infocom} lifetime is stated as the time when
the first node dies. Usually the remaining sensors in the network
can accomplish the network's assigned task. Therefore, another
definition based on the ratio of dead nodes to the total number of
nodes in the network is often used (e.g.
\cite{DuarteMelo_Hetereogen_Globecom
,Heinemann_ACM_Mobicom2001,Oym_ICC_2004}). Notice that this
definition includes the definition of lifetime based on the death of
the first node and therefore is more general. Other definitions
based on the communication connectivity or the coverage of the area
are also proposed for the lifetime
\cite{Hou_Alpha_lifetime,Santi_Lifetime_cellbased}.

In this study, we consider the network lifetime based on the ratio
of dead nodes to the total number of nodes, . For multi-hop
networks, where the nodes close to the sink have more traffic load
than other nodes and die sooner, we will modify this definition.

\subsection{Energy Consumption Model}
The network lifetime is directly related to the sensors lifetime
and in other words the energy dissipated in the sensor nodes. The
consumed energy in sensors includes the energy required for sensing,
receiving, transmitting and processing of data. The total consumed
energy is usually dominated by the required energy for data
transmission.

Two cases may be considered for the transmission mode of the nodes
in the network. In the first case, nodes transmit with a fixed
transmission power. This usually results in a fixed transmission
range. In the second case, nodes use a mechanism to adjust their
transmission power based on their distance to the next hop or the
sink. Hence, the required energy for a packet transmission in sensor
 can be modeled as \cite{Hein_Tranmission_model_2000}

where  represents the packet length in bits,  denotes the
distance between sensor  and the next hop,  represents
the path loss exponent,  shows the loss coefficient related to
1 bit transmission and  is the overhead energy due to the
sensing, receiving and processing for the same amount of data. Also,
 and  represent the loss coefficient and the
overhead energy for a packet transmission respectively. The path
loss exponent depends on the local terrain and is determined by
empirical measurements. The typical value of  for WSNs is
from  to  \cite{Oym_ICC_2004}.

While this work is more focused on the transmission model
(\ref{Power dissipation model}), fixed transmission power is also
discussed.

\subsection{Traffic Model}
The traffic model of the network depends on the network application
and the behavior of sensed events. The data reporting process in
WSNs is usually classified into three categories: event-driven,
time-driven and query-driven \cite{Al-Karaki_Routing_Magazine2004}.
In the time-driven case, sensors send their data periodically to the
sink. Event-driven networks are used when it is desired to inform
the data sink about the occurrence of an event. In query-driven
networks, sink sends a request of data gathering when needed. In
this paper, our main focus will be on the event-driven networks with
Poisson model for packet generation.

Suppose that the events are independent (both temporally and
spatially) and occur with equal probability over the area. In this
case, Poisson distribution can be used effectively to model the
generation of data packets \cite{Rai_Lifetime_Modeling_DATE}. When
the average rate of packet generation, , is known, the
distribution of the number of data packets, , generated by each
node, from time 0 to  is

where  is a nonnegative integer number. Since the packet
generation distribution obeys the Poisson model, the time duration
between two consequent packet transmissions, , has an exponential
distribution with mean :

where  denotes the unit step function.

We will consider the Poisson model for sensor's traffic in this
study. However, the proposed method can be extended to other traffic
distributions and data gathering scenarios.
\section{Lifetime Analysis in Single-hop Networks}\label{Section Prob Model Single Hop}
In this section, we derive the pdf of the lifetime in single-hop
WSNs. Assuming that nodes directly communicate with the sink, we
first derive the ccdf of the lifetime. Then, the pdf of the lifetime
is obtained by taking the derivative of the ccdf. The results are
extended to the case of multi-hop networks in Section \ref{Section
lifetime pdf multi-hop}.

It is assumed here that all of the nodes have the same initial
energy, same distribution over the area and the same packet
generation model. Other cases like nonuniform energy distribution or
different packet generation models are studied in Section
\ref{Section Extnesion}.

For the ease of presentation, the list of parameters is provided in
Table \ref{Parameters}. As mentioned, the lifetime of a single-hop
WSN is considered as the time when the ratio of dead nodes to the
total number of nodes, , passes a threshold, .

\begin{table}[!h]
\begin{center}
\begin{tabular}{|l l|}
\hline

& Number of deployed nodes in the area\\
\hline

& Threshold for the ratio of dead nodes to all nodes\\
\hline

& Path loss exponent\\
\hline

& Path loss coefficient\\
\hline

& Overhead energy\\
\hline

& Initial energy in sensors\\
\hline

 & Lifetime threshold\\
\hline

& Lifetime achieved by sensor \\
\hline

& Lifetime achieved by the network\\
\hline

& Average rate of packet generation\\
\hline
& Distance of sensor  to the next hop\\
\hline
\end{tabular}
\caption{Parameters of the problem} \label{Parameters}
\end{center}
\end{table}
We start the network lifetime analysis by considering the lifetime
of one sensor. Defining  as

for sensor , it is clear that the maximum number of packets that
can be transmitted by this sensor is equal to .

\lem \label{Lemma Sensor lifetime} If a sensor node with initial
energy  is randomly placed in the area , the
probability of achieving a lifetime more than a threshold 
will be

where  denotes the lower incomplete gamma
function

and  represents the gamma function


\textit{Proof:} The lifetime of sensor , , depends on the
maximum number of packets that can be transmitted by the sensor to
the sink. Since  is the sum of time durations between packet
transmissions until the last packet is sent by the sensor, we have

where  denotes the time duration between transmitting
packets  and  by sensor , and  is defined as the
time when the first packet is transmitted. Since a Poisson model is
assumed for data packet generation, 's obey an exponential
distribution indicated in (\ref{Packet generation model Exp}). On
the other hand, it is known that the sum of independent identically
distributed (i.i.d) exponential random variables has a gamma
distribution \cite{Ross_Prob}. It is worthy to note that since the
node is deployed randomly in the area, the distance between the node
and the sink and consequently  are a random variables. Hence,
given , the conditional pdf of  can be written as follows

Now
 \hfill 

\prop \label{approx floorP by P} Since the fractional part of 
is usually much smaller than the integer part,  and hence (\ref{ccdf of sensor lifetime}) can be
rewritten as

For simplicity, we use (\ref{ccdf of sensor lifetime
real}) to analyze the network lifetime in the sequel.


\corol \label{Corollary fixed power transmission} In the case of the
fixed transmission range, , each node lives more than the
threshold with probability

where

\textit{Proof:} In this case, all of the 's have a
deterministic value equal to . Therefore, the value of
 in (\ref{ccdf of sensor lifetime real}) is unconditional and
the proof is completed by replacing  by  in (\ref{ccdf of sensor lifetime real}).\hfill 

One can take another approach and approximate the value of  to find a simpler form of (\ref{ccdf of sensor lifetime
real}).

\prop \label{Propositon Q function} Since  in (\ref{t_i the sum of t_ij}) is the sum of i.i.d.
random variables, central limit theorem (CLT)  \cite{Ross_Prob}
indicates that its pdf tends to Gaussian distribution with mean
 and variance . Considering , we
have

where  is the ccdf of the normal distribution. \hfill 

To study the lifetime of the network, we consider the lifetime of
all the nodes in the network which necessitates the knowledge of
 for all of the nodes in the network. When a node is deployed
randomly over an area,  is a random variable with pdf
. In a random network deployment, 's are usually
i.i.d. random variables and consequently have the same distribution,
. This distribution depends on the shape of the area,
energy dissipation model and the pdf of node distribution over the
area. In the Appendix,  is derived for some common area
shapes assuming a uniform distribution for the node deployment.

\theo\label{Lifetime theorem} Assuming  equal-energy nodes are
distributed independently over the area , the probability
that the network achieves a lifetime more than a given threshold,
, is equal to

where


\textit{Proof}: To find the number of nodes that live more than the
lifetime threshold, we define a Bernoulli random variable 
indicating the success of achieving the lifetime threshold by sensor
:

The success probability of , given , is equal to

which was derived in Lemma \ref{Lemma Sensor lifetime}. The number
of live nodes after time  can be found by defining a new
random variable, , that denotes the number of successes in the
Bernoulli trials shown by 's

Since nodes packet generations are independent and 's are
i.i.d., 's and consequently 's are also i.i.d random
variables. In this case,  has a binomial distribution
\cite{Nedleman_Bernoulli_Statistician}. Also, when the number of
trials is large enough, one can approximate the binomial
distribution with a Gaussian distribution. Since the number of nodes
are usually large enough, CLT can be applied on (\ref{W sum of Ki}).
Hence

where  is the mean and  denotes the variance of
. From (\ref{W sum of Ki}), it is clear that

where  is the mean of . Since 's are
independent random variables

where  is the variance of . To find the values
of  and , we need to have the unconditional mean
and variance of 's using the conditional values. Since 's
are Bernoulli random variables

On the other hand, for two random variables  and , the
unconditional mean and variance of  can be found using the
conditional mean and variance as follows \cite{Ross_Prob}

where  is the expected value and 
denotes the variance of the random variable. Using (\ref{s_i related
to gamma function}), (\ref{Mean and var k_i Cond}), (\ref{mean
conditional}) and (\ref{Var conditional}), it can be shown that

Since 's are i.i.d random variables with pdf , we have

Then, using (\ref{Mean of W}) and (\ref{Var of W})


To derive the probability of achieving the lifetime threshold by the
network, we just need to know the probability of achieving the
lifetime by at least  nodes. Hence

where  represents the ccdf of the network lifetime.
\hfill 

\prop \label{Proposition mu Q function} Using Proposition
\ref{Propositon Q function},  can also be calculated as
\hfill 

\corol \label{Corollary lifetime PDF} Assuming a network with
parameters given in Theorem \ref{Lifetime theorem}, the probability
distribution function of the network lifetime is

where

\textit{Proof}: The ccdf of the network lifetime was derived in the
previous theorem. Then we have

which results in (\ref{Lifetime pdf}). \hfill 


\section{Lifetime Analysis in Multi-hop Networks} \label{Section lifetime pdf multi-hop}
In multi-hop networks, the network lifetime depends on the way that
the routing scheme distributes the traffic load among the sensor
nodes. The minimum cost routing (minimum required energy or minimum
number of hops) is conventionally used in wireless networks.
However, this routing scheme cannot guarantee the maximum lifetime
in the network \cite{Al-Karaki_Routing_Magazine2004}. On the other
hand, maximum lifetime routing attempts to prolong the network
lifetime by proper traffic distribution among the nodes. This scheme
may not have the minimum overall consumed energy. Since we mainly
focus on the lifetime analysis, we just consider the maximum
lifetime routing. Nevertheless, the proposed approach can be used for other routing schemes knowing how the traffic is distributed among the nodes.

In multi-hop networks, the whole network traffic passes through the
nodes in the vicinity of the sink, hence, death of these nodes can
have a significant effect on the network performance. Therefore, we
need to modify our previous definition of the lifetime.

Assume that  shows the set of nodes that are in the
vicinity of the sink and directly communicate with it. Since all
other nodes communicate to the sink through these nodes, they will
be out of energy sooner than the other ones. So, we define the
lifetime based on the ratio of dead nodes within  to  where  denotes the cardinality
of the set. It is also assumed that the sensors are distributed over
a circle with radius  and the data sink is positioned at the
center of the area. The lifetime of the network over other area
shapes will be discussed later.

We assume that the sensors perform transmission with a fixed power
which results in a fixed transmission range . Based on the
maximum transmission radius of the sensors and the area radius, the
area can be divided to a number of rings (Figure \ref{Fig Tx
rings}). The sensors within a ring send their data to the sensors
within the neighboring inner ring. The number of rings, , within
the area can be simply found as

where  denotes the integer ceiling. For
simplicity, it is assumed that  is an integer multiple of .
This assumption allows us to focus on methodologies and can be
removed if necessary. In addition, since each ring carries the
traffic of all outer rings, the average traffic carried by the
sensors within each ring is different and depends on the distance of
the ring to the sink. To study the network lifetime, we consider the
case when the routing scheme distributes the network traffic equally
between the nodes within each ring. This scheme prevents the nodes
from being exhausted quickly and prolongs the lifetime.

\begin{figure}[!h]
\centering
\includegraphics[scale=.11]{Multihop_Net.eps}
\caption{Rings within a multi-hop network} \label{Fig Tx rings}
\end{figure}

Based on the assumed routing scheme, the average rate of the packet
transmission by each node within ring  is equal to

where  denotes the number of sensors within ring . Since
nodes are assumed to be deployed randomly in the area,  is a
binomial random variable. If one assumes a uniform deployment for
the nodes,  will have a binomial distribution with mean 
where

represents the probability of positioning a sensor in the ring .
Therefore, the time duration between two consequent transmissions,
, by a node in the ring  obeys an exponential distribution as
follows

Since the lifetime is mainly effected by the nodes within the first
tier, we just consider the probability of achieving the lifetime
threshold by the first ring. Nevertheless, the probability of
achieving  by other rings can also be investigated using
(\ref{exponential model for rings}). As discussed earlier,
probability of achieving a lifetime threshold depends on the number
of nodes within the area. Hence, using Theorem \ref{Lifetime
theorem} and Corollary \ref{Corollary fixed power transmission}, one
can find the conditional probability of achieving  by the
first ring

where

Therefore, by removing the condition on  in (\ref{ccdf for the
first ring}), we have

where


The given discussion is not restricted to circular areas and can
also be applied to other area shapes. To study the lifetime of the
network in other area shapes, we just need to recalculate the value
of  as follows

where  is the size of area. Then, ccdf of the lifetime is derived
by putting this value of  into (\ref{Unconditioing Ni}).

\section{Some Notes} \label{Section Extnesion}
In Section \ref{Section Prob Model Single Hop}, we considered the
finite number of nodes in the area. We will study the asymptotic
analysis in this section. Also, we earlier studied the case when all
of the sensors have the same features such as traffic model, initial
energy and deployment. In addition, the packet generation model was
supposed to be Poisson. Here, we provide some discussions on the
results in Section \ref{Section Prob Model Single Hop} and
generalize them for more cases.

\subsection{Asymptotic Analysis}
Since the lifetime ccdf in (\ref{Probability Formula}) depends on
the number of nodes distributed over the area, we can study the
effect of the node density on the probability of achieving the
lifetime threshold.

\corol \label{Corollary on node density} The probability of
achieving a lifetime threshold approaches 0 or 1 by increasing the
number of nodes.

\textit{Proof:} For large , two cases can happen depending on the
sign of . Since -function is a decreasing
function, when , increasing  causes the probability of hitting the lifetime
threshold to tend . In other words, almost surely the
given lifetime threshold cannot be achieved. Now, considering that
\cite{Salehi_Commsystems}

the rate of the probability decay is proportional to . In a
similar manner, the probability approaches  when . That is, the network almost surely achieves the lifetime
threshold. The error in this prediction also decays exponentially
with . \hfill 

An interesting case occurs when one considers the lifetime of the
network based on the death of the first node. In this case , which approaches 0 when  increases. Hence,
according to the Corollary \ref{Corollary on node density}, it is
necessary to consider just the sign of  in order to predict
the asymptotic behavior of the network lifetime (i.e. when
). Assuming , we have

and consequently . Therefore, under this stringent
definition of the lifetime, the probability of achieving the
lifetime  approaches 0 as  increases.

\subsection{Different Traffic Models}
In Section \ref{Section Prob Model Single Hop}, we considered the
case when all of the sensors have the same Poisson model for the
packet generation. Here, we consider two other cases: 1) The average
rate of packet generation changes with the position of the sensor,
2) packet generation obeys another model rather than Poisson. It is
worthy to note that the assumed model is similar for all of the
sensors.

If the average rate of packet generation, , varies with the
position of the sensor (e.g. due to the spatial correlation of data
or data aggregation and compression), we have the mean and variance
of  conditioned on both  and . To derive the
unconditional mean and variance of , we need to calculate

where  denotes the joint pdf of  and
. Other parts of the analysis will remain unchanged.

Also, the proof given for Theorem \ref{Lifetime theorem} can be
applied to the cases when the traffic model obeys another pattern
rather than Poisson model. Assume that the pdf of the time duration
between two packet transmissions follows a model with mean 
and variance . Using CLT,  can be accurately
approximated by a Gaussian distribution with mean  and
variance . The remaining part of the proof is
unchanged.

The proposed analysis can also be extended to time-driven networks.
In this case, the time duration between two consequent transmissions
is fixed and is equal to . Hence

The unconditional values of  and  is found by
integration over . Then, the result given in Theorem
\ref{Lifetime theorem} can be applied.

\subsection{Nonuniform Energy Distribution}
Assume that the energy is distributed over the network in a
nonuniform way. As a consequence, 's in (\ref{s_i related to
gamma function}) are not identically distributed. This may also
arise when the sensors generate packets with different rates (i.e.
nonidentical Poisson distributions). In this situation,  does not
have any standard distribution, however, we can still use CLT to
approximate the pdf of  with a Gaussian distribution. To this
end, we will give a brief discussion on the probability of achieving
the lifetime threshold by the network.
\lem\label{Lemma Surprising} Assume that 's ()
are  independent random variables such that

where  denotes the mean of . Also, 's () are  Bernoulli trials such that

Now, if  denotes the sum of 's, the variance of  is
maximum when

(see \cite{Nedleman_Bernoulli_Statistician} for the proof).

\corol \label{Corollary} For nonidentical distributed 's such
that

(\ref{Probability Formula}) is an upper bound for the probability of
achieving the lifetime when , otherwise it is a
lower bound.

\textit{Proof:} Since we assumed the identical distribution in the
proof of Theorem \ref{Lifetime theorem}, Lemma \ref{Lemma
Surprising} indicates that  in (\ref{mu and var w }) is
the maximum possible variance of . The proof is completed
considering the decreasing property of the -function. \hfill


\section{Experimental results}\label{Section Simulations}
In this section, we investigate the accuracy of the proposed
analysis through some experiments. We first study the probability of
achieving a lifetime threshold in single-hop networks. To this end,
the simulations are performed over different area shapes with the
same area size to investigate the effect of the area shape. In
addition, the effect of the node density is studied. Moreover,
simulations are performed to study the network lifetime in multi-hop
networks. Through these simulations, it will be shown that how the
transmission range and consequently the number of hops effect the
lifetime of the network.

\subsection{Single-hop Networks}
The parameters of model (\ref{Power dissipation model}) depend on
the data rate, antenna height, antenna gain, etc. Typical values of
 and  are given in \cite{Heinzelman_Phd_Thes}. For , which we use in our simulations, the values of  and 
are respectively 0.0013 pJ/bit/ and 50 nJ/bit for a
1Mbps data stream. Here, It is assumed that the packets have 1000
bits length, hence, 1.3 pJ/ and 50 J in
(\ref{Power dissipation model}).

Network has 500 nodes that are deployed uniformly and sink is
positioned at the center of the area. Also, the packet generation
model obeys the Poisson distribution and each sensor sends its
packets directly to the sink. All of the sensors have the same
initial energy equal to 11 mJ. Assuming that sensors send packet
with the average rate of 1 packet/hour, the probability of achieving
the lifetime of 100 hours is studied through simulation.

To investigate the effect of the area shape on the lifetime, the
simulations are carried out over areas with the same size equal to
 but with different shapes. To decrease the
final result variance and reach the proper confidence interval, the
simulation is run 10000 times over each area and the results are
averaged.

Figure \ref{Beta Diff area shapes} depicts the probability of
achieving the lifetime threshold vs. the ratio of dead nodes over
circular, hexagonal, squared and triangular areas. As it can be
seen, the probability of achieving the lifetime threshold in
circular, hexagonal and squared areas are very close. Since in a
triangle, the distance of the sensors to the sink is more
non-uniform and it has the largest circumcircle compared to other
area shapes, triangle has a smaller probability to achieve the
lifetime threshold.

\begin{figure}[!h]
\centering
\includegraphics[scale=.41]{REsult_Diff_Area.eps}
\caption{Probability of achieving the lifetime threshold vs. the
ratio of dead nodes for single-hop networks deployed over different
area shapes} \label{Beta Diff area shapes}
\end{figure}

As discussed through the paper, depending on the value of  and by increasing the number of nodes, it can be almost
surely determined whether the network achieves a lifetime threshold
or not. The effect of the node density on achieving the lifetime
threshold is shown in Figure \ref{Fig Node density effect}. The
lifetime of the network is considered as the moment when 0.3 of the
nodes in the network die. In the first case,  mJ which
results in . Hence, as discussed in Section
\ref{Section Extnesion}, the desired probability decreases by
increasing  which is verified by the simulation. In the second
case, the initial energy is equal to 11.6 mJ which causes . As shown in Figure \ref{Fig Node density effect},
the probability of achieving the desired lifetime is an increasing
function of .

\begin{figure}[!h]
\centering
\includegraphics[scale=.41]{Diff_N_results_fig.eps}
\caption{Probability of achieving the lifetime threshold vs. the
number of sensors in a single-hop network} \label{Fig Node density
effect}
\end{figure}

\subsection{Multi-hop Networks}
To study the network lifetime in a multi-hop network, it is assumed
that 500 nodes are deployed uniformly over a circle with radius 100 m. All of the nodes have the same initial energy
equal to  mJ. The parameters in (\ref{Power dissipation
model}) are kept the same as the previous part. A greedy routing
algorithm is used to balance the network traffic such that data
packets are identically distributed between the nodes in the first
ring of the network, . Considering this fact that all of
the nodes use a constant transmission power and the traffic is
distributed identically between the first-ring nodes, all of the
nodes within  have approximately similar lifetime. As a
consequence, they die in time moments very close to each other.
Therefore, we can say that the desired probability is not
significantly effected by the value of  (Figure \ref{Fig Beta
Multihop}).

\begin{figure}[!h]
\centering
\includegraphics[scale=.41]{Result_multihop_Beta.eps}
\caption{Probability of achieving the lifetime threshold vs. the
ratio of dead nodes in a multi-hop network} \label{Fig Beta
Multihop}
\end{figure}

It is interesting to study the effect of the transmission range and
consequently the number of hops on the lifetime. Figure \ref{Fig
multihop Tx range} depicts the probability of reaching the lifetime
threshold vs. the transmission range. The lifetime is considered as
the moment when 0.3 nodes within  are dead. By
decreasing , number of nodes within  decreases, hence,
they carry more packets and will die earlier. Therefore, it is
expected that the desired probability decreases by reducing .
Indeed, while the nodes far from the sink still have enough energy
to send packets, the nodes within  cease. To overcome this
drawback, nonuniform energy distribution can be applied
\cite{IEEE_Monograph}. Also, the fixed transmission power causes the
nodes within  to die sooner compared to the case where nodes adjust their transmission power.

\begin{figure}[!h]
\centering
\includegraphics[scale=.41]{Result_multihop.eps}
\caption{Probability of achieving the lifetime threshold vs. the
transmission range in a multi-hop network} \label{Fig multihop Tx
range}
\end{figure}

\section{conclusions}\label{Section Conclusion}
In this paper, we considered the problem of finding the probability
of achieving a lifetime threshold by the network which is equivalent
to finding the ccdf of the network lifetime. Using the power
consumption model of (\ref{Power dissipation model}), the ccdf of
the lifetime was derived for the single-hop networks. To this end,
it was assumed that all of the nodes have identical packet
generation model, initial energy and random deployment in the area.
The methodology was also extended to the case when these conditions
may not be satisfied. Then, the problem was studied for the
multi-hop case. In addition, the asymptotic relation between the
number of nodes and the lifetime was investigated. Through some
simulations, the accuracy of our analysis was investigated for the
networks deployed over different area shapes. Using the proposed
method, one can design both node and network parameters (e.g. node
density, data rate, initial energy) according to the desired
lifetime.

\section*{Appendix}\label{Appendix pdf of p}
The pdf of the network lifetime depends on the distribution of the
maximum possible number of packet transmissions by each node, .
In this appendix, we find the pdf of  over some common area
shapes. The pdf of  over a circle area is required for finding
the lifetime pdf of multi-hop networks in Section \ref{Section
lifetime pdf multi-hop}. Also, this pdf over regular polygons is
useful for studying the lifetime of a network composed of clusters
tiling the area.

\subsection{Network Deployed Over a Circle}
Assume that the nodes are deployed uniformly over a circle with radius .
Also, assume that the sink is located at the center of the circle.
Since the nodes are deployed uniformly over the area, the pdf of the
distance between the nodes and sink, , is

Now, using the energy consumption model (\ref{Power dissipation
model}), we have the following expression for the pdf of 


\subsection{Network Deployed Over a Regular Polygon}
Suppose that the sensors are deployed over a regular polygon having
 equal sides with length . Again, we assume that the sink is
placed at the center of the area. In this case, we have

where

is the radius of the inscribed circle of the polygon,

represents the radius of the circumcircle of the polygon and

denotes the polygon area. Now, using the relation between  and
, we have

when

and

when

and  elsewhere.

\begin{thebibliography}{10}
\providecommand{\url}[1]{#1} \csname url@rmstyle\endcsname
\providecommand{\newblock}{\relax} \providecommand{\bibinfo}[2]{#2}
\providecommand\BIBentrySTDinterwordspacing{\spaceskip=0pt\relax}
\providecommand\BIBentryALTinterwordstretchfactor{4}
\providecommand\BIBentryALTinterwordspacing{\spaceskip=\fontdimen2\font
plus \BIBentryALTinterwordstretchfactor\fontdimen3\font minus
  \fontdimen4\font\relax}
\providecommand\BIBforeignlanguage[2]{{\expandafter\ifx\csname l@#1\endcsname\relax
\typeout{** WARNING: IEEEtran.bst: No hyphenation pattern has been}\typeout{** loaded for the language `#1'. Using the pattern for}\typeout{** the default language instead.}\else \language=\csname l@#1\endcsname \fi #2}}

\bibitem{Chandr_Upperbound_ICC}
M.~Bhardwaj, T.~Garnett, and A.~P. Chandrakasan, ``Upper bounds on
the lifetime
  of sensor networks,'' in \emph{Communications, 2001. {ICC} 2001. {IEEE}
  International Conference on}, vol.~3, Helsinki, Finland, 2001, pp. 785--790.

\bibitem{Chandr_Upperbound_Role_Infocom}
M.~Bhardwaj and A.~P. Chandrakasan, ``Bounding the lifetime of
sensor networks
  via optimal role assignments,'' in \emph{{INFOCOM} 2002. Twenty-First Annual
  Joint Conference of the {IEEE} Computer and Communications Societies.
  Proceedings. {IEEE}}, vol.~3, 2002, pp. 1587--1596.

\bibitem{Azad_Multipe_Globecom}
A.~P. Azad and A.~Chockalingam, ``{WLC}12-2: Bounds on the lifetime
of wireless
  sensor networks employing multiple data sinks,'' in \emph{Global
  Telecommunications Conference, 2006. {GLOBECOM} '06. {IEEE}}, San Francisco,
  CA, USA, Nov. 2006, pp. 1--5.

\bibitem{Santi_Lifetime_cellbased}
D.~M. Blough and P.~Santi, ``Investigating upper bounds on network
lifetime
  extension for cell-based energy conservation techniques in stationary ad hoc
  networks,'' in \emph{MobiCom '02: Proceedings of the 8th annual international
  conference on Mobile computing and networking}.\hskip 1em plus 0.5em minus
  0.4em\relax New York, NY, USA: ACM Press, 2002, pp. 183--192.

\bibitem{Hou_Alpha_lifetime}
H.~Zhang and J.~Hou, ``On deriving the upper bound of
-lifetime for
  large sensor networks,'' in \emph{MobiHoc '04: Proceedings of the 5th ACM
  international symposium on Mobile ad hoc networking and computing}.\hskip 1em
  plus 0.5em minus 0.4em\relax New York, NY, USA: ACM Press, 2004, pp.
  121--132.

\bibitem{Rai_Lifetime_Modeling_DATE}
V.~Rai and R.~N. Mahapatra, ``Lifetime modeling of a sensor
network,'' in
  \emph{DATE '05: Proceedings of the conference on Design, Automation and Test
  in Europe}.\hskip 1em plus 0.5em minus 0.4em\relax Washington, DC, USA: IEEE
  Computer Society, 2005, pp. 202--203.

\bibitem{Kolchin_Random_allocation}
V.~Kolcihn, B.~Sevast'yanov, and V.~Chistyakov, \emph{Random
Allocations},
  A.~V. Balakrishnan, Ed.\hskip 1em plus 0.5em minus 0.4em\relax Washington
  D.c.: Winston and Sons, 1978.

\bibitem{DuarteMelo_Hetereogen_Globecom}
E.~J. Duarte-Melo and M.~Liu, ``Analysis of energy consumption and
lifetime of
  heterogeneous wireless sensor networks,'' in \emph{Global Telecommunications
  Conference, 2002. {GLOBECOM} '02. {IEEE}}, vol.~1, Nov. 2002, pp. 21--25.

\bibitem{Ganz_Lifetime_LargNet_Elsevier}
Q.~Xue and A.~Ganz, ``On the lifetime of large scale sensor
networks,''
  \emph{Elsevier Journal on Computer Communications}, vol.~29, pp. 502--510,
  2006.

\bibitem{Bydere_reliable_IEICE}
S.~Baydere, Y.~Safkan, and O.~D. Incel, ``Lifetime analysis of
reliable
  wireless sensor networks,'' \emph{IEICE Transactions on Communications}, pp.
  2465--2472, 2005.

\bibitem{Chen_Lifetime_Commletter}
Y.~Chen and Q.~Zhao, ``On the lifetime of wireless sensor
networks,''
  \emph{{IEEE} Communications Letters}, vol.~9, no.~11, pp. 976--978, Nov.
  2005.

\bibitem{Coleri_Automata_WSNA}
S.~Coleri, M.~Ergen, and T.~J. Koo, ``Lifetime analysis of a sensor
network
  with hybrid automata modelling,'' in \emph{WSNA '02: Proceedings of the 1st
  ACM international workshop on Wireless sensor networks and
  applications}.\hskip 1em plus 0.5em minus 0.4em\relax New York, NY, USA: ACM
  Press, 2002, pp. 98--104.

\bibitem{Al-Karaki_Routing_Magazine2004}
J.~N. Al-Karaki and A.~E. Kamal, ``Routing techniques in wireless
sensor
  networks: a survey,'' \emph{{IEEE} [see also {IEEE} Personal Communications]
  Wireless Communications}, vol.~11, no.~6, pp. 6--28, Dec. 2004.

\bibitem{Heinzelman_TCOM}
W.~B. Heinzelman, A.~P. Chandrakasan, and H.~Balakrishnan, ``An
  application-specific protocol architecture for wireless microsensor
  networks,'' \emph{{IEEE} Transactions on Wireless Communications}, vol.~1,
  no.~4, pp. 660--670, Oct. 2002.

\bibitem{Madan_Distributed_Routing_TWireless}
R.~Madan and S.~Lall, ``Distributed algorithms for maximum lifetime
routing in
  wireless sensor networks,'' \emph{{IEEE} Transactions on Wireless
  Communications}, vol.~5, no.~8, pp. 2185--2193, Aug. 2006.

\bibitem{Chang_Energy_Conserving_Infocom}
J.-H. Chang and L.~Tassiulas, ``Energy conserving routing in
wireless ad-hoc
  networks,'' in \emph{{INFOCOM} 2000. Nineteenth Annual Joint Conference of
  the {IEEE} Computer and Communications Societies. Proceedings. {IEEE}},
  vol.~1, Tel Aviv, Israel, Mar. 2000, pp. 22--31.

\bibitem{Heinemann_ACM_Mobicom2001}
Y.~Xu, J.~Heidemann, and D.~Estrin, ``Geography-informed energy
conservation
  for ad hoc routing,'' in \emph{MobiCom '01: Proceedings of the 7th annual
  international conference on Mobile computing and networking}.\hskip 1em plus
  0.5em minus 0.4em\relax New York, NY, USA: ACM Press, 2001, pp. 70--84.

\bibitem{Oym_ICC_2004}
E.~I. Oyman and C.~Ersoy, ``Multiple sink network design problem in
large scale
  wireless sensor networks,'' in \emph{Communications, 2004 {IEEE}
  International Conference on}, vol.~6, June 2004, pp. 3663--3667.

\bibitem{Hein_Tranmission_model_2000}
W.~R. Heinzelman, A.~Chandrakasan, and H.~Balakrishnan,
``Energy-efficient
  communication protocol for wireless microsensor networks,'' in \emph{HICSS
  '00: Proceedings of the 33rd Hawaii International Conference on System
  Sciences}, vol.~8.\hskip 1em plus 0.5em minus 0.4em\relax Washington, DC,
  USA: IEEE Computer Society, Jan. 2000, pp. 30--37.

\bibitem{Ross_Prob}
S.~M. Ross, \emph{Introduction to Probability Models}, 7th~ed.\hskip
1em plus
  0.5em minus 0.4em\relax San Diego, US: Academic Press, 2000.

\bibitem{Nedleman_Bernoulli_Statistician}
J.~Nedelman and T.~Wallenius, ``{Bernoulli} trials, {Poisson}
trials,
  surprising variances, and {Jensen}'s inequality,'' \emph{Journal of American
  Statistician Association}, vol.~40, no.~4, pp. 286--289, Nov. 1986.

\bibitem{Salehi_Commsystems}
J.~G. Proakis and M.~Salehi, \emph{Communication Systems
Engineering},
  2nd~ed.\hskip 1em plus 0.5em minus 0.4em\relax Upper Saddle River, NJ, USA:
  Prentice-Hall, 2004.

\bibitem{Heinzelman_Phd_Thes}
W.~B. Heinzelman, ``Application-specific protocol for wireless
networks,''
  Ph.D. dissertation, Massachusetts Institute of Technology, 2000.

\bibitem{IEEE_Monograph}
S.~Phoha, T.~F.~L. Porta, and C.~Griffin, Eds., \emph{IEEE Monograph
on Sensor
  Network Operations}, 6th~ed.\hskip 1em plus 0.5em minus 0.4em\relax San
  Diego, US: IEEE Press, 2004.

\end{thebibliography}

\end{document}
