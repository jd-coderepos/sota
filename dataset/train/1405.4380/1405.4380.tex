\documentclass[english]{IEEEtran}
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}

\makeatletter
\theoremstyle{plain}
\newtheorem{thm}{\protect\theoremname}
\theoremstyle{plain}
\newtheorem{cor}[thm]{\protect\corollaryname}
\theoremstyle{plain}
\newtheorem{lem}[thm]{\protect\lemmaname}
\theoremstyle{remark}
\newtheorem{rem}[thm]{\protect\remarkname}

\usepackage{cite}
\allowdisplaybreaks

\makeatother

\usepackage{babel}
\providecommand{\corollaryname}{Corollary}
\providecommand{\lemmaname}{Lemma}
\providecommand{\remarkname}{Remark}
\providecommand{\theoremname}{Theorem}

\begin{document}

\title{Transport Capacity of Distributed Wireless CSMA Networks}


\author{Tao Yang, Guoqiang Mao, \emph{Senior Member, IEEE}, Wei Zhang, \emph{Senior
Member IEEE} and Xiaofeng Tao, \emph{Senior Member IEEE}\thanks{T. Yang is with the School of Electrical and Information Engineering,
The University of Sydney. Email: tao.yang@sydney.edu.au.}\emph{}\thanks{G. Mao is with the School of Computing and Communications and Center
for Real-time Information Networks, The University of Technology,
Sydney, and National ICT Australia. Email: guoqiang.mao@uts.edu.au.}\emph{}\thanks{W. Zhang is with the School of Electrical Engineering \& Telecommunications,
The University of New South Wales. Email: wzhang@ee.unsw.edu.au.}\emph{}\thanks{X. Tao is with National Engineering Lab. for Mobile Network Security, Beijing University of Posts and Telecommunications. Email: taoxf@bupt.edu.cn.}\emph{}\thanks{This research is funded by ARC Discovery projects: DP110100538 and
DP120102030.}}
\maketitle
\begin{abstract}
In this paper, we study the transport capacity of large multi-hop
wireless CSMA networks. Different from previous studies which rely
on the use of centralized scheduling algorithm and/or centralized
routing algorithm to achieve the optimal capacity scaling law, we
show that the optimal capacity scaling law can be achieved using entirely
distributed routing and scheduling algorithms. Specifically, we consider
a network with nodes Poissonly distributed with unit intensity on
a  square . Furthermore,
each node chooses its destination randomly and independently and transmits
following a CSMA protocol. By resorting to the percolation theory
and by carefully tuning the three controllable parameters in CSMA
protocols, i.e. transmission power, carrier-sensing threshold and
count-down timer, we show that a throughput of 
is achievable in distributed CSMA networks. Furthermore, we derive
the pre-constant preceding the order of the transport capacity by
giving an upper and a lower bound of the transport capacity. The tightness
of the bounds is validated using simulations.\end{abstract}
\begin{IEEEkeywords}
Capacity, per-node throughput, CSMA, wireless networks 
\end{IEEEkeywords}

\section{Introduction\label{sec:Introduction}}

Wireless multi-hop networks have been increasingly used in civilian
and military applications. In a wireless multi-hop network, nodes
communicate with each other via wireless multi-hop paths, and packets
are forwarded collaboratively hop-by-hop by intermediate relay nodes
from sources to their respective destinations. Studying the capacity
of these networks is an important problem. 

Capacity of large wireless networks has been extensively investigated
with a particular focus on the throughput scaling laws when the network
becomes sufficiently large \cite{Chau11Capacity,Cho06Capacity,Dousse06On,Franceschetti07Closing,Grossglauser02Mobility,Gupta00Capacity,Gupta00Internets,Hu10A,Kulkarni04A,Li09Impacts,Xie04A}.
Two metrics are widely used in the study of network capacity: transport
capacity and transmission capacity. The transport capacity quantifies
the end-to-end throughput that can be achieved between source-destination
pairs whereas the transmission capacity, often used together with
another metric\emph{ }outage probability, quantifies the achievable
single-hop rates in large wireless networks. The transport capacity
is useful to capture the impact of network topology, routing and scheduling
algorithms on network capacity \cite{Alfano09Capacity,Chau11Capacity,Cho06Capacity,Dousse06On,Franceschetti07Closing,Grossglauser02Mobility,Gupta00Capacity,Hu10A,Kulkarni04A,Li09Impacts,Li11The,Yang12Capacity}.
Comparatively, the transmission capacity is more useful when the focus
is on the impact of physical layer details, e.g., fading, interference
and signal propagation model, on the capacity of large networks \cite{Andrews10Random,Ganti11High,Ganti09Interference,Weber10An,Baccelli09Stochastic}.
In this paper, we focus on the study of the transport capacity.

In the ground-breaking work \cite{Gupta00Capacity} by Gupta and Kumar,
it was shown that in a static network of  nodes uniformly and
i.i.d. on an area of unit size and each node is capable of transmitting
at  bits/second and using a fixed and identical transmission range,
the achievable per-node throughput is 
when each node chooses its destination randomly and independently.
If nodes are optimally and deterministically placed to maximize capacity,
the achievable per-node throughput becomes .
In a more general setting, assuming only that power attenuates with
distance following a power-law relationship, Xie and Kumar \cite{Xie04A}
showed that  is an upper bound
on the per-node throughput of wireless networks, regardless of the
scheduling and routing algorithm being employed. Since then, a number
of solutions have been proposed to achieve the above upper bounds
under various network settings and using various routing and scheduling
algorithms \cite{Alfano09Capacity,Chau11Capacity,Cho06Capacity,Dousse06On,Franceschetti07Closing,Grossglauser02Mobility,Gupta00Capacity,Hu10A,Kulkarni04A,Li09Impacts,Li11The,Yang12Capacity}.
In \cite{Franceschetti07Closing}, Franceschetti \emph{et al.} considered
the same network as that in \cite{Gupta00Capacity} except that nodes
are allowed to use two different transmission ranges. They showed
that by using a routing scheme based on the so-called ``highway system''
and a centralized/deterministic time division multiple access (TDMA)
scheme, the per-node throughput can reach 
even when nodes are randomly located. Specifically, the highway system
is formed by nodes using the smaller transmission range, whereas the
larger transmission range is used for the last mile, i.e., between
the source (or destination) and its nearest highway node. The existence
of highway system was established using the percolation theory. 

Other work in the field includes \cite{Grossglauser02Mobility} in
which Grossglauser and Tse showed that in mobile networks, by leveraging
on the nodes' mobility, a per-node throughput of 
can be achieved at the expense of large delay. Their work \cite{Grossglauser02Mobility}
has sparked huge interest in studying the capacity-delay tradeoffs
in mobile networks assuming various mobility models and the obtained
results often vary greatly with the different mobility models being
considered, see \cite{Jacquet12On,Kong08Connectivity,Li09Capacity,Neely05Capacity,EI06Optimal,EI06OptimalThroughput}
and references therein for examples. In \cite{Chen09Order}, Chen
\emph{et al.} studied the capacity of wireless networks under a different
traffic distribution. In particular, they considered a set of 
randomly deployed nodes transmitting to a single sink or multiple
sinks where the sinks can be either regularly deployed or randomly
deployed. They showed that with single sink, the transport capacity
is given by ; with  sinks, the transport
capacity is increased to  when 
or  when .
Furthermore, there is also significant amount of work studying the
impact of infrastructure nodes \cite{Zemlianov05Capacity} and multiple-access
protocols \cite{Durvy09On,Alfano11New} on the capacity and the multicast
capacity \cite{Li09Multicast}. We refer readers to \cite{Haenggi09Stochastic}
for a comprehensive review of related work.

The above work of Franceschetti \emph{et al.} \cite{Franceschetti07Closing}
and Gupta and Kumar \cite{Gupta00Capacity,Xie04A}, and most other
work in the field \cite{Alfano09Capacity,Cho06Capacity,Dousse06On,Hu10A,Kulkarni04A,Li09Impacts,Li11The},
established the capacity of wireless multi-hop networks using centralized
scheduling and routing schemes, which may not be appropriate for large-scale
networks being investigated in \cite{Franceschetti07Closing,Gupta00Capacity,Xie04A}. 

In a recent work \cite{Chau11Capacity}, Chau \emph{et al.} took the
lead in studying the throughput of CSMA networks. They showed that
CSMA networks can achieve the per-node throughput ,
the same order as networks using optimal centralized TDMA, if multiple
back off countdown rates are used in the distributed CSMA protocol
and packets are routed using the highway system proposed in \cite{Franceschetti07Closing}.
While the use of distributed CSMA for scheduling in \cite{Chau11Capacity}
constitutes a significant advance compared with the centralized TDMA
considered in previous work, the routing scheme in \cite{Chau11Capacity}
still relies on the highway system, which needs centralized coordination
to identify the highway nodes and to establish the highway. The centralized
routing scheme used in \cite{Chau11Capacity} is not compatible with
the distributed CSMA scheduling scheme. In this sense, the routing
and scheduling scheme in \cite{Chau11Capacity} is not entirely distributed
and may not be suitable for large-scale networks. Furthermore, the
deployment of the highway system in CSMA networks requires two different
carrier-sensing ranges to be used: a smaller carrier-sensing range
used by the highway nodes and a larger carrier-sensing range used
by the remaining nodes to access the highway. The use of two different
carrier-sensing ranges may exacerbate the hidden node problem in CSMA
networks, which will be explained in detail in Section \ref{sec:Hidden-node-free-design}.
To conquer the potential hidden problem brought by the use of two
different carrier-sensing ranges, the entire frequency bandwidth is
divided into two sub-bands for use by the two types of nodes employing
different carrier-sensing ranges respectively. This imposes additional
hardware requirements on the nodes and also causes spectrum waste.

Based on the above observation, we are motivated to develop a distributed
scheduling and routing algorithm to achieve the order-optimal throughput
in CSMA networks in this paper. Specifically, by resorting to the
percolation theory and by carefully tuning the three controllable
parameters in CSMA protocols, i.e., transmission power, carrier-sensing
threshold and count-down timer, we show that a throughput of 
is achievable in distributed CSMA networks. Furthermore, we analyze
the pre-constant preceding the order of the transport capacity by
giving an upper and a lower bound of the transport capacity. The tightness
of the bounds is established using simulations.

The following is a detailed summary of our contributions:
\begin{itemize}
\item We develop a distributed routing and scheduling algorithm that is
able to achieve the order-optimal throughput in CSMA networks. More
specifically, the routing decision relies on the use of local neighborhood
knowledge only and each node competes for channel access in a distributed
and randomized manner using CSMA protocols.
\item We demonstrate that by jointly tuning the carrier-sensing threshold
and the transmission power, the hidden node problem can be eliminated
even for nodes using different carrier-sensing thresholds, different
transmission powers and a common frequency band. This is different
from the techniques used in the previous work \cite{Chau11Capacity}
where nodes using different carrier-sensing ranges have to use different
frequency band for transmission. The technique developed provides
guidance on setting the carrier-sensing threshold and the transmission
power to avoid the hidden node problem in CSMA networks in a more
general setting.
\item We analyze the pre-constant preceding the order of the transport capacity
by giving an upper and a lower bound of the transport capacity. As
pointed out in \cite{Haenggi09Stochastic}, the pre-constant is important
to fully understand the impact of various parameters on network capacity.
\item Extensive simulations are carried out which validate the tightness
of our analytical results.
\end{itemize}
The rest of this paper is organized as follows. Section \ref{sec:Related-work}
reviews related work; Section \ref{sec:Network-Model} presents the
network model and defines notations and concepts used in the later
analysis; Section \ref{sec:Routing Scheme} describes the routing
algorithm and analyzes the traffic load of each node; Section \ref{sec:Hidden-node-free-design}
presents the solution for obtaining a hidden node free CSMA network;
Section \ref{sec:Capacity-Analysis} optimizes the medium access probability
for each node by tuning the back off timer and analyzes the per-node
throughput under our proposed communication strategy; Finally, Section
\ref{sec:Conclusion} concludes the paper.


\section{Related Work\label{sec:Related-work}}

In addition to the work mentioned in Section \ref{sec:Introduction}
on general studies of network capacity, in this section we further
review work closely related to research and theoretical analysis in
this paper.

Limited work exists on analyzing capacity of large networks running
distributed routing and scheduling algorithms, despite their extensive
deployment in real networks. Reference \cite{Chau11Capacity} discussed
in Section \ref{sec:Introduction} was among the first work studying
the capacity of networks employing distributed and randomized CSMA
protocols and showed that these networks can achieve the same order-optimal
throughput of  as networks
employing centralized TDMA schemes. Yang \emph{et al} \cite{Yang12Capacity}
studied the achievable throughput of three dimensional CSMA networks.
Ko \emph{et al} \cite{Ko13Optimization} showed that in CSMA networks,
by jointly optimizing the transmission range and packet generation
rate, the end-to-end throughput and end-to-end delay can scale as
 and ,
respectively. Byun \emph{et al} \cite{Byun13Delay} showed that distributed
slotted ALOHA protocols can have order-optimal throughput. Unlike
in ALOHA, where each node access the medium \emph{independently} with
a prescribed probability, nodes of CSMA networks suffer from a\emph{
spatial correlation problem}, which means that the activity of a node
is dependent on the activities of other nodes due to the carrier-sensing
operation. This correlation problem makes the analysis of interference
and capacity of CSMA networks more challenging than that of ALOHA
networks. Therefore, although both ALOHA and CSMA are distributed
medium access control protocols, the results obtained for ALOHA networks
are not directly applicable to CSMA networks.

Some research efforts were also devoted to modeling the spatial distribution
of concurrent transmitters obeying carrier-sensing constraints and
the distribution of interference resulting from these transmitters.
The spatial distribution of concurrent transmitters following CSMA
protocols are often modeled by the Matï¿½rn hard-core point process
(p.p.) and sometimes \emph{approximated} by the Poisson point process
\cite{Nguyen12On,Busson09Point,Baccelli09Stochastic,Haenggi09Interference,Haenggi11Mean}.
In more recent studies \cite{Busson09Point,Alfano11New,Haenggi11Mean},
the Random Sequential Absorption (RSA) p.p. was proposed as a more
natural model for representing the spatial distribution of concurrent
CSMA transmitters. Nguyen and Baccelli \cite{Nguyen12On} studied
the RSA p.p. by characterizing its generating functional and derived
upper and lower bounds for the generating functional. Furthermore,
the authors of \cite{Nguyen12On} derived the network performance
metrics, viz., average medium access probability and average transmission
success probability (two commonly used metrics in the study of transmission
capacity), in terms of the generating functional. Alfano \emph{et
al.} in \cite{Alfano11New} obtained \emph{approximately} the transmission
capacity distribution. The above work \cite{Nguyen12On,Alfano11New}
studied the transmission capacity by investigating the transmission
success probability and the medium access probability of a \emph{typical}
node, which quantifies the spatial \emph{average performance} of the
network. In comparison, the transport capacity often quantifies the
throughput that can be achieved by \emph{every} source-destination
pair (asymptotically almost surely), which is often associated with
the \emph{worst case} performance.

Improving spatial frequency reuse of CSMA networks is an important
problem that has also been extensively investigated, see \cite{Alawieh09Improving,Kim08Understanding,Lin07Interplay}
for the relevant work. However, high level of spatial frequency reuse
does not directly lead to increased end-to-end throughput because
the latter performance metric also critically relies on the communication
strategies, i.e., routing algorithm and scheduling scheme, used in
the network. In this paper we focus on the study of achievable end-to-end
throughput.


\section{Network Model and Settings\label{sec:Network-Model}}

In this section, we introduce the network model, the signal propagation
model, the SINR model and define notations and concepts that are used
in later analysis.

Two network models are widely used in the study of (asymptotic) network
capacity: the \emph{dense network model} and the \emph{extended network
model}. By appropriate scaling of the distance, the results obtained
under one model can often be extended to the other one \cite{Franceschetti07Random}.
In this paper, we consider the extended network model. Particularly
we consider a network with nodes deployed on a 
box  according to a Poisson point process with
unit intensity. Each node chooses its destination randomly and independently
of other nodes. We study the capacity of the above network as .
It is assumed that all data transmissions are conducted over a common
wireless channel.

We are mainly concerned with the events that occur inside 
asymptotically almost surely (a.a.s.) as . An
event  depending on  is said to occur a.a.s. if and
only if (iff) its probability approaches  as .
The following notations are used throughout the paper concerning the
asymptotic behavior of positive functions:
\begin{itemize}
\item  if that there exist
a positive constant  and an integer  such that 
for any ;
\item  if ;
\item  if that there
exist two constants ,  and an integer  such
that 
for any ;
\item  if .
\end{itemize}

\subsection{Interference model\label{sub:Interference-model}}

Let , be the location of node ,
where  represents the set of indices of all nodes. When node
 is transmitting with power , the received power at node
 located at  from node  is given by 
where 
represents the path-loss from node  to node ,  is
the path-loss exponent and 
is the Euclidean distance between the two nodes. In the paper we assume
that . This channel model is widely used in the literature
\cite{Haenggi09Interference,Franceschetti07Closing,Gupta00Capacity,Chau11Capacity}.
A transmission from node  to node  is successful iff the SINR
at node  is above a predetermined threshold , i.e.,

where  denotes the set of simultaneously
active transmitters as node  and  represents background
noise. In this paper we consider an interference-limited network and
assume that the impact of  is negligible. Despite the common
knowledge that a higher SINR can lead to an increased link capacity,
in reality transmission from a transmitter to a receiver can only
occur at one of a set of preset data rates after the SINR threshold
is met \cite{Kim08Understanding,Lin07Interplay}. Therefore for a
transmitter-receiver pair, when its associated SINR is above ,
it is considered that the transmitter can transmit to the receiver
at a fixed rate of 




\subsection{Definition of throughput\label{sub:Definition-of-throughput}}

Each node sends packets to an independently and randomly chosen destination
node via multiple hops. A node can be a source node, a destination
node for another source node, a relay node or a mixture. 
\begin{quotation}
The \emph{per-node} \emph{throughput} or equivalently the \emph{transport
capacity} of the network, denoted by , is
defined as the \emph{maximum} rate that could be achieved a.a.s. by
\emph{all} source-destination pairs simultaneously. Similar as that
in \cite{Gupta00Capacity}, we say that a per-node throughput of 
is \emph{feasible} if there is a temporal and spatial routing and
scheduling scheme such that every node can send 
bits/sec \emph{on time average} to its destination a.a.s., i.e., there
exists a sufficiently large positive number  such that in every
finite time interval  every
node can send  bits to its destination
a.a.s.. 
\end{quotation}

\subsection{CSMA protocol}

The general idea of CSMA protocols is that before transmission, a
node will sense other active transmissions in its vicinity such that
nearby nodes will not transmit simultaneously. More specifically,
a node  is said to be \emph{in contention with} node  if the
received power by node  from node  is above the carrier-sensing
threshold  of node , i.e., 

Node  can only transmit if it senses no other active transmissions
in contention, or in other words the node senses the channel idle. 

To prevent the situation where several nearby nodes simultaneously
start transmitting when their common neighbor stops its transmission,
hence causing a collision, a \emph{back off} mechanism is often employed
such that a node sensing the channel idle will wait a random amount
of time before starting its transmission. 

The following \emph{back off} mechanism is considered in this paper.
Each node senses the channel continuously and maintains a countdown
timer, which is initialized to a non-negative random value. The timer
of a node counts down when it senses the channel idle; when the channel
is sensed as busy, the node freezes its timer. A node initiates its
transmission when its countdown timer reaches zero \emph{and} the
channel is sensed as idle. After finishing its transmission, the node
resets its countdown timer to a new random value for the next transmission.
The distribution of the random initial countdown timer will be specified
later in the paper.


\section{Routing Algorithm and Traffic load\label{sec:Routing Scheme}}

In this section we describe the routing algorithm to be used and analyze
the traffic load for each node under the algorithm. The routing algorithm
chooses the sequence of nodes to deliver a packet from its source
to its destination without considering physical layer implementation
details.

To begin the construction of our routing algorithm, we partition the
box  of size  into \emph{squares}
of side length  where  is a positive constant.
Each of these squares is then further subdivided into smaller \emph{cells}
of constant side length . The values of  and  will
be specified later. See Fig. \ref{fig:partition} for an illustration.
Following common terminology used in the percolation theory, we also
refer to these cells as \emph{sites} and use the two terms cells and
sites exchangeably. We call a site \emph{open} if it contains at least
one node, and \emph{closed} otherwise. Due to the Poisson distribution
of nodes with unit intensity, it can be easily obtained that a site
is open with probability . Furthermore,
the event that a site is open or closed is independent of the event
that another distinct site is open or closed. The total number of
sites in a square is , the
total number of sites in  is 
and the total number of squares in  is .
The techniques to handle the situation that ,
 and  are not
integers are well-known \cite{Franceschetti07Closing}. Therefore
in this paper we ignore some trivial discussions involving the situations
that ,  and 
are not integers and consider them to be integers.

Before we can further explain our routing algorithm, we need to first
establish some preliminary results. The network area  can
be sliced into horizontal rectangles of size ,
where each horizontal rectangle consists of 
squares. Denote by  the -th horizontal rectangle where
. We call two sites \emph{adjacent}
if they share a common edge. We define \emph{a left to right open
path }in  as a sequence of distinct and adjacent open sites
that starts from an open site on the left border of  and ends
at an open site on the right border of . The following theorem,
due to \cite[Theorem 4.3.9]{Franceschetti07Random}, gives a lower
bound on the number of open paths in .
\begin{thm}
\cite[Theorem 4.3.9]{Franceschetti07Random}\label{lem:number of open paths}Consider
site percolation with parameter . For  sufficiently
large, there exist constants  and  independent
of , satisfying 

 

 and 

such that a.a.s. there exist at least  left to
right disjoint open paths in every horizontal rectangle. 
\end{thm}
By symmetry, if we partition  into 
vertical rectangles. Each one is of size 
and consists of  squares. Denote by
 the -th,  vertical
rectangle. It can also be established that a.a.s. there are at least
 top to bottom disjoint open paths in every .
The following result can be readily established \cite{Franceschetti07Closing}:
\begin{cor}
\label{cor:number of vertical and horizontal paths}There are a.a.s
at least  left-to-right open paths and 
top-to-bottom open paths in every square.
\end{cor}
\begin{figure}
\begin{centering}
\includegraphics[width=0.9\columnwidth]{partition_1}
\par\end{centering}

\protect\caption{\label{fig:partition}An illustration of partition of  and
the routing algorithm. Black square represents a closed site and white
square represents an open site. Grey square represents an open site
that forms an open path.  and , indicated by two small hollow
circles, are a pair of source and destination nodes.  and
, indicated by two small black squares, are two nodes located
in open sites that form open paths. First  transmits its packets
to  using a transmission range of up to .
Then the packets will be routed along the open paths to ,
using a transmission range of up to . Finally, 
transmits the packets to the destination . If  itself
is a source node, then it transmits its packet directly to the next-hop
node along the open path, using a transmission range of up to . }
\end{figure}



\subsection{Description of the distributed routing algorithm}

We are now ready to explain our routing algorithm. Denote by 
the line segment connecting node  to its destination. The packets
generated by source node  are routed along the squares intersecting
. A square will only serve the traffic of a source-destination
pair if the associated SD line intersects the square. Note that it
is trivial to establish that a.a.s. every square has at least one
node. 

The routing can be divided into three stages:

In the first stage, a source node S, if it is not a node located in
an open site that forms one of the open paths, will transmit its packet
to a node in a \emph{randomly chosen} open site that forms an open
path. If there are multiple nodes in an open site, a node will be
designated randomly to relay all traffic passing through the site.
If the source node is already in a site that forms an open path, this
stage of routing can be omitted and the routing proceeds directly
to the next stage. The maximum distance between the source node and
its next-hop node in this stage is bounded by 
because the distance between any two nodes located in a square is
at most . 

In the second stage, the packet will be routed to the adjacent square
intersecting the SD line along one of these left-to-right open path
or top-to-bottom open paths until the packet reaches a node in the
next square. Depending on the location of the open path containing
the relay node and the location of the adjacent square, the packet
may be routed along a left-to-right open path (when the adjacent square
is on the left or on the right of the current square) or along a top-to-bottom
open path (when the adjacent square is on the top or on the bottom
of the current square). If the packet needs to be switched from a
left-to-right open path to a top-to-bottom open path (e.g., when the
previous square is on the left of the current square but the next
square is on the bottom of the current square), a top-to-bottom open
path is chosen randomly from the at least  open
path available. The above process continues until the packet reaches
the square that contains the destination node. In this stage, the
maximum distance between a node and its next-hop node is bounded by
 because the distance between any two nodes located in
two adjacent cells is at most . 

In the third stage, after reaching the square containing the destination
node, if the destination node is located on one of the open paths,
the packet will be routed along a multi-hop path to the destination
via open paths; if the destination is not located on one of the open
paths, the packet will be transmitted to the destination directly
and the maximum transmission distance is bounded by . 

The same route is used for all packets belonging to the same source-destination
pair.

The feasibility of the above routing algorithm is guaranteed by Corollary
\ref{cor:number of vertical and horizontal paths}. A node only needs
neighborhood information of nodes no more than 
away to make a routing decision. The required information for making
a proper routing decision is vanishingly small compared with that
in the highway algorithm. Furthermore, compared with the network size,
the required information is also vanishingly small as .
Therefore the routing algorithm can be executed in a distributed manner.\textbf{
}On the other hand, we readily acknowledge that neighborhood information
of nodes up to  away\textbf{ }may be required
by the routing algorithm.\textbf{ }The required neighborhood information
grows logarithmically with the size of the network.

Corollary \ref{cor:Number-Open-Paths} is a ready consequence of Theorem
\ref{lem:number of open paths}:
\begin{cor}
\label{cor:Number-Open-Paths}Let  and , a.a.s.
there are at least  left-to-right open paths in every
horizontal rectangle.
\end{cor}
In the rest of this paper, we carry out analysis assuming that 
and  take values specified in Corollary \ref{cor:Number-Open-Paths}
and . Fig. \ref{fig:number of open paths} shows
simulation results of the number of open paths in a horizontal rectangle
as the network size  varies. Each random simulation is repeated
a large number of times and the average result is shown. The confidence
interval is very small and negligible, and thus not plotted in the
figure. The lower bound on the number of open paths suggested in Corollary
\ref{cor:Number-Open-Paths} is also plotted for comparison. As shown
in Fig. \ref{fig:number of open paths}, the lower bound is reasonably
tight. 

\begin{figure}
\begin{centering}
\includegraphics[width=1\columnwidth]{gridSim_res_1}
\par\end{centering}

\protect\caption{\label{fig:number of open paths}An illustration of the number of
left-to-right open paths in a horizontal rectangle as the network
size varies. Vertical axis shows the ratio of the number of open paths
to .}
\end{figure}


Fig. \ref{fig:Open paths}, drawn from a simulation, further gives
an intuitive illustration of the open paths in a horizontal rectangle. 

\begin{figure}
\begin{centering}
\includegraphics[width=1\columnwidth]{crossings}
\par\end{centering}

\protect\caption{\label{fig:Open paths}An illustration of left-to-right open paths
in a rectangle obtained by computer simulations. Black cells represent
closed sites while white cells represent open sites. }


\end{figure}


After establishing the routing algorithm, next we analyze the traffic
load for each node under the algorithm, which forms a key step in
analyzing the network capacity.

Lemma \ref{lem:number of SD lines intersecting any square} shows
that the random number of SD lines passing through an arbitrarily
chosen square, including the SD lines originating from and ending
at the square, is upper bounded. 
\begin{lem}
\label{lem:number of SD lines intersecting any square}For an arbitrary
square in , the random number of  lines passing through
it, denoted by , satisfies that

where ,
 and  are arbitrarily small positive constants.\end{lem}
\begin{IEEEproof}
See Appendix I.
\end{IEEEproof}
As a way of establishing the tightness of the bound in Lemma \ref{lem:number of SD lines intersecting any square},
Fig. \ref{fig:number of SD lines} shows simulation results of the
number of SD lines passing a square in comparison with the upper bound
in Lemma \ref{lem:number of SD lines intersecting any square}. 

\begin{figure}
\begin{centering}
\includegraphics[width=1\columnwidth]{intSimRes_res_1}
\par\end{centering}

\protect\caption{\label{fig:number of SD lines}The number of SD lines passing through
a square versus the upper bound in Lemma \ref{lem:number of SD lines intersecting any square}.
Vertical axis shows the ratio of the number of SD lines passing through
a square to .}
\end{figure}


Using Corollary \ref{cor:number of vertical and horizontal paths}
and Lemma \ref{lem:number of SD lines intersecting any square}, the
following result can be readily established:
\begin{lem}
\label{lem:result on traffic load}Each relay node needs to carry
the traffic of at most  source-destination
pairs a.a.s.
\end{lem}
Note that a node not on an open path does not need to carry the traffic
of other source-destination pairs.


\section{A Solution to the Hidden-node Problem\label{sec:Hidden-node-free-design}}

Our routing algorithm described in the last section needs to use two
different transmission ranges of lengths  and
 respectively. The use of two different
transmission ranges in CSMA networks will exacerbate the so-called
hidden node problem. See Fig. \ref{fig:Hidden node problem} for an
illustration. In \cite{Chau11Capacity}, the problem was addressed
by letting nodes operate on two frequency bands, namely, short-range
transmissions operate on one frequency band while long-range transmissions
operate on the other. Their solution may result in lower spectrum
usage because long-range transmission is used less frequently and
also poses additional hardware requirements on nodes. Therefore, we
present a solution by jointly tuning the transmission power and the
carrier-sensing threshold.

\begin{figure}
\begin{centering}
\includegraphics[width=0.4\columnwidth]{TwoCarrierSensingRanges}
\par\end{centering}

\protect\caption{An illustration of the hidden node problem when nodes use different
transmission power. Assume that the same carrier-sensing threshold
is used by node A and B. The transmission of A using a lager transmission
power (node B using a smaller transmission power, respectively) can
be detected by nodes located within a distance  (,
respectively), and . Consequently B can detect A's transmission
but node A cannot detect node B's. Therefore even when node B is transmitting,
node A still can start its own transmission, thereby resulting in
a collision and causing the hidden node problem. \label{fig:Hidden node problem}}
\end{figure}



\subsection{A formal definition of the hidden node problem}

Under the SINR model, a set of concurrent transmissions (or links)
are said to form an \emph{independent set} if the SINRs are \emph{all}
above the SINR threshold . Let  be the set of
all independent sets. Because of the random and distributed nature
of the carrier-sensing operations by individual nodes, the set of
simultaneous transmissions observing the carrier-sensing constraint,
denoted by , may or may not belong to ,
i.e., some transmissions observing the carrier-sensing constraints
may still cause the SINRs at some receivers to be above .
Let  be the set of all s. Let
 be the set of concurrent transmissions in a CSMA network.
More formally, a hidden node problem is said to occur if 
but . A\emph{ }CSMA network is said to be
\emph{hidden node free} if its carrier-sensing operations and transmission
powers are carefully designed such that all 
also meets the condition that .

For a CSMA network in which uniform transmission power is in use,
by setting the carrier-sensing range to be a constant multiple of
the transmission range, the hidden node problem can be effectively
eliminated \cite{Fu12Effective,Chau11Capacity}. For our routing algorithm
using two transmission ranges of lengths  and
 , if the carrier-sensing range is set
to be , although the hidden node problem
can be eliminated, the number of concurrent transmissions (hence the
spatial frequency reuse) will be reduced compared with a carrier-sensing
range of , which in turn causes a reduced capacity.
Therefore we manage to have transmissions with different ranges to
coexist concurrently instead. In this way, the capacity will be maximized
while eliminating the hidden node problem. 

More specifically, let  be the transmission power used for
the  transmission where the same transmitter may use different
power when transmitting to different receiver. The transmitter also
uses different carrier-sensing threshold when different transmission
power is used. Denote by  the carrier-sensing threshold used
for . Furthermore, let the transmission power of a transmitter
be such that the power received at its intended receiver is at least
 ( is a constant not depending on  and the
value of  will be specified shortly later in this section).
The following lemma specifies the relation between  and 
required for two transmitters to be able to sense each other's transmission.
\begin{lem}
\label{lem:mutually sense range}Let the values of  and 
be chosen such that the following condition is met 

For two arbitrary transmitters located at  and
 respectively, they can sense each other's transmission
iff 

\end{lem}
\begin{IEEEproof}
When node  located at  transmits using power
, the power received at node  at location 
is given by .
Let  be the carrier-sensing threshold of node . The transmission
of node  can be detected iff .
Using (\ref{eq:relation between transmit power and carrier-sensing threshold}),
node  can detect node 's transmission iff 
or equivalently .
Using a similar argument, node  can detect node 's transmission
iff (\ref{eq:mutual sensing distance among two nodes}) is met.
\end{IEEEproof}
Lemma \ref{lem:mutually sense range} shows that by carefully choosing
the carrier-sensing threshold according to the transmission power
for each transmitter, a major cause of the hidden node problem: a
node  senses another node 's transmission but node  cannot
sense node 's transmission can be eliminated. In the next several
paragraphs, we shall demonstrate how to choose , which determines
the minimum power received at a receiver, such that the SINR requirement
can also be met.

In the first and third stages of our routing algorithm, the maximum
distance between a transmitter and a receiver is 
while the the maximum distance between a transmitter and a receiver
in the second stage is . Accordingly, for the first and
third stages, we let the transmission power be

while for the second stage, the transmission power is set at 

It is trivial to show that the received signal power of all transmissions
is at least . Furthermore, the following theorem established
in our previous work \cite[Theorem 1]{Yang12Connectivity} helps to
obtain an upper bound on the interference experienced by any receiver
in the network.
\begin{thm}
\label{thm:interference homogeneous CSMA}Consider a CSMA network
with nodes distributed arbitrarily on a finite area in 
where all nodes transmit at the same power  and use the same carrier-sensing
threshold . Furthermore, the power received by a node at 
from a transmitter at  is given by .
Let  be the distance between a receiver and its transmitter.
The maximum interference experienced by the receiver is smaller than
or equal to  where




and .
\end{thm}
Noting that  is a monotonically increasing
function of , it can be readily established using Theorem
\ref{thm:interference homogeneous CSMA} that in the CSMA network
analyzed in this paper in which two sets of transmission powers, carrier-sensing
threshold and the maximum transmission range are employed, the maximum
interference (for any value of ) is bounded by

where  and  are the carrier-sensing threshold chosen
for  and  respectively according to (\ref{eq:relation between transmit power and carrier-sensing threshold}). 
\begin{rem}
At the expense of more analytical efforts, a tighter bound on interference
can be established that the maximum interference in the CSMA network
considered in this paper is bounded by 
for \emph{any value} of . Because for a sufficiently large network,
which is the focus of this paper, the difference between this bound
and the upper bound in (\ref{eq:interference for finite networks})
is negligibly small, we choose to omit the analysis due to space limitation.
\end{rem}
Noting that ,

and , it is easy to
conclude using (\ref{eq:N_1}) and (\ref{eq:N_2}) that when ,
the contribution of the first two terms ,
attributable to transmissions using a larger transmission power, become
vanishingly small compared with the last two terms as .
The following theorem provides guidance on how to choose 
to meet the SINR requirements for all concurrent transmissions in
a large CSMA network.
\begin{thm}
\label{thm:hidden node free}For an arbitrarily high SINR requirement
, there exists a value of  for sufficiently large
 such that the SINR of all transmissions in a CSMA network, in
which each transmitter sets its transmission power and carrier sensing
threshold according to the relationship in Lemma \ref{lem:mutually sense range},
is greater than or equal to . Furthermore, the value of 
is given implicitly by the following equation

\end{thm}
\begin{IEEEproof}
Noting that the minimum received power is , the theorem
becomes an easy consequence of the interference upper bound established
earlier in the section.
\end{IEEEproof}
As a brief summary of the results of this section, Theorem \ref{thm:hidden node free}
gives guidance on how to choose  to meet the SINR requirement.
More specifically, noting that 
and using equations (\ref{eq:N_1}) and (\ref{eq:N_2}), equation
(\ref{eq:power for hidden node free network}) becomes an implicit
equation of . Solving the equation, the value of 
that meets the SINR requirement can be obtained, which is independent
of . Given the value of , the other parameters in the
CSMA network, i.e. ,  and the carrier sensing thresholds,
can all be determined using equations (\ref{eq:relation between transmit power and carrier-sensing threshold}),
(\ref{eq:high transmit power}) and (\ref{eq:low transmit power})
respectively. It can be readily established using the analysis presented
in this section that the CSMA network whose transmission power and
carrier sensing threshold are chosen following the above steps are
immune from the hidden node problem.


\section{Back Off Timer Setting and Capacity Analysis\label{sec:Capacity-Analysis}}

In the last section, we demonstrated how to choose the transmission
power and the carrier sensing threshold to solve the hidden node problem.
In the CSMA network in which nodes may use two different transmission
powers, a potential problem that may arise is that nodes using the
larger transmission power may potentially contend with more nodes
for transmission opportunities. Therefore nodes using the larger transmission
power may not get a fair transmission opportunity compared with nodes
using the smaller transmission power. This may potentially causes
nodes using the larger transmission power to become a bottleneck in
throughput which reduces the overall network capacity. In this section,
we demonstrate how to choose another controllable parameter in CSMA
protocols, i.e., back off timer, to conquer the difficulty.

Same as that in references \cite{Chau11Capacity} and \cite{Jiang10A},
we consider a CSMA protocol in which the initial back off timer is
a random variable following an exponential distribution. Nodes using
different transmission power may however choose different mean value
to use in the exponential distribution governing their respective
random initial back off timer. The following theorem provides the
basis for choosing these mean values.


\begin{thm}
\label{thm:medium access probability}Let  and 
be two small positive constants. If transmissions using a low transmit
power  set their initial back off time to be exponentially
distributed with mean  and transmissions using a high
transmission power  set their initial back off time to be
exponentially distributed with mean ,
then 

(i) a.a.s. each low power transmission can be active with a constant
probability greater than or equal to 



(ii) a.a.s. each high power transmission can be active with a probability
greater than or equal to 

\end{thm}
\begin{IEEEproof}
See Appendix II.
\end{IEEEproof}
Fig. \ref{fig:medium access probability} shows the transmission opportunity
(or the medium access probability) of a node using  versus
the lower bound in Theorem \ref{thm:medium access probability} for
different values of .

\begin{figure}
\begin{centering}
\includegraphics[width=1\columnwidth]{run_sim_res_1}
\par\end{centering}

\protect\caption{\label{fig:medium access probability}A comparison between the simulation
result on the medium access probability of a node using the low power
transmission with the lower bound in Theorem \ref{thm:medium access probability}
where  and . }
\end{figure}


On the basis of the results established in this section and in the
earlier sections, we present the following theorem which forms the
major result of this paper. 
\begin{thm}
\textbf{\label{thm:Throughput-lower-bound}}The achievable per-node
throughput in the CSMA network is greater than or equal to 



and is smaller than or equal to 

a.a.s. as , where  is given in Lemma
\ref{lem:number of SD lines intersecting any square} and 
is given by (\ref{eq:omega_3}).\end{thm}
\begin{IEEEproof}
We first show that the achievable per-node throughput is lower bounded
by . Let 
(, respectively) be the per-node throughput
that can be achieved in the first and the third (the second, respectively)
stages of our routing algorithm. Obviously the final per-node throughput
 satisfies .
In the following, we analyze  and 
separately.

As an easy consequence of Lemma \ref{lem:result on traffic load},
a.a.s. each relay node carries the traffic of at most 
source-destination pairs. According to the first statement of Theorem
\ref{thm:medium access probability}, a.a.s. each relay node on an
open path can access the channel with a probability of at least ,
which is a constant independent of . The conclusion then readily
follows that .

For the second stage of the routing, note that a source or a destination
node \emph{not} on an open path does not need to carry traffic for
other source-destination pairs. Using the second statement of Theorem
\ref{thm:medium access probability}, conclusion follows that .

Combining the above two results on  and
 and noting that the capacity bottleneck
lies in the second stage, the first statement in this theorem is proved.

We now further  show that the achievable per-node throughput is upper
bounded by .
The upper bound is to be established using a result proved in our
previous work \cite[Corollary 6]{Mao13Towards}, which shows that
the per-node throughput is equal to the product of the average number
of simultaneous transmissions and the link capacity divided by the
product of the average number of transmissions required to deliver
a packet to its destination and the number of source-destination pairs.
We first analyze the average number of transmissions required for
a packet to reach its destination. The average distance between a
randomly chosen source-destination pair is  \cite{Philip07The}.
A packet moves by one cell in each hop on an open path where the contribution
of the last mile transmission between a source (a destination) and
an open-path node is vanishingly small compared with .
Thus a.a.s. the average number of hops traversed by a packet is at
least . Next we analyze the average number
of simultaneous transmissions. Since there is at most one node in
a cell acting as an open path node, there are at most 
open path nodes in the network. Following the same procedure in obtaining
(\ref{eq:number of conflicting nodes}), (\ref{eq:MAP by definition})
and (\ref{eq:transmission opportunities of low power links}), we
have that .
Therefore, the average number of simultaneous transmissions is at
most 
(Note that when a non-open-path node transmits using , the
number of simultaneous transmissions will only reduce). As a ready
consequence of the above analysis and \cite[Corollary 6]{Mao13Towards},
an upper bound on the per-node throughput results.
\end{IEEEproof}
The lower bound on the per-node throughput provided in Theorem \ref{thm:Throughput-lower-bound}
is order optimal in the sense that the throughput is of the same order
as the known result on the optimum per-node throughput \cite{Franceschetti07Closing}
of networks under the same settings. Furthermore, Theorem \ref{thm:Throughput-lower-bound}
gives the pre-constant preceding the order of the per-node throughput:
. A detail examination of the
pre-constant reveals that the pre-constant can be separated into the
product of two terms:  and .
The first term  is entirely determined
by the routing algorithm, more specifically determined by how the
routing algorithm distribute traffic load among relay nodes and among
source-destination pairs. The second term  is entirely
determined by the scheduling algorithm and some physical layer details,
i.e., the SINR requirement, interference and propagation model. The
above observation appears to suggest that impact of the routing algorithm
and the scheduling algorithm can be decoupled and studied separately,
and the two algorithms that determine the overall network capacity
can be optimized separately.

Fig. \ref{fig:throughput} shows a comparison of the per-node throughput
obtained from simulations, the upper lower bounds obtained in Theorem
\ref{thm:Throughput-lower-bound} for different values of . To
facilitate comparison, Fig. \ref{fig:Tightness of two bounds} further
shows the ratio of the per-node throughput obtained from simulations
to the throughput lower bound and the ratio of the throughput upper
bound to the throughput lower bound. As shown in the figures, the
lower bound is fairly tight and the upper bound is also within a factor
of  of the simulation result. The simulation results demonstrate
that the pre-constant obtained in our study provides a pretty accurate
characterization of the per-node throughput.

\begin{figure}
\begin{centering}
\includegraphics[width=1\columnwidth]{throughputVSn_2}
\par\end{centering}

\protect\caption{\label{fig:throughput}A simulation of per-node throughput with 
and . For comparison, the upper and the lower bound obtained
in the paper is also shown.}
\end{figure}


\begin{figure}
\begin{centering}
\includegraphics[width=1\columnwidth]{throughputVSn_3}
\par\end{centering}

\protect\caption{\label{fig:Tightness of two bounds}A simulation of per-node throughput
with  and . For comparison, the upper and the
lower bound obtained in the paper are also shown. To facilitate comparison,
both the per-node throughput obtained from simulations and the per-node
throughput upper bound are normalized by the per-node throughput lower
bound.}
\end{figure}



\section{Conclusion\label{sec:Conclusion}}

In this paper, we studied the transport capacity of large wireless
multi-hop CSMA networks. We showed that by carefully choosing the
controllable parameters in the CSMA protocol and designing the routing
algorithm, a network running distributed CSMA scheduling algorithm
and each node making routing decisions based on local information
only can also achieve an order-optimal throughput of ,
which is the same as that of large networks employing centralized
routing and scheduling algorithms. Furthermore, we not only gave the
order of the throughput but also derived the pre-constant preceding
the order by giving an upper and a lower bound of the transport capacity.
The tightness of the bounds was validated using simulations. Theoretical
analysis was presented on tuning the carrier-sensing threshold and
the transmission power to avoid hidden node problems and on tuning
the back off timer distribution to ensure each node gain a fair access
to the channel in CSMA networks using non-uniform transmission powers.
The principle developed through the analysis was expected to be also
helpful to set the corresponding parameters of CSMA networks in a
more realistic setting.


\section*{Appendix I Proof of Lemma \ref{lem:number of SD lines intersecting any square}}

In the proof of Lemma \ref{lem:number of SD lines intersecting any square},
we will make use of a result established in the stochastic ordering
theory \cite{Klenke10Stochastic}. For two real valued random variables
 and , we say  iff for all ,
. 
\begin{thm}
\label{thm:Stochastic Ordering}\cite[Theorem 1(a)]{Klenke10Stochastic}Suppose
 follows a Binomial distribution with parameters 
and , denote the distribution of 
by , , i.e., .
We have  iff 
and . 
\end{thm}
As an easy consequence of the above theorem, for three independent
Binomial random variables ,
 and 
with  and , it can be concluded
that . 

Now we are ready to prove Lemma \ref{lem:number of SD lines intersecting any square}.
Let  be the indicator random variable for the event that
the  passes through the  square:

We shall derive an upper bound on  for
any . Circumscribe the
 square with a small circle of radius ,
as shown in Fig. \ref{fig:SD_1}. For a source  located outside
the square and at a distance  from the center of the square, the
angle  subtended by the circle at S is .
Using the fact that  when , we
have 



\begin{figure}
\begin{centering}
\includegraphics[width=0.7\columnwidth]{SD1}
\par\end{centering}

\protect\caption{\label{fig:SD_1}An illustration of a SD line intersecting the circumscribed
circle}
\end{figure}


Noting that  is of size , the area
of the sector formed by the two dashed tangents Fig. \ref{fig:SD_1}
and the boarder of  is at most .
If the destination of , denoted by , does not lie in this
sector, then the associated  line does not pass through the circle.
Therefore, the probability that the  line intersecting the circle
is at most . Considering that
the circle is located in a  box ,
the probability density that  is at a distance  from the circle
can be shown to be upper bounded by . It follows
from the above analysis and (\ref{eq:upper bound on theta}) that

 

Recall that  represents the set of indices of all nodes in
the network. For a fixed square , the total number of  lines
passing through it is given by ,
which is the sum of i.i.d. Bernoulli random variables since the locations
of nodes are independent and  depends only on the locations
of source and destination nodes of the  source-destination
pair. Therefore  follows the Binomial distribution, i.e.,
.
As an easy consequence of the Poisson distribution of nodes, a.a.s.
the total number of nodes ,
where  is an arbitrarily small positive constant. Define
another Binomial random variable 
. It follows from Theorem \ref{thm:Stochastic Ordering} that

It can be further shown that for any ,

where (\ref{eq:Chernoff-1}) results from the Chernoff bound. Using
the union bound and the above result, we have

Noting that 
as , therefore a.a.s. 
for any  which completes
the proof of Lemma \ref{lem:number of SD lines intersecting any square}.


\section*{Appendix II Proof of Theorem \ref{thm:medium access probability}}

Consider a node  on an open path located at 
transmitting with power .
Since the highest transmission power used in the network is ,
by (\ref{eq:mutual sensing distance among two nodes}), the furtherest
transmitter that node  can sense is within a distance of .
Denote by  a disk centered
at  and with a radius of . All nodes that are
possibly competing with node  for transmission opportunities are
located within .
Denote by 
an annulus area centered at  with an inner radius
 and an outer radius . A little reflection shows that
all nodes using the low transmission power  \emph{and} competing
with node  must be located in ,
and the nodes in 
that compete with node  must use the high transmit
power . Note that in each open site that forms the open path,
only one node serves as the relay node. Hence, there are at most 
open path nodes in 
that use . Let 
be the random number of nodes located in .
Next we provide an asymptotic upper bound on the number of  nodes
in 
for any node  on an open path. Denoting by  the
set of indices of nodes on open paths, clearly .
By Chernoff bound and the union bound, we have for an arbitrarily
small positive constant ,

where  denotes the expectation operator. It can be readily shown
that 
approaches  as . Therefore a.a.s. the number
of nodes within a distance 
of an open path node is bounded above by .

Next we analyze the transmission opportunity of an open path node.
Denote by  the back off timer of node  at a particular
time instant when the channel is idle. Denote by 
the set of indices of nodes that compete with node  for transmission.
Following the CSMA protocol, node  can become an active transmitter
in the competition if 

Let  be the event that a transmission of node 
using the low transmit power is active. Using the ``memoryless''
property of an exponential distribution that for a timer following
an exponential distribution, the amount of lapsed time does not alter
the distribution of the remaining value of the timer, it can be shown
that for any 

where in the above equation the term 
represents the probability that at a randomly chosen time instant
when the channel is idle, all 
open path nodes in ,
which are competing for transmission opportunities with node ,
have their respective back off timer larger than a particular value
; the term 
represents the probability that all nodes using  in ,
which are competing for transmission opportunities with node ,
have their respective back off timer larger than ; the term 
is the pdf of the back off timer of node . It can be further shown
from (\ref{eq:MAP by definition}) that for any ,



Now we continue to prove the second part of Theorem \ref{thm:medium access probability}.
Consider that a node  transmits using the high power .
By (\ref{eq:mutual sensing distance among two nodes}), all nodes
that are possibly competing with node  are located within .
Furthermore, among the nodes competing with node , those open
path nodes using the lower transmission power  must be located
in ,
and the number of these open path nodes is \emph{at most} .
Next we derive an upper bound on the number of nodes in 
competing with node  for any  where 
is the set of indices of nodes using the high power. It can be easily
shown that .
Using the union bound and the Chernoff bound, we have for any small
positive constant ,

Obviously 
approaches  as . Therefore a.a.s. the number
of nodes competing with node  where  is smaller
than or equal to .
Let  be the event that node , ,
is active. It can be shown that for any ,

 

\bibliographystyle{IEEEtran}
\begin{thebibliography}{10}
\providecommand{\url}[1]{#1}
\csname url@samestyle\endcsname
\providecommand{\newblock}{\relax}
\providecommand{\bibinfo}[2]{#2}
\providecommand{\BIBentrySTDinterwordspacing}{\spaceskip=0pt\relax}
\providecommand{\BIBentryALTinterwordstretchfactor}{4}
\providecommand{\BIBentryALTinterwordspacing}{\spaceskip=\fontdimen2\font plus
\BIBentryALTinterwordstretchfactor\fontdimen3\font minus
  \fontdimen4\font\relax}
\providecommand{\BIBforeignlanguage}[2]{{\expandafter\ifx\csname l@#1\endcsname\relax
\typeout{** WARNING: IEEEtran.bst: No hyphenation pattern has been}\typeout{** loaded for the language `#1'. Using the pattern for}\typeout{** the default language instead.}\else
\language=\csname l@#1\endcsname
\fi
#2}}
\providecommand{\BIBdecl}{\relax}
\BIBdecl

\bibitem{Chau11Capacity}
C.-K. Chau, M.~Chen, and S.~C. Liew, ``Capacity of large-scale CSMA wireless
  networks,'' \emph{IEEE/ACM Trans. Netw.}, vol.~19, no.~3, pp. 893--906, 2011.

\bibitem{Cho06Capacity}
J.-w. Cho, S.-L. Kim, and S.~Chong, ``Capacity of interference-limited ad hoc
  networks with infrastructure support,'' \emph{IEEE Commun. Letters}, vol.~10,
  no.~1, pp. 16--18, 2006.

\bibitem{Dousse06On}
O.~Dousse, M.~Franceschetti, and P.~Thiran, ``On the throughput scaling of
  wireless relay networks,'' \emph{IEEE Trans. Inf. Theory}, vol.~52, no.~6,
  pp. 2756--2761, 2006.

\bibitem{Franceschetti07Closing}
M.~Franceschetti, O.~Dousse, D.~N.~C. Tse, and P.~Thiran, ``Closing the gap in
  the capacity of wireless networks via percolation theory,'' \emph{IEEE Trans.
  Inf. Theory}, vol.~53, no.~3, pp. 1009--1018, 2007.

\bibitem{Grossglauser02Mobility}
M.~Grossglauser and D.~N.~C. Tse, ``Mobility increases the capacity of ad hoc
  wireless networks,'' \emph{IEEE/ACM Trans. Netw.}, vol.~10, no.~4, pp.
  477--486, 2002.

\bibitem{Gupta00Capacity}
P.~Gupta and P.~R. Kumar, ``The capacity of wireless networks,'' \emph{IEEE
  Trans. Inf. Theory}, vol.~46, no.~2, pp. 388--404, 2000.

\bibitem{Gupta00Internets}
------, ``Internets in the sky: capacity of 3D wireless networks,'' in
  \emph{Proceedings of IEEE CDC}, pp. 2290-- 2295, 2000.

\bibitem{Hu10A}
C.~Hu, X.~Wang, Z.~Yang, J.~Zhang, Y.~Xu, and X.~Gao, ``A geometry study on the
  capacity of wireless networks via percolation,'' \emph{IEEE Trans. Commun.},
  vol.~58, no.~10, pp. 2916--2925, 2010.

\bibitem{Kulkarni04A}
S.~R. Kulkarni and P.~Viswanath, ``A deterministic approach to throughput
  scaling in wireless networks,'' \emph{IEEE Trans. Inf. Theory}, vol.~50,
  no.~6, pp. 1041--1049, 2004.

\bibitem{Li09Impacts}
P.~Li and Y.~Fang, ``Impacts of topology and traffic pattern on capacity of
  hybrid wireless networks,'' \emph{IEEE Trans. Inf. Theory}, vol.~8, no.~12,
  pp. 1585--1595, 2009.

\bibitem{Xie04A}
L.~Xie and P.~R. Kumar, ``A network information theory for wireless
  communication: scaling laws and optimal operation,'' \emph{IEEE Trans. Inf.
  Theory}, vol.~50, no.~5, pp. 748--767, 2004.

\bibitem{Alfano09Capacity}
G.~Alfano, M.~Garetto, and E.~Leonardi, ``Capacity scaling of wireless networks
  with inhomogeneous node density: upper bounds,'' \emph{IEEE J. Select. Areas
  Commun.}, vol.~27, no.~7, pp. 1147--1157, 2009.

\bibitem{Li11The}
P.~Li, M.~Pan, and Y.~Fang, ``The capacity of three-dimensional wireless ad hoc
  networks,'' in \emph{Proceedings of IEEE INFOCOM}, pp. 1485--1493, 2011.

\bibitem{Yang12Capacity}
T.~Yang, G.~Mao, and W.~Zhang, ``Capacity of interference-limited three
  dimensional CSMA networks,'' in \emph{Proceedings of IEEE ICC}, pp. 5010--5014, 2012.

\bibitem{Andrews10Random}
J.~Andrews, S.~Weber, M.~Kountouris, and M.~Haenggi, ``Random access transport
  capacity,'' \emph{IEEE Trans. Wireless Commun.}, vol.~9, no.~6, pp.
  2101--2111, 2010.

\bibitem{Ganti11High}
R.~K. Ganti, J.~G. Andrews, and M.~Haenggi, ``High-sir transmission capacity of
  wireless networks with general fading and node distribution,'' \emph{IEEE
  Trans. Inf. Theory}, vol.~57, no.~5, pp. 3100--3116, 2011.

\bibitem{Ganti09Interference}
R.~K. Ganti and M.~Haenggi, ``Interference and outage in clustered wireless
  networks,'' \emph{IEEE Trans. Inf. Theory}, vol.~55, no.~9, pp. 4067--4086,
  2009.

\bibitem{Weber10An}
S.~Weber, J.~G. Andrews, and N.~Jindal, ``An overview of the transmission
  capacity of wireless networks,'' \emph{IEEE Trans. Commun.}, vol.~58, no.~12,
  pp. 3593--3604, 2010.

\bibitem{Baccelli09Stochastic}
F.~Baccelli and B.~Blaszczyszyn, \emph{Stochastic Geometry and Wireless
  Networks Volume II : APPLICATION}.\hskip 1em plus 0.5em minus 0.4em\relax
  Paris: Now Publishers, 2009.

\bibitem{Jacquet12On}
P.~Jacquet, S.~Malik, B.~Mans, and A.~Silva, ``On the throughput-delay
  trade-off in georouting networks,'' in \emph{Proceedings of IEEE INFOCOM},
  pp. 765--773, 2012.

\bibitem{Kong08Connectivity}
Z.~Kong and Y.~E.~M., ``Connectivity and latency in large-scale wireless
  networks with unreliable links,'' in \emph{Proceedings of IEEE INFOCOM},
  2008.

\bibitem{Li09Capacity}
P.~Li, C.~Zhang, and Y.~Fang, ``Capacity and delay of hybrid wireless broadband
  access networks,'' \emph{IEEE J. Select. Areas Commun.}, vol.~27, no.~2, pp.
  117--125, 2009.

\bibitem{Neely05Capacity}
M.~J. Neely and E.~Modiano, ``Capacity and delay tradeoffs for ad hoc mobile
  networks,'' \emph{IEEE Trans. Inf. Theory}, vol.~51, no.~6, pp. 1917--1937,
  2005.

\bibitem{EI06Optimal}
A.~El~Gamal, J.~Mammen, B.~Prabhakar, and D.~Shah, ``Optimal throughput-delay
  scaling in wireless networks - part i: the fluid model,'' \emph{IEEE Trans.
  Inf. Theory}, vol.~52, no.~6, pp. 2568--2592, 2006.

\bibitem{EI06OptimalThroughput}
------, ``Optimal throughput-delay scaling in wireless networks - part ii:
  Constant-size packets,'' \emph{IEEE Trans. Inf. Theory}, vol.~52, no.~11, pp.
  5111--5116, 2006.

\bibitem{Chen09Order}
S.~Chen, Y.~Wang, M.~Li, and X.~Shi, ``Order-optimal data collection in
  wireless sensor networks: Delay and capacity,'' in \emph{Proceedings of IEEE
  SECON}, 2009, pp. 1--9.

\bibitem{Zemlianov05Capacity}
A.~Zemlianov and G.~de~Veciana, ``Capacity of ad hoc wireless networks with
  infrastructure support,'' \emph{IEEE J. Select. Areas Commun.}, vol.~23,
  no.~3, pp. 657--667, 2005.

\bibitem{Durvy09On}
M.~Durvy, O.~Dousse, and P.~Thiran, ``On the fairness of large csma networks,''
  \emph{IEEE J. Select. Areas Commun.}, vol.~27, no.~7, pp. 1093--1104, 2009.

\bibitem{Alfano11New}
G.~Alfano, M.~Garetto, and E.~Leonardi, ``New insights into the stochastic
  geometry analysis of dense csma networks,'' in \emph{Proceedings of IEEE
  INFOCOM}, 2011, pp. 2642--2650.

\bibitem{Li09Multicast}
X.~Y. Li, ``Multicast capacity of wireless ad hoc networks,'' \emph{IEEE/ACM
  Trans. Netw.}, vol.~17, no.~3, pp. 950--961, 2009.

\bibitem{Haenggi09Stochastic}
M.~Haenggi, J.~G. Andrews, F.~Baccelli, O.~Dousse, and M.~Franceschetti,
  ``Stochastic geometry and random graphs for the analysis and design of
  wireless networks,'' \emph{IEEE J. Select. Areas Commun.}, vol.~27, no.~7,
  pp. 1029--1046, 2009.

\bibitem{Ko13Optimization}
S.~W. Ko and S.~L. Kim, ``Optimization of transport capacity in wireless
  multihop networks,'' \emph{Eurasip Journal on Wireless Communications and
  Networking}, 2013, 110.

\bibitem{Byun13Delay}
I.~Byun, A.~J.~G., and K.~Kwang~Soon, ``Delay-constrained random access
  transport capacity,'' \emph{IEEE Trans. Wireless Commun.}, vol.~12, no.~4,
  pp. 1628--1639, 2013.

\bibitem{Nguyen12On}
T.~V. Nguyen and F.~Baccelli, ``On the spatial modeling of wireless networks by
  random packing models,'' in \emph{Proceedings of IEEE INFOCOM}, 2012, pp.
  28--36.

\bibitem{Busson09Point}
A.~Busson, G.~Chelius, and Acm, ``Point processes for interference modeling in
  csma/ca ad-hoc networks,'' in \emph{Proceedings of ACM Pe-Wasun}, 2009, pp.
  33--40.

\bibitem{Haenggi09Interference}
M.~Haenggi and R.~K. Ganti, ``Interference in large wireless networks,''
  \emph{Found. Trends Netw.}, vol.~3, no.~2, pp. 127--248, 2009.

\bibitem{Haenggi11Mean}
M.~Haenggi, ``Mean interference in hard-core wireless networks,'' \emph{IEEE
  Commun. Letters}, vol.~15, no.~8, pp. 792--794, 2011.

\bibitem{Alawieh09Improving}
B.~Alawieh, Z.~Yongning, C.~Assi, and H.~Mouftah, ``Improving spatial reuse in
  multihop wireless networks - a survey,'' \emph{IEEE Communications Surveys,
  Tutorials}, vol.~11, no.~3, pp. 71--91, 2009.

\bibitem{Kim08Understanding}
T.-S. Kim, H.~Lim, and J.~C. Hou, ``Understanding and improving the spatial
  reuse in multihop wireless networks,'' \emph{IEEE Trans. Mobile Comput.},
  vol.~7, no.~10, pp. 1200--1212, 2008.

\bibitem{Lin07Interplay}
T.-Y. Lin and J.~C. Hou, ``Interplay of spatial reuse and SINR-determined data
  rates in CSMA/CA-based, multi-hop, multi-rate wireless networks,'' in
  \emph{Proceedings of IEEE INFOCOM}, pp. 803	--811, 2007.

\bibitem{Franceschetti07Random}
M.~Franceschetti and R.~Meester, \emph{Random Networks for Communication from
  Statistical Physics to Information Systems}.\hskip 1em plus 0.5em minus
  0.4em\relax Cambridge University Press, 2007.

\bibitem{Fu12Effective}
L.~Fu, S.~Liew, and J.~Huang, ``Effective carrier sensing in CSMA networks
  under cumulative interference,'' \emph{IEEE Trans. Mobile Comput.}, vol.~PP,
  no.~99, pp. 1--1, 2012.

\bibitem{Yang12Connectivity}
T.~Yang, G.~Mao, and W.~Zhang, ``Connectivity of large-scale csma networks,''
  \emph{IEEE Trans. Wireless Commun.}, vol.~11, no.~6, pp. 2266--2275, 2012.

\bibitem{Jiang10A}
L.~Jiang and J.~Walrand, ``A distributed csma algorithm for throughput and
  utility maximization in wireless networks,'' \emph{IEEE/ACM Trans. Netw.},
  vol.~18, no.~3, pp. 960--972, 2010.

\bibitem{Mao13Towards}
G.~Mao, Z.~Lin, X.~Ge, and Y.~Yang, ``Towards a simple relationship to estimate
  the capacity of static and mobile wireless networks,'' \emph{IEEE Trans. Wireless Commun.}, vol.~12, no.~8,pp. 3883--3895, 2013.

\bibitem{Philip07The}
J.~Philip, \emph{The probability distribution of the distance between two
  random points in a box}.\hskip 1em plus 0.5em minus 0.4em\relax KTH
  mathematics, Royal Institute of Technology, 2007.

\bibitem{Klenke10Stochastic}
A.~Klenke and L.~Mattner, ``Stochastic ordering of classical disrete
  distributions,'' \emph{Advances in Applied Probability}, vol.~42, no.~2, pp.
  392--410, 2010.

\end{thebibliography}


\begin{IEEEbiography}
[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{Photo_Tao-Yang.jpg}}]{Tao Yang}
received her BEng degree and MSc degree in Electrical Engineering from Southwest Jiaotong University, China. She is currently working towards the PhD degree in Engineering at The University of Sydney. Her research interests include wireless multihop networks and network performance analysis.
\end{IEEEbiography}

\begin{IEEEbiography}
[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{Photo-Guoqiang-Mao.jpg}}]{Guoqiang Mao} (S'98-M'02-SM'08) received PhD in telecommunications engineering in 2002 from Edith Cowan University. Between 2002 and 2013, he was a Lecturer, a Senior Lecturer and an Associate Professor at the School of Electrical and Information Engineering, the University of Sydney, all in tenured positions. He currently holds the position of Professor of Wireless Networking, Director of Center for Real-time Information Networks at the University of Technology, Sydney. He has published more than 100 papers in international conferences and journals, which have been cited more than 2000 times. His research interest includes intelligent transport systems, applied graph theory and its applications in networking, wireless multihop networks, wireless localization techniques and network performance analysis. He is a Senior Member of IEEE, an Editor of IEEE Transactions on Vehicular Technology and IEEE Transactions on Wireless Communications and a co-chair of IEEE Intelligent Transport Systems Society Technical Committee on Communication Networks.
\end{IEEEbiography}

\begin{IEEEbiography}
[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{Photo_WeiZhang.eps}}]{Wei Zhang}
(S'01-M'06-SM'11) received the Ph.D. degree in electronic engineering from The Chinese University of Hong Kong in 2005. He was a Research Fellow with the Department of Electronic and Computer Engineering, The Hong Kong University of Science and Technology, during 2006-2007. From 2008, he has been with the School of Electrical Engineering and Telecommunications, The University of New South Wales, Sydney, Australia, where he is an Associate Professor. His current research interests include cognitive radio, cooperative communications, space-time coding, and multiuser MIMO.

He received the best paper award at the 50th IEEE Global Communications Conference (GLOBECOM), Washington DC, USA, in 2007 and the IEEE Communications Society Asia-Pacific Outstanding Young Researcher Award in 2009. He was TPC Co-Chair of Communications Theory Symposium of the IEEE International Conference on Communications (ICC), Kyoto, Japan, in 2011. He serves TPC Chair of the Symposium on Signal Processing for Cognitive Radios and Networks in the 2nd IEEE Global Conference on Signal and Information Processing (GlobalSIP) -  Atlanta, USA, in 2014. He is an Editor of the IEEE TRANSACTIONS ON WIRELESS COMMUNICATIONS and an Editor of the IEEE JOURNAL ON SELECTED AREAS IN COMMUNICATIONS (Cognitive Radio Series).
\end{IEEEbiography}


\begin{IEEEbiography}
[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{Photo-Xiaofeng-Tao.jpg}}]{Xiaofeng Tao}
 (FIET, SMIEEE) received his B.S degree in electrical engineering from Xi'an Jiaotong University, China, in 1993, and M.S.E.E. and Ph.D. degrees in telecommunication engineering from Beijing University of Posts and Telecommunications (BUPT) in 1999 and 2002, respectively. He was a visiting Professor at Stanford University from 2010 to 2011, chief architect of Chinese National FuTURE 4G TDD working group from 2003 to 2006 and established 4G TDD CoMP trial network in 2006. He is currently a Professor at BUPT, the inventor or co-inventor of 50 patents, the author or co-author of 120 papers, in 4G and beyond 4G.
\end{IEEEbiography}


\end{document}
