\documentclass[10pt,preprint,letter]{sigplanconf}
\RequirePackage[utf8]{inputenc}

\usepackage{ifthen}
\newboolean{showcomments}


\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\graphicspath{{figures/}}


\usepackage{xspace}
\usepackage[htt]{hyphenat} \usepackage{alltt} 
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{booktabs} \usepackage{subfigure}
\usepackage{pifont}
\usepackage{xspace}
\usepackage{lmodern}
\usepackage{natbib}
\usepackage{url}
\usepackage{enumitem} 	\usepackage{stmaryrd}   \usepackage{float}      \usepackage{flushend}   \usepackage[hypcap]{caption} \DeclareCaptionType{copyrightbox}
\usepackage[normalem]{ulem} \usepackage{xcolor}
\newcommand{\ra}{\xspace}

\ifthenelse{\boolean{showcomments}}
{
	\newcommand{\ugh}[1]{\textcolor{red}{\uwave{#1}}}   \newcommand{\ins}[1]{\textcolor{blue}{\uline{#1}}}  \newcommand{\del}[1]{\textcolor{red}{\sout{#1}}}    \newcommand{\chg}[2]{
            \textcolor{red}{\sout{#1}}{\ra}
            \textcolor{blue}{\uline{#2}}}               }{
	\newcommand{\ugh}[1]{#1}                            \newcommand{\ins}[1]{#1}                            \newcommand{\del}[1]{}                              \newcommand{\chg}[2]{#2}
}
\usepackage{amssymb}

\newcommand{\yellowbox}[1]{
        \fcolorbox{gray}{yellow}{\bfseries\sffamily\scriptsize#1}}
\newcommand{\triangles}[1]{{
        \sf\small\textit{#1}}}

\ifthenelse{\boolean{showcomments}}{
	\newcommand{\nbc}[3]{
		{\colorbox{#3}{\bfseries\sffamily\scriptsize\textcolor{white}{#1}}}
 		{\textcolor{#3}{\sf\small\textit{#2}}}}
}{
	\newcommand{\nbc}[3]{}
	\newcommand{\version}{}
}

\newcommand{\nb}[2]{\nbc{#1}{#2}{orange}}
\newcommand{\here}{\yellowbox{ CONTINUE HERE }}
\newcommand\rev[2]{\nb{TODO (rev #1)}{#2}} \newcommand\fix[1]{\nb{FIX}{#1}}
\newcommand\todo[1]{\nb{TO DO}{#1}}



\renewenvironment{quote}
    {\list{}{\rightmargin\leftmargin}\item\relax\begin{it}}
    {\end{it}\endlist}

\newcommand{\ttimes}{\ensuremath{\times}}



\usepackage{needspace}
\newcommand{\needlines}[1]{\Needspace{#1\baselineskip}}

\usepackage{xcolor}
\definecolor{source}{gray}{0.95}
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily\small,
    showspaces=false,
    showstringspaces=false,
    captionpos=b, 
    columns=fullflexible}

\lstdefinelanguage{ST}{
    keywordsprefix=\#,
    morekeywords=[0]{true,false,nil},
    morekeywords=[1]{self,super,thisContext},
    morekeywords=[2]{ifTrue:,ifFalse:,whileTrue:,whileFalse:,and:,or:,xor:,not:,by:,timesRepeat:},
    sensitive=true,
    morecomment=[s]{"}{"},
    morestring=[d]',
    escapechar={!},
    alsoletter={., :, -, =, +, <},
    moredelim=**[is][\itshape]{/+}{+/},
    literate=
        {^}{{}}1
        {:=}{{}}1
        {~}{{}}1
        {-}{{\sf -\hspace{-0.13em}-}}1  {+}{\raisebox{0.08ex}{+}}1		, style=STStyle
}
\lstdefinestyle{STStyle}{
    tabsize=4,
basicstyle=\ttfamily\small,
    keywordstyle=\bf\ttfamily,
stringstyle=\mdseries\slshape,
    commentstyle=\it\rmfamily\color{darkgray}, 
    commentstyle=\mdseries\slshape\color{gray},
emphstyle=\bf\ttfamily,
    escapeinside={!}{!},
keepspaces=true
} 

\lstnewenvironment{stcode}    [2][]{\lstset{language=ST,#1}\needlines{#2}}{}
\lstnewenvironment{ccode}     [2][]
    {\lstset{language=C,numbers=left,escapechar=\+-\pm1.0 \times-\pm\approx 78\times\approx 2,8 \times\pm\approx 99\times\approx 3.6 \times\pm\approx 28\times1.0 \times\pm\approx 25\times-78\times99\times344\times\rightarrow\rightarrow\rightarrow$ load to memory.
 As a consequence, our approach also improves portability since the compilation infrastructure is in general very dependent on the platform.

 \subsection{Perspectives}


Even current self-hosted or metacircular VMs freeze many aspects at compile-time.
We think VMs should be easier to evolve and adapt dynamically, using reflective runtime capabilities.  
At the same time, the VM performance should be comparable with the solutions written in low-level languages. 
We believe the work presented in this paper together with other techniques such as gradual typing and type inference, opens up new perspectives about the possibility of approaching our vision.

In this setting we plan to work on improving the \W back-end in order to produce more efficient code. This includes powerful static and dynamic analysis techniques targeted specially for highly dynamic environments. 
 












\bibliographystyle{abbrv}

\bibliography{local}





\end{document}