\subsection{Binary Sentence Generation}



\subsubsection{Human Evaluation} 
In \autoref{tab:human_annotation}, we report the performances of systems when evaluated by humans on the polarity transfer task. 100 sentences are generated by each system and 3 english native speakers are asked to annotate each sentence along 3 dimensions (\textit{i.e} fluency, sentiment and content preservation). Turkers assign binary labels to fluency and sentiment (following the protocol introduced in \citet{jalalzai2020heavy}) while content is evaluated on a likert scale from 1-5. For content preservation, both the input sentence and the generated sentence are provided to the turker. The annotator agreement is measure by the Krippendorff Alpha\footnote{Krippendorff Alpha measures of inter-rater reliability in $[0,1]$: $0$ is perfect disagreement and $1$ is perfect agreement.} \cite{krippendorff2018content}. The Krippendorff Alpha is: $\alpha=0.54$ on the sentiment classification, $\alpha=0.20$ for fluency and $\alpha=0.18$ for content preservation.

\begin{table}[t]
\centering
   \begin{tabular}[h]{c|ccc}
   \hline 
   Model &  Fluency & Content & Sentiment\\\hline
Human& 0.80 & 3.4 & 0.78 \\\hline
$Adv$ & 0.60& 2.4 & 0.63 \\
$vCLUB-S$ & 0.62& 2.6 & 0.65 \\
$KL$  & 0.68 & 2.6 &  0.63 \\
$D_{\alpha = 1.3}$ & 0.70 & 2.4 &  0.65  \\
$D_{\alpha = 1.5}$ &0.68 & 2.9 &  0.70  \\
$D_{\alpha = 1.8}$ &0.76& 3.0 &  0.58 \\\hline
\end{tabular}
\caption{Human annotation of generated samples. For this comparison we rely on the sentences provided in \url{https://github.com/rpryzant/delete_retrieve_generate}. Human annotations are also provided by \citet{li2018delete}. We have reprocessed the provided sentence using a tokenizer based on SentencePiece \cite{tok_0,tok_1}. Since there is a trade-off between automatic evaluation metrics (\textit{i.e} BLEU, Perplexity and Accuracy of Style Transfer), we set
minimum thresholds on BLEU and on style transfert accuracy. The best model that met the threshold on validation is selected. We will release--along with our code--new generated sentences for comparison.}
\label{tab:human_annotation}
\end{table}
\subsection{Content preservation using Cosine Similarity}
\begin{figure} 

\centering     \includegraphics[width=0.45\textwidth]{style_sent/cossim_sent_True.pdf}
\caption{Content preservation measured by the cosine similarity. }\label{fig:add_style_transfert_sentiment}
\end{figure} 

\autoref{fig:add_style_transfert_sentiment} measures the content preservation measured using cosine similarity for the sentence generation task using sentiment labels. As with the BLEU score, we observe that as the learnt representation becomes more entangled ($\lambda$ increases) less content is preserved. Similarly to BLEU the model using the KL bound conserves outperforms other models in terms of content preservation for $\lambda > 5$.

\subsection{Example of generated sentences}
\autoref{tab:example_sentences_st} gathers some sentences generated by the different sentences for different values of $\lambda$. 

\textbf{Style transfert.} From \autoref{tab:example_sentences_st}, we can observe that the impact of disentanglement on a qualitative point of view. For small values of $\lambda$ the models struggle to do the style transfer (see example 2 for instance). As $\lambda$ increases disentanglement becomes easier, however, the content becomes more generic which is a known problem (see \cite{mmi} for instance). 



\textbf{Example of ``degeneracy" for large values of $\lambda$.} For sentences generated with the baseline model a repetition phenomenon appears for greater values of $\lambda$. For certain sentences, models ignore the style token (\textit{i.e.}, the sentence generated with a positive sentiment is the same as the one generated with the negative sentiment). We attribute this degeneracy to the fact that the model is only trained with $(x_i,y_i)$ sharing the same sentiment which appears to be an intrinsic limitation of the model introduced  by \cite{text}.

\textbf{Analysis of performances of vCLUB-S} Similarly to what can be observed with automatic evaluation \autoref{tab:example_sentences_st} shows that the system based on vCLUB-S has only two regimes: “light” disentanglement and strong disentanglement. With light disentanglement the decoder fail at transferring the polarity and for strong disentanglement few content features remain and the system tends to output generic sentences.

\section{Additional Results on Multi class Sentence Generation}\label{sec:addition_multu}
Results on the multi-class style transfer and on are reported in \autoref{fig:accuracy_category_st} Similarly than in the binary case there exists a trade-off between content preservation and style transfer accuracy. We observe that the BLEU score in this task is in a similar range than the one in the gender task, which is expected because data come from the same dataset where only the labels changed.


\begin{table}
\resizebox{0.5\textwidth}{!}{\begin{tabular}{ll|l} \hline
$\lambda$ & Model	& Sentence	\\\hline
\iffalse
\multirow{7}{*}{0.1} &\textbf{Input}  & \textbf{the food was the best food i've ever experienced.}  \\\hline
&Adv  &  the food was the best i've ever had in. \\
&vCLUB-S  &  the food was the best i've ever had. \\
&KL  &  	the food was the best food i've ever experienced. \\
&$D_{\alpha=1.3}$  & the food was the best food i've experienced.  \\
&$D_{\alpha=1.5}$  &  the food was so good and the best i ever had. \\
&$D_{\alpha=1.8}$  & the food is so good i will be going back.  \\\hline
\multirow{7}{*}{1} &Input  & the food was the best food i've ever experienced.  \\\hline
&Adv  &  	the food was the best i've ever eaten here. \\
&vCLUB-S  & the food was the best.  \\
&KL  &  	the food was the best food i've ever experienced. \\
&$D_{\alpha=1.3}$  & 	the food was the best i've ever eaten at.  \\
&$D_{\alpha=1.5}$  & the food was amazing as well as i am extremely satisfied.  \\
&$D_{\alpha=1.8}$  &  	the food was very good and the service good. \\\hline
\multirow{7}{*}{5} &Input  & the food was the best food i've ever experienced.  \\\hline
&Adv  & 	i love this place.  \\
&vCLUB-S  & i love it. \\
&KL  &   the food was the best i've ever eaten here.\\
&$D_{\alpha=1.3}$  &  the food is ok, but the service is terrible. \\
&$D_{\alpha=1.5}$  &  	the food is always good but the service is always bad. \\
&$D_{\alpha=1.8}$  &  the food was ok and very good. \\\hline
\multirow{7}{*}{10} &Input  & the food was the best food i've ever experienced.  \\\hline
&Adv  & i love this place.  \\
&vCLUB-S  & i love it. \\
&KL  &  the food was excellent, but i love this food. \\
&$D_{\alpha=1.3}$  & the food was worst at best.  \\
&$D_{\alpha=1.5}$  & the food was not well cooked with the sauce.  \\
&$D_{\alpha=1.8}$  & 	the food wasn't bad but it was not good.  \\\hline\hline
\fi \multirow{7}{*}{0.1} &\textbf{Input}  &  	\textbf{It's freshly made, very soft and flavorful.} \\\hline
&Adv  & it's crispy and too nice and very flavor.  \\
&vCLUB-S  & It's freshly made, and great. \\
&KL  & it's a huge, crispy and flavorful.  \\
&$D_{\alpha=1.3}$  &  it's hard, and the flavor was flavorless. \\
&$D_{\alpha=1.5}$  & it's very dry and not very flavorful either.  \\
&$D_{\alpha=1.8}$  & it's a good place for lunch or dinner.  \\ \hline
\multirow{7}{*}{1} &Input  & 	it's freshly made, very soft and flavorful.  \\\hline
&Adv  &  it's not crispy and not very flavorful flavor. \\
&vCLUB-S  & It's bad. \\
&KL  & 	it's very fresh, and very flavorful and flavor.  \\
&$D_{\alpha=1.3}$  & it's not good, but the prices are good.  \\
&$D_{\alpha=1.5}$  &  it's not very good, and the service was terrible. \\
&$D_{\alpha=1.8}$ &	it was a very disappointing experience and the food was awful.   \\\hline
\multirow{7}{*}{5} &Input  & 	it's freshly made, very soft and flavorful.  \\\hline
&Adv  &  	i hate this place. \\
&vCLUB-S  & i hate it. \\
&KL  &  	it's very fresh, flavorful and flavorful. \\
&$D_{\alpha=1.3}$  &  	it's not worth the money, but it was wrong. \\
&$D_{\alpha=1.5}$  &  it's not worth the price, but not worth it. \\
&$D_{\alpha=1.8}$  & 	it's hard to find, and this place is horrible.  \\\hline
\multirow{7}{*}{10} &Input  & 	it's freshly made, very soft and flavorful.  \\\hline
&Adv  & i hate this place.  \\
&vCLUB-S  & i hate it. \\
&KL  & 	it's a little warm and very flavorful flavor.  \\
&$D_{\alpha=1.3}$  & it was a little overpriced and not very good.  \\
&$D_{\alpha=1.5}$  &  	it's a shame, and the service is horrible. \\
&$D_{\alpha=1.8}$  & 	it's not worth the \$ NUM.  \\\hline\hline \iffalse
\multirow{6}{*}{0.1} &\textbf{Input}  &  \textbf{Only then did our waitress show up with another styrofoam cup full of water.} \\\hline
&Adv  &  then she didn't get a glass of coffee she was full full full full water. \\
&vCLUB-S  & the waitress broke the cup of water \\
&KL  & only NUM hours of us in the water and no gratuity of a water.  \\
&$D_{\alpha=1.3}$  & waited NUM minutes at the front with us and offered to an ice glass water.  \\
&$D_{\alpha=1.5}$  & after NUM minutes of a table with a table and two entrees arrived.  \\
&$D_{\alpha=1.8}$  & after NUM minutes of a table with a table and NUM  entrees arrived.  \\ \hline
\multirow{7}{*}{1} &Input  &  Only then did our waitress show up with another styrofoam cup full of water.   \\ \hline
&Adv  &  	only NUM minutes of our waiter was able to get a refilled ice cream. \\
&vCLUB-S  & the waitress is bad i hate this place \\
&KL  &   even the refund of them were brought out to refill the plate of our order. \\
&$D_{\alpha=1.3}$  &  NUM stars for the short NUM minute wait and recommend the perfect patio. \\
&$D_{\alpha=1.5}$  & 	NUM minutes later, my food came out NUM minutes after our order.  \\
&$D_{\alpha=1.8}$  &  i've been many years at the same time and great service. \\\hline
\multirow{7}{*}{5} &Input  &  Only then did our waitress show up with another styrofoam cup full of water.   \\ \hline
&Adv  &  great price. \\
&vCLUB-S  & i love it \\
&KL  &  she was able to get us in for a table. \\ 
&$D_{\alpha=1.3}$  & 	they are very friendly and have a great selection of beers and drinks. \\ 
&$D_{\alpha=1.5}$  &  i have been here several times and it's always a good experience. \\
&$D_{\alpha=1.8}$  &  	he's a great guy and a very nice person with a smile. \\\hline
\multirow{7}{*}{10} &Input  &  Only then did our waitress show up with another styrofoam cup full of water.   \\\hline
&Adv  & our server was very friendly and attentive.  \\
&vCLUB-S  & i love it \\
&KL  &  great food, great prices, and great prices for a good price. \\
&$D_{\alpha=1.3}$  &  and i've been to this place since NUM  years and love it. \\
&$D_{\alpha=1.5}$  &  only did the refill on us for about NUM mins with water tables. \\
&$D_{\alpha=1.8}$  & 	i love the place.  \\\hline\hline

\fi
\end{tabular}}
\caption{Sequences generated by the different models on the binary sentiment transfer task.}
\label{tab:example_sentences_st}
\end{table} \iffalse
\vspace{-4mm}
\begin{longtable}[ht]{ll|l}
\hline
 $\lambda$ & Model	& Sentence	\\\hline
\multirow{7}{*}{0.1} &\textbf{Input}  &  	\textbf{Definitely every flavor for every person.} \\\hline
&Adv  & 	every thing have every other time.  \\
&vCLUB-S  & definitely very flavorful. \\
&KL  &  definitely a good time to visit. \\
&$D_{\alpha=1.3}$  &   definitely worth every way every way. \\
&$D_{\alpha=1.5}$  &  definitely worth a try for all. \\
&$D_{\alpha=1.8}$  & definitely worth a try to eat.  \\ \hline
\multirow{7}{*}{1} &\textbf{Input } &  \textbf{	Definitely every flavor for every person.} \\\hline
&Adv  & 	definitely my wife and i love.  \\
&vCLUB-S  & i like it. good place to eat. \\
&KL  &  definitely worth every penny every time. \\
&$D_{\alpha=1.3}$  &  	definitely worth the drive to earth. \\
&$D_{\alpha=1.5}$  & 	definitely a recommend the whole family.  \\
&$D_{\alpha=1.8}$  & thank you for your help.  \\\hline
\multirow{7}{*}{5} &Input  & 	Definitely every flavor for every person.  \\\hline
&Adv  &  	definitely a good place to eat. \\
&vCLUB-S  & i love it !  \\
&KL  &  	always a great experience. \\
&$D_{\alpha=1.3}$  & 	a great place to eat.  \\
&$D_{\alpha=1.5}$  & 	definitely my go - to spot.  \\
&$D_{\alpha=1.8}$  & great service and great food.  \\\hline
\multirow{7}{*}{10} &Input  & Definitely every flavor for every person.  \\\hline
&Adv  & i love this place!   \\
&vCLUB-S  & i love the flavor !  \\
&KL  & definitely get my good time there.  \\
&$D_{\alpha=1.3}$  & 	very good and fast service.  \\
&$D_{\alpha=1.5}$  &  	i would recommend this place to anyone. \\
&$D_{\alpha=1.8}$  &  definitely worth the drive. \\\hline\hline
\multirow{7}{*}{0.1} &\textbf{Input}  & \textbf{needless to say, i will be paying them a visit and contacting corporate.}  \\\hline
&Adv  & needless to say i will never be back with this vet... unacceptable.   \\
&  vCLUB-S    &  needless to say i will be back and don't recommend it. \\
&$D_{\alpha=1.3}$  & needless to say, i will never be back to a new office and walked away. \\
&$D_{\alpha=1.5}$  & needless to say, i will never be back to this location with my flight. \\
&$D_{\alpha=1.8}$  & 	needless to say, i'm not sure what i wanted to get it. \\ \hline
\multirow{7}{*}{1} &Input  &  needless to say, i will be paying them a visit and contacting corporate. \\\hline
&Adv  &  	needless to say, i will never be back, and i am a member. \\
&  vCLUB-S    &  needless to say i hate it. \\
&KL  &  	needless to say i will be back for a year and i am completely satisfied. \\
&$D_{\alpha=1.3}$  & 	i wouldn't recommend this place to anyone who needs a good job. \\
&$D_{\alpha=1.5}$  &  needless to say, i will not be going back to this particular location again.\\
&$D_{\alpha=1.8}$  & 	i'm not sure what i've had at this place.... \\ \hline
\multirow{7}{*}{5} &Input  & needless to say, i will be paying them a visit and contacting corporate.  \\\hline
&Adv  &  	i'm not sure what i'm going to this place. \\
&  vCLUB-S    &  i won't be back again. \\
&KL  & 	needless to say, i will never go back, and i am completely unhappy.  \\
&$D_{\alpha=1.3}$  & 	they aren't even that busy, but the food isn't good. \\
&$D_{\alpha=1.5}$  & if you're looking for a good deal, you'll find better. \\
&$D_{\alpha=1.8}$  & 	needless to say, i didn't have a bad experience. \\ \hline
\multirow{7}{*}{10} &Input  & needless to say, i will be paying them a visit and contacting corporate.  \\\hline
&Adv  &  	i'm not sure what i've been to. \\
&  vCLUB-S    &  i hate it. \\
&KL  & 	needless to say, i will be back again, and a complete complete joke.  \\
&$D_{\alpha=1.3}$  &	i'm not sure what the other reviews are to the worst.  \\
&$D_{\alpha=1.5}$  & 	needless to say, i will not be going back to this location.\\
&$D_{\alpha=1.8}$  & i've been to this location NUM times and it's not good.\\ \hline\hline
\multirow{7}{*}{0.1} &\textbf{Input}  &  \textbf{We had to wait for a table maybe NUM min.} \\\hline
&Adv  &  we had to wait for a table NUM mins.	 \\
&vCLUB-S  & we had to wait for a table NUM mins.  \\
&KL  & 	 we had to wait for a wait for NUM min. \\
&$D_{\alpha=1.3}$  & we had to wait a table for NUM min.\\
&$D_{\alpha=1.5}$  &	we had a NUM minute wait for over two minutes. \\
&$D_{\alpha=1.8}$  & we had a bad experience with a groupon for NUM.\\ \hline
\multirow{7}{*}{1} &Input  &  we had to wait for a table maybe NUM min. \\
&Adv  &  we went to wait for NUM minutes for no one.	 \\
&vCLUB-S  & i dislike it.  \\
&KL  & 		we had a wait time for us to order NUM. 
 \\
&$D_{\alpha=1.3}$  & we waited for NUM minutes for a refill order. \\
&$D_{\alpha=1.5}$  & 	we had a bad experience. \\
&$D_{\alpha=1.8}$  & 	we had a NUM minute wait for a table. \\ \hline
\multirow{7}{*}{5} &Input  & we had to wait for a table maybe NUM min.  \\\hline
&Adv  &  	i'm not sure what i paid for.	 \\
&vCLUB-S  & i don't like it.  \\
&KL  & 		we ordered a table for NUM minutes of our table.  \\
&$D_{\alpha=1.3}$  & we were seated immediately and we weren't even acknowledged. \\
&$D_{\alpha=1.5}$  & 	we ordered a chicken parm chicken and it was very bland. \\
&$D_{\alpha=1.8}$  & 	we had a bad experience with my boyfriend's birthday.\\ \hline
\multirow{7}{*}{10} &Input  & we had to wait for a table maybe NUM min.  \\\hline
&Adv  &  	i'm not sure what happened.	 \\
&vCLUB-S  & i don't like it.  \\
&KL  & 	we had a table to get a table for NUM.  \\
&$D_{\alpha=1.3}$  & 	we ordered NUM for a lunch special and was very disappointed.\\
&$D_{\alpha=1.5}$  &we were seated immediately and we waited. \\
&$D_{\alpha=1.8}$  & we ordered NUM wings, NUM of NUM tacos and we waited. \\ \hline\hline
\caption{Sequences generated by the different models on the binary sentiment conditional sentence generation task.}
\label{tab:example_sentences_cg}
\end{longtable}
\fi
\twocolumn
\iffalse
\subsubsection{Results on Conditional Sentence Generation}
\begin{figure*} \centering
\begin{subfigure}[t]{0.32\textwidth}
\includegraphics[width=\textwidth]{style_sent/bleu_sent_False.pdf}\vspace{-.3cm}
\caption{}\label{fig:bleu_st_cg}  
\end{subfigure} \begin{subfigure}[t]{0.32\textwidth}
\includegraphics[width=\textwidth]{style_sent/accu_sent_False.pdf}\vspace{-.3cm}
\caption{}\label{fig:accuracy_sentiment_cg} \end{subfigure} \begin{subfigure}[t]{0.32\textwidth}
        \includegraphics[width=\textwidth]{style_sent/ppl_sent_False.pdf}\vspace{-.3cm}
        \caption{}\label{fig:ppl_sentiment_cg}
    \end{subfigure}\vspace{-.3cm}
    \caption{Numerical experiments on conditional sentence generation. Results include BLEU (\autoref{fig:bleu_st_cg}), style transfer accuracy (\autoref{fig:accuracy_sentiment_cg}) and sentence fluency (\autoref{fig:ppl_sentiment_cg}).}\label{fig:conditionnal_sentence_sentiment}
\end{figure*}
\fi