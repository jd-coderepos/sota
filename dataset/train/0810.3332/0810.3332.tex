\documentclass[runningheads]{llncs}


\newcommand{\out}[1]{}
\newcommand{\ipar}{^{\alpha}}
\newcommand{\mixna}{{\sf MixNA}}\newcommand{\addna}{{\sf AddNA}}\newcommand{\multna}{{\sf MultNA}}
\newcommand{\fn}{{\sf Fn}}
\newcommand{\ov}[1]{{\sc #1}}
\newcommand{\ptuple}[1]{\mbox{}#1\mbox{}}

\newcommand{\sag}[1]{\stackrel{#1}{\longrightarrow}}
\newcommand{\ssag}[1]{\stackrel{#1}{\longleftarrow}}

\newcommand{\tar}[1]{{\bf #1}}
\newcommand{\aut}[1]{{\cal #1}}


\newcommand{\bmat}{\left[ \begin{array}}
\newcommand{\emat}{\end{array}\right]}

\newcommand{\dnd}{\hsp\mbox{dnd}\hsp}

\newcommand{\scnf}{\mbox{{\bf nf}}}
\newcommand{\infer}{\mbox{}}
\newcommand{\valid}{\mbox{}}
\newcommand{\bis}{\stackrel{\leftrightarrow}{\_\_}}

\newcommand{\ga}{\alpha} \newcommand{\gb}{\beta} \newcommand{\gd}{\delta} \newcommand{\gl}{\lambda} \newcommand{\gr}{\rho}
\newcommand{\gp}{\pi} 

\newcommand{\1}{\u{a}}
\newcommand{\2}{\c{s}}
\newcommand{\5}{\c{t}}
\newcommand{\8}{\^{\i}}
\newcommand{\9}{\^{a}}

\newcommand{\dis}[2]{\delta_{#1;#2}}
\newcommand{\reduc}[2]{\rho_{#1;#2}}
\newcommand{\atuple}[1]{\langle {#1} \rangle}

\newcommand{\atr}[2]{\mbox{}}
\newcommand{\armf}[2]{\mbox{}}
\newcommand{\aidf}[2]{\mbox{}}
\newcommand{\asum}{\oplus} \newcommand{\msum}{\otimes}  
\newcommand{\acomp}{\cdot} \newcommand{\mcomp}{\circ}  
\newcommand{\afeed}{\feed} \newcommand{\mfeed}{\nfeed}  
\newcommand{\aidn}{\smallidn} \newcommand{\midn}{\idn}  
 \newcommand{\mtr}{\tr}  
 \newcommand{\mrmf}[2]{\cp{#1}_{#2}}  
\newcommand{\armfo}{\rmfo} \newcommand{\mrmfo}{\ssink}  
\newcommand{\armfii}{\rmfii} \newcommand{\mrmfii}{\cp}  
 \newcommand{\midf}[2]{\eq{#2}^{#1}}  
\newcommand{\aidfo}{\idfo} \newcommand{\midfo}{\asour}  
\newcommand{\aidfii}{\idfii} \newcommand{\midfii}{\eq}  

\newcommand{\ded}[2]{\displaystyle{\frac{#1}{#2}}}

\newcommand{\np}{\ \Diamondplus \, \ }
\newcommand{\Diamondplus}{
	 \setlength{\unitlength}{1ex}
	 \begin{picture}(1.3,2)
	 \put(0,0){}
	 \put(0.0455,0.25){}
	 \end{picture}
	 }
\newcommand{\der}{\partial}
\newcommand{\lbt}{\triangleleft}
\newcommand{\rbt}{\triangleright}

\newcommand{\mixfn}{{\sf MixFn}}
\newcommand{\mixrel}{{\sf MixRel}}

\newcommand{\addrel}{{\sf AddRel}}
\newcommand{\multrel}{{\sf MultRel}}
\newcommand{\rel}{{\sf REL}}
\newcommand{\prfn}{{\sf PrFn}}
\newcommand{\qfn}{{\sf QFn}}
\newcommand{\prcrel}{{\sf PrCRel}}

\newcommand{\proc}{{\sf Proc}}
\newcommand{\SPF}{{\sf SPF}}
\newcommand{\SSPF}{{\cal P}{\sf SPF}}
\newcommand{\sproc}{{\sf SProc}}
\newcommand{\aproc}{{\sf AProc}}
\newcommand{\faproc}{{\sf FAProc}}

\newcommand{\cp}[1]{\cpsp{\circ}^{ #1}}
\newcommand{\eq}[1]{\eqme{\circ}_{ #1}}
\newcommand{\globeq}[1]{\eqme{\star}_{ #1}}
\newcommand{\ssink}[1]{\sink{\circ}^{ #1}}
\newcommand{\ssour}[1]{\sour{\circ}_{ #1}}
\newcommand{\merge}[1]{\eqme{\bullet}_{ #1}}
\newcommand{\asink}[1]{\sink{\bullet}^{ #1}}
\newcommand{\asour}[1]{\sour{\bullet}_{ #1}}
\newcommand{\osplit}[2]{\begin{array}[t]{l}\split{#1}\vspace{-6pt}\\ _{#2}\end{array}}
\newcommand{\omerge}[2]{\begin{array}[b]{l} _{#1}\vspace{-2pt}\\ \merge{#2}\end{array}}
\newcommand{\ospl}[3]{\begin{array}[t]{l}\split{#1}_{#2}\vspace{-6pt}\\ _{#3}\end{array}}
\newcommand{\omrg}[3]{\begin{array}[b]{l} _{#1}\vspace{-2pt}\\ \merge{#3}^{#2}\end{array}}


\newcommand{\fcomp}{\circ }
\newcommand{\pp}{\mbox{}}
\newcommand{\pvee}{\vee\!\!\!\vee}
\newcommand{\pwedge}{\wedge\!\!\!\wedge}
\newcommand{\ptop}{\top\!\!\!\!\top}
\newcommand{\pbot}{\bot\!\!\!\!\bot}
\newcommand{\spvee}{\setlength{\unitlength}{0.005000in}
  \begin{picture}(20,20)(0,0)
  \put(0,0){\makebox(0,0)[lb]{\smash{\mbox{}}}}
  \put(3,0){\makebox(0,0)[lb]{\smash{\mbox{}}}}
  \end{picture}\,}
\newcommand{\spwedge}{\setlength{\unitlength}{0.005000in}
  \begin{picture}(20,20)(0,0)
  \put(0,0){\makebox(0,0)[lb]{\smash{\mbox{}}}}
  \put(3,0){\makebox(0,0)[lb]{\smash{\mbox{}}}}
  \end{picture}\,}
\newcommand{\pua}{\uparrow\!\!\uparrow}
\newcommand{\nidfii}[1]{\eq{#1}}\newcommand{\nidfo}[1]{\ssour{#1}}\newcommand{\nidf}[2]{\eq{#2}^{#1}}\newcommand{\nrmfii}[1]{\cp{#1}}\newcommand{\nrmfo}[1]{\ssink{#1}}\newcommand{\nrmf}[2]{\cp{#1}_{#2}}


\newcommand{\pe}[1]{\stackrel{#1}{\longrightarrow}}
\newcommand{\ep}[1]{\stackrel{#1}{\longleftarrow}}
\newcommand{\Pe}[1]{\stackrel{#1}{\Longleftrightarrow}}

\newcommand{\esim}[1]{\stackrel{#1}{\Longleftrightarrow}}
\newcommand{\sLlra}[1]{\stackrel{#1}{\Longleftrightarrow}}
\newcommand{\congsim}[1]{\stackrel{#1}{\Longleftrightarrow}}
\newcommand{\sra}[1]{\stackrel{#1}{\longrightarrow}}
\newcommand{\sla}[1]{\stackrel{#1}{\longleftarrow}}

\newcommand{\ccong}[1]{\sim_{ #1 }}
\newcommand{\crel}[1]{\mbox{-\Rel}}
\newcommand{\jur}[1]{\mbox{}}
\newcommand{\lin}[1]{\mbox{}}
\newcommand{\ijur}[1]{[\mid #1 \mid ]}  \newcommand{\ilin}[1]{\mid #1 \mid}     \newcommand{\nf}{{\sc nf}}
\newcommand{\scpair}{{\sc pair}}
\newcommand{\scexp}{{\sc exp}}
\newcommand{\scgr}{{\sc gr}}

\newcommand{\aafc}{-Flow-Calculus}
\newcommand{\aaf}{-flow}
\newcommand{\xyf}[1]{\mbox{ #1-flow}}
\newcommand{\xyfc}[1]{\mbox{ #1-Flow-Calculus}}

\newcommand{\emb}{E}
\newcommand{\bidn}{\nsidn}      \newcommand{\nidn}{\idn}
\newcommand{\bid}{\idn}
\newcommand{\btr}{\nstr}        \newcommand{\ntr}{\nstr}
\newcommand{\bsum}{\nsadun}         \newcommand{\adun}{\oplus}
\newcommand{\bcomp}{\circ}    \newcommand{\ncomp}{\circ}
\newcommand{\bfeed}{\nsfeed}  \newcommand{\nfeed}[1]{\steff{\wedge}^{ #1}}
\newcommand{\feed}[1]{\uparrow^{ #1}} \newcommand{\exfeed}[2]{\uparrow^{ #1}_{#2}}
\newcommand{\lcomp}[1]{\cdot_{L( #1 )}}
\newcommand{\rcomp}[1]{\cdot_{R( #1 )}}
\newcommand{\comp}{\cdot}
\newcommand{\bb}[1]{\ul{#1}}

\newcommand{\eval}[1]{{\cal E}_{{\rm I\! F}\ell}^{ #1}}
\newcommand{\flxt}{\mbox{\rm IF}}
\newcommand{\nflxt}{\mbox{\rm INF}}
\newcommand{\fle}{\mbox{\rm IF}}
\newcommand{\nfl}{\mbox{\rm INF}}
\newcommand{\N}{\mbox{\rm IN}}
\newcommand{\spf}{\mbox{\rm\bf SPF}}
\newcommand{\Rel}{\mbox{\rm IRel}}
\newcommand{\Pfn}{\mbox{\rm IPfn}}
\newcommand{\Bi}{\mbox{\rm IBi}}
\newcommand{\In}{\mbox{\rm IIn}}
\newcommand{\PSur}{\mbox{\rm IPSur}}
\newcommand{\Sur}{\mbox{\rm  SSur}}
\newcommand{\Fn}{\mbox{\rm IFn}}
\newcommand{\Lra}{\leftrightarrow}
\newcommand{\LRA}{\stackrel{\_\_}{\Lra}}
\newcommand{\cfl}[1]{\mbox{\rm IF}}
\newcommand{\flxy}[2]{\mbox{\rm IF}}
\newcommand{\fl}{\mbox{\rm IF}}
\newcommand{\ua}{\uparrow}
\newcommand{\id}{{\sf I}}
\newcommand{\idn}[1]{{\sf I}_{ #1}}
\newcommand{\smallidn}[1]{{\sf i}_{ #1}}
\newcommand{\tr}[2]{\mbox{}}
\newcommand{\smalltr}[2]{\mbox{}}
\newcommand{\idf}[2]{\vee^{#1}_{#2}}
\newcommand{\idfii}[1]{\vee_{#1}}
\newcommand{\idfo}[1]{\top_{#1}}
\newcommand{\rmf}[2]{\wedge^{#1}_{#2}}
\newcommand{\rmfii}[1]{\wedge^{#1}}
\newcommand{\rmfo}[1]{\bot^{#1}}
\newcommand{\op}{\oplus}
\newcommand{\ot}{\otimes}
\newcommand{\nsum}{\oplus}

\newcommand{\caa}{a\alpha} \newcommand{\cab}{a\beta}
\newcommand{\cac}{a\gamma} \newcommand{\cad}{a\delta}
\newcommand{\cba}{b\alpha} \newcommand{\cbb}{b\beta}
\newcommand{\cbc}{b\gamma} \newcommand{\cbd}{b\delta}
\newcommand{\cca}{c\alpha} \newcommand{\ccb}{c\beta}
\newcommand{\ccc}{c\gamma} \newcommand{\ccd}{c\delta}
\newcommand{\cda}{d\alpha} \newcommand{\cdb}{d\beta}
\newcommand{\cdc}{d\gamma} \newcommand{\cdd}{d\delta}

\out{
\newtheorem{theorem}{Theorem}[section]
\newtheorem{definition}[theorem]{Definition}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}
\newtheorem{exercise}{Exercise}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{open}[theorem]{Open question}

\newtheorem{theorem}{Thm.}[section]
\newtheorem{definition}[theorem]{Def.}
\newtheorem{proposition}[theorem]{Prop.}
\newtheorem{corollary}[theorem]{Cor.}
\newtheorem{lemma}[theorem]{Lem.}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{remark}[theorem]{Rmk.}
\newtheorem{example}[theorem]{Ex.}
\newtheorem{exercise}{Ex.}
\newtheorem{notation}[theorem]{Ntn.}
}


\newcommand{\bdfn}{\begin{definition} \begin{rm}}
\newcommand{\edfn}{\hfill{} \end{rm} \end{definition}}
\newcommand{\bthm}{\begin{theorem}}
\newcommand{\ethm}{\end{theorem}}
\newcommand{\bprop}{\begin{proposition}}
\newcommand{\eprop}{\end{proposition}}
\newcommand{\bcor}{\begin{corollary}}
\newcommand{\ecor}{\end{corollary}}
\newcommand{\blem}{\begin{lemma}}
\newcommand{\elem}{\end{lemma}}
\newcommand{\bfact}{\begin{fact}}
\newcommand{\efact}{\end{fact}}
\newcommand{\brmk}{\begin{remark} \begin{rm}}
\newcommand{\ermk}{\hfill{} \end{rm}\end{remark} }
\newcommand{\bex}{\begin{example} \begin{rm}}
\newcommand{\eex}{\hfill{} \end{rm} \end{example}}
\newcommand{\bxc}{\begin{exercise}\begin{rm}}
\newcommand{\exc}{\hfill{} \end{rm} \end{exercise}}
\newcommand{\bntn}{\begin{notation}\begin{rm}}
\newcommand{\entn}{\hfill{} \end{rm} \end{notation}}
\newcommand{\bproof}{\begin{rm}  \noindent {\bf Proof:} \hspace{1ex}}
\newcommand{\eproof}{\hfill{} \end{rm}\\}
\newcommand{\bopen}{\begin{open}}
\newcommand{\eopen}{\end{open}}

\newcommand{\IncludeEpsFile}[1]
	      {\hspace*{0mm}\epsffile{#1}}
\newcommand{\IncludeEpsFileX}[2]
	      {\hspace*{0mm}\epsfxsize=#2\epsffile{#1}}
\newcommand{\IncludeEpsFileY}[2]
	      {\hspace*{0mm}\epsfysize=#2\epsffile{#1}}
\newcommand{\IncludeEpsFileXY}[3]
	      {\hspace*{0mm}\epsfysize=#3\epsfxsize=#2\epsffile{#1}}
\newcommand{\IncludeEpsFileCenter}[1]
      {\centerline{\hspace*{0mm}\epsffile{#1}}}
   \newcommand{\IncludeEpsFileCenterX}[2]
      {\centerline{\hspace*{0mm}\epsfxsize=#2\epsffile{#1}}}
   \newcommand{\IncludeEpsFileCenterY}[2]
      {\centerline{\hspace*{0mm}\epsfysize=#2\epsffile{#1}}}
   \newcommand{\IncludeEpsFileCenterXY}[3]
      {\centerline{\hspace*{0mm}\epsfysize=#3
	 \epsfxsize=#2\epsffile{#1}}}



\newcommand{\warn}{\vspace{1.5ex} \noindent {\bf Warning:} \ }
\newcommand{\bobj}{\begin{alltt}}
\newcommand{\eobj}{\end{alltt}}
\newcommand{\more}{\vspace{.5ex}{\begin{center} ||| MORE TO COME HERE |||
  \end{center}}\vspace{.5ex}}
\newcommand{\idea}[1]{\begin{center} \parbox{\textwidth}{
  \noindent \rule{\textwidth}{1pt} \vspace{-.30in}
  \begin{quote} \noindent {\it {#1}} \end{quote}
  \vspace{-.2in} \noindent \rule{\textwidth}{1pt}} \end{center}}
\newcommand{\tocome}[1]{\vspace{.5ex}\noindent TO COME:\ {#1}\vspace{.5ex}}
\newcommand{\hsp}{\hspace{2ex}}
\newcommand{\vsp}{\vspace{2ex}}
\newcommand{\nvsp}{\vspace{-2ex}}
\newcommand{\svsp}{\vspace{1ex}}
\newcommand{\snvsp}{\vspace{-1ex}}
\newcommand{\nqquad}{\hspace*{2em}}
\newcommand{\nquad}{\hspace*{1em}}
\newcommand{\Sg}{\mbox{}}
\newcommand{\noi}{\noindent}
\newcommand{\nt}[1]{\mbox{ {\it {#1}} }}

\newcommand{\ul}{\underline}
\newcommand{\ol}{\overline}
\newcommand{\be}{\begin{enumerate}}
\newcommand{\ee}{\end{enumerate}}
\newcommand{\bi}{\begin{itemize}}
\newcommand{\ei}{\end{itemize}}
\newcommand{\bdd}{\begin{description}}
\newcommand{\edd}{\end{description}}
\newcommand{\foo}[1]{\footnote{#1}}
\newcommand{\bas}{}
\newcommand{\bd}{\begin{description}}\newcommand{\ed}{\end{description}}

\newcommand{\ra}{\rightarrow}
\newcommand{\Ra}{\Rightarrow}
\newcommand{\hra}{\hookrightarrow}
\newcommand{\Rastar}{\stackrel \ast {\Rightarrow}}
\newcommand{\rastar}{\stackrel \ast {\rightarrow}}
\newcommand{\Raa}[1]{\stackrel {#1} {\Rightarrow}}
\newcommand{\raa}[1]{\stackrel {#1} {\rightarrow}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\lRa}{\Longrightarrow}
\newcommand{\lraa}[1]{\stackrel{#1}{\longrightarrow}}
\newcommand{\la}{\leftarrow}
\newcommand{\La}{\Leftarrow}
\newcommand{\lla}{\longleftarrow}
\newcommand{\myba}{\leftrightarrow}
\newcommand{\Ba}{\Leftrightarrow}
\newcommand{\Baa}[1]{\stackrel{#1}{\Leftrightarrow}}
\newcommand{\Bastar}{\stackrel \ast {\Leftrightarrow}}
\newcommand{\lba}{\longleftrightarrow}
\newcommand{\lbaa}[1]{\stackrel{#1}{\longleftrightarrow}}
\newcommand{\rhu}{\rightharpoonup}
\newcommand{\rlh}{\rightleftharpoons}
\newcommand{\unequiv}{\vdash\!\dashv}
\newcommand{\equi}[2]{\vdash\!#1\!\dashv_{[#2]}}
\newcommand{\co}{\,\colon\;}
\newcommand{\Cat}{\mbox{}}
\newcommand{\Set}{\mbox{}}
\newcommand{\Sign}{\mbox{}}
\newcommand{\Th}{\mbox{}}

\newcommand{\brk}[1]{\mbox{}}
\newcommand{\mbrk}[1]{\langle {#1} \rangle} \newcommand{\pair}[2]{\mbox{}}
\newcommand{\mpair}[2]{\langle {#1},\,{#2} \rangle} \newcommand{\triple}[3]{}
\newcommand{\quadle}[4]{}
\newcommand{\ldenot}{\mbox{}}
\newcommand{\rdenot}{\mbox{}}
\newcommand{\denot}[1]{\ldenot{#1}\rdenot}
\newcommand{\tuple}[3]{}
\newcommand{\eqn}[3]{(\forall {#1})\;{#2} = {#3}}
\newcommand{\rwr}[3]{(\forall {#1})\;{#2} \ra {#3}}
\newcommand{\imodels}{\mbox{}} \newcommand{\nimodels}{\mbox{}} \newcommand{\ip}{\mbox{}} \newcommand{\re}{\vdash\hspace{-.5em}^>}
\newcommand{\ass}[1]{T_{#1}\:{\rm R}_{#1}\:e_{#1}}
\newcommand{\s}{{\!\,\mbox{\rm *}}} 

\newcommand{\stef}{\c{S}tef\u{a}nescu}
\newcommand{\jose}{Jos\'e\hspace{.5ex}}
\newcommand{\helene}{H\'el\`ene\hspace{.5ex}}
\newcommand{\razvan}{R\u{a}zvan\hspace{.5ex}}
\newcommand{\role}{\mbox{r\^{o}le}}
\newcommand{\false}{\mbox{\em false}} 

\newcommand{\fullhline}{\noindent \rule{\textwidth}{1pt}}
\newcommand{\tophline}{\fullhline \vspace{-.15in}}
\newcommand{\bothline}{\vspace{-.2in} \fullhline \vspace{.1in}}
\newcommand{\sbothline}{\vspace{-.1in} \fullhline \vspace{.05in}}
\newcommand{\fullhlinesp}{\fullhline \vspace{.2in}}
\newcommand{\spfullhlinesp}{\vspace{.2in} \fullhlinesp}
\newcommand{\sptwofullhlinesp}{\vspace{.2in} \fullhline \\ \fullhlinesp}
\newcommand{\rect}{\begin{center} \fbox{\parbox{4in}{\hspace{3in}}}
  \end{center} \vspace{.1in}}

\def\newblock{}

\hyphenation{Me-se-guer}
\hyphenation{Sep-tem-ber}
\hyphenation{No-vem-ber}
\hyphenation{Wil-liam-son}
\hyphenation{Mas-sa-chu-setts}
\hyphenation{Bur-stall}
\hyphenation{Eid-ge-no-schi-sche}



\makeatletter
\def\ttall{\hspace{-.45em}\tt\catcode``=13
\@noligs\let\do\@makeother\docspecials\frenchspacing\@vobeyspaces}
\makeatother

\newcommand{\bmas}[1]{\begin{center}\end{center}}
\newcommand{\bmasii}[1]{\begin{center}\end{center}}

\newcommand{\mret}{\vspace{2pt}\\}



\newcommand{\nsadun}{
  \setlength{\unitlength}{0.00150in}
  \begin{picture}(140,80)(0,10)
    \thinlines
    \put( 70, 40){\circle{80}}
    \put( 65, 80){\line( 0,-1){ 35}}
    \put( 65, 45){\line(-1, 0){ 35}}
    \put( 30, 35){\line( 1, 0){ 35}}
    \put( 65, 35){\line( 0,-1){ 35}}
    \put( 75,  0){\line( 0, 1){ 35}}
    \put( 75, 35){\line( 1, 0){ 35}}
    \put( 75, 80){\line( 0,-1){ 35}}
    \put( 75, 45){\line( 1, 0){ 35}}
  \end{picture}
}

\newcommand{\nsidn}[1]{
 \mbox{
  \setlength{\unitlength}{0.00150in}
  \begin{picture}(15,80)(0,0)
    \thinlines
    \put( 0, 80){\line( 0,-1){ 80}}
    \put( 0,  0){\line( 1, 0){ 15}}
    \put( 15,  0){\line( 0, 1){ 80}}
    \put( 15, 80){\line(-1, 0){ 15}}
  \end{picture}
  
 }
}

\newcommand{\nscomp}{
  \setlength{\unitlength}{0.00150in}
  \begin{picture}(110,50)(0,-5)
    \thinlines
    \put( 55, 25){\circle{50}}
    \put( 55, 25){\circle{32}}
  \end{picture}
}

\newcommand{\nstr}[2]{
 \mbox{
  \setlength{\unitlength}{0.012500in}
  \begin{picture}(12,12)(0,0)
    \put(  0, 0){\makebox(0,0)[lb]{\smash{{\sf X}}}}
    \put(  2, 0){\makebox(0,0)[lb]{\smash{{\sf X}}}}
  \end{picture}
 
 }
}

\newcommand{\nsfeed}[1]{
 \mbox{\setlength{\unitlength}{0.00150in}
  
  \begin{picture}(65,90)(0,20)
    \thinlines
    \put( 25,  0){\line( 1, 0){ 15}}
    \put( 40,  0){\line( 0, 1){ 70}}
    \multiput( 40, 70)(5.00000,-5.00000){3}{\makebox(1.1111,7.7778){.}}
    \put( 50, 60){\line( 1, 0){ 15}}
    \multiput( 65, 60)(-4.28571,4.28571){8}{\makebox(1.1111,7.7778){.}}
    \put( 35, 90){\line(-1, 0){  5}}
    \multiput( 30, 90)(-4.28571,-4.28571){8}{\makebox(1.1111,7.7778){.}}
    \put(  0, 60){\line( 1, 0){ 15}}
    \multiput( 15, 60)(5.00000,5.00000){3}{\makebox(1.1111,7.7778){.}}
    \put( 25, 70){\line( 0,-1){ 70}}
  \end{picture}
  
 }
}

\newcommand{\sink}[1]{
	 \setlength{\unitlength}{1ex}
	 \begin{picture}(1.3,1.5)
	 \put(0,-0.45){}
	 \put(0.50,0.45){\line( 0,1){ 1.2}}
	 \end{picture}
	 }
\newcommand{\sour}[1]{
	 \setlength{\unitlength}{1ex}
	 \begin{picture}(1.3,1.5)
	 \put(0,0.60){}
	 \put(0.50,-0.4){\line( 0,1){ 1.2}}
	 \end{picture}
	 }
\newcommand{\eqme}[1]{
	 \setlength{\unitlength}{1ex}
	 \begin{picture}(1.5,1.5)
	 \put(0.2,-0.45){}
	 \put(0,0.2){}
	 \end{picture}
	 }
\newcommand{\cpsp}[1]{
	 \setlength{\unitlength}{1ex}
	 \begin{picture}(1.5,1.5)
	 \put(0.2,0.60){}
	 \put(0,-0.2){}
	 \end{picture}
	 }
\newcommand{\steff}[1]{
	 \setlength{\unitlength}{1ex}
	 \begin{picture}(1.3,1.5)
	 \put(0,0.60){}
	 \put(0.55,-0.4){\line( 0,1){ 1.5}} \put(0.90,-0.4){\line( 0,1){ 1.5}}
	 \end{picture}
	 }

\newcommand{\filet}[4]{\voffset -.8cm\setlength{\textwidth}{15.6cm}\setlength{\textheight}{25cm}
\setlength{\baselineskip}{2pt}	\setlength{\unitlength}{0.0115mm}
\begin{picture}(12475,15224)(800,-17000)\thicklines
\put(10503,-26){\oval(604,674)[br]}\put(10503,-26){\oval(604,676)[tr]}\put(10503,-626){\oval(604,674)[br]}
\put(10503,-626){\oval(604,676)[tr]}\put(10653,-26){\oval(604,674)[br]}\put(10653,-26){\oval(604,676)[tr]}
\put(10653,-626){\oval(604,674)[br]}\put(10653,-626){\oval(604,676)[tr]}\put(10203,-213){\circle{150}}
\put(10353,-963){\framebox(150,1275){}}\put(10128,-963){\framebox(150,600){}}
\put(8851,314){\line( 0,-1){1275}}\put(8851,-961){\line( 1, 0){675}}\put(9526,-961){\line( 0, 1){1275}}
\put(9526,314){\line(-1, 0){150}}\put(9376,314){\line( 0,-1){1125}}\put(9376,-811){\line(-1, 0){375}}
\put(9001,-811){\line( 0, 1){1125}}\put(9001,314){\line(-1, 0){150}}\put(9601,-961){\line( 1, 0){150}}
\put(9751,-961){\line( 0, 1){450}}\put(9751,-511){\line( 1, 0){150}}\put(9901,-511){\line( 0,-1){450}}
\put(9901,-961){\line( 1, 0){150}}\put(10051,-961){\line( 0, 1){600}}\put(10051,-361){\line(-1, 0){450}}
\put(9601,-361){\line( 0,-1){600}}\put(11026,-361){\line( 0,-1){600}}\put(11026,-961){\line( 1, 0){450}}
\put(11476,-961){\line( 0, 1){600}}\put(11476,-361){\line(-1, 0){150}}\put(11326,-361){\line( 0,-1){450}}
\put(11326,-811){\line(-1, 0){150}}\put(11176,-811){\line( 0, 1){450}}\put(11176,-361){\line(-1, 0){150}}
\put(11551,-361){\line( 0,-1){600}}\put(11551,-961){\line( 1, 0){450}}\put(12001,-961){\line( 0, 1){150}}
\put(12001,-811){\line(-1, 0){300}}\put(11701,-811){\line( 0, 1){300}}\put(11701,-511){\line( 1, 0){300}}
\put(12001,-511){\line( 0, 1){150}}\put(12001,-361){\line(-1, 0){450}}\put(1577,-63){\framebox(450,375){}}
\put(  2,313){\line( 0,-1){2100}}\put(  2,-1787){\line( 1, 0){450}}\put(452,-1787){\line( 0, 1){825}}
\put(452,-962){\line( 1, 0){900}}\put(1352,-962){\line( 0, 1){375}}\put(1352,-587){\line(-1, 0){900}}
\put(452,-587){\line( 0, 1){450}}\put(452,-137){\line( 1, 0){1125}}\put(1577,-137){\line( 0,-1){1650}}
\put(1577,-1787){\line( 1, 0){450}}\put(2027,-1787){\line( 0, 1){2100}}\put(2027,313){\line(-1, 0){2025}}
\put(100,-812){\makebox(0,0)[lb]{{\tiny informaticii}}}\put(100, 13){\makebox(0,0)[lb]{{\tiny fundamentele}}}
\put(-800,-1900){\makebox(0,0)[lt]{\rule{\textwidth}{.1cm}}}
\put(-800,-20000){\makebox(0,0)[lt]{\rule{\textwidth}{.1cm}}}
\put(-800,-20100){\makebox(0,0)[lt]{\noindent\parbox{\textwidth}{\begin{center}{\tiny
{\bf Professors of the Department of the Fundamentals of Computer Science:}\vspace{.1cm}\\
Adrian Atanasiu (Full Professor), Andrei Baranga (Associate Professor), Virgil--Emil C\u{a}z\u{a}nescu (Full
Professor),\vspace{-.03cm}\\ Rodica Ceterchi (Associate Professor), George Georgescu (Full Professor), Victor
Mitrana (Full Professor),\vspace{-.3cm}\\ Gheorghe \c{S}tef\u{a}nescu (Full Professor), Monica
T\u{a}t\u{a}r\^{a}m (Associate Professor)}\end{center}}}}
\put(8551,-1786){\framebox(3675,600){}}\put(3151,0){\makebox(0,0)[lt]{\parbox{5cm}{{\small University of
Bucharest\vspace{-.1cm}\\Dept. of the Fundamentals\vspace{-.1cm}\\ \mbox{\hspace{1cm}} of Computer
Science\vspace{-.1cm}\\Str. Academiei 14\vspace{-.1cm}\\ R-010014
Bucharest,Romania}}}}\put(8926,-1561){\makebox(0,0)[lb]{Fac. de Matematic\u{a}}}\end{picture}
\vspace{-17cm}\thispagestyle{empty}\\
\hspace*{6cm}\hfill{#1}\\\hspace*{6cm}\hfill{#2}\vspace*{-3cm}
\\#3\vspace*{1cm}\\#4\vspace*{1.5cm}\\#1}

\newsavebox{\pusztaiSign}
\savebox{\pusztaiSign}{\begin{picture}(00.00,00.00)\thicklines\put(-16.00,4.00){\circle{14.00}}
\put(-16.00,4.00){\circle{11.00}}\put(-19.00,4.00){\rule{6.00\unitlength}{2\unitlength}}
\put(-16.00,-9.50){\line(0,1){6.50}}\put(-20.00,-9.50){\line(1,0){8.00}}\end{picture}}
\newcommand{\stefnote}[1]{\mbox{ }\\\usebox{\pusztaiSign}{\footnotesize #1}\mbox{ }\\}

\newcommand{\lu}{\langle}
\newcommand{\ru}{\rangle}
\newcommand{\da}{\dagger}
\newcommand{\doi}[4]{\begin{tabular}{l|l}{\em agents:}&{\em systems:}\\
  \parbox[t]{#1cm}{#3}&\parbox[t]{#2cm}{#4}\end{tabular}\\}
\newcommand{\gol}[1]{\mbox{\hspace{#1cm}}}
\newcommand{\of}{{}^{\frown}{}}
\newcommand{\tcomp}{\cdot_{\frown}}
\newcommand{\tfeed}[1]{\uparrow_{\frown}^{#1}}
\newcommand{\tidn}[1]{\mbox{--}}
\newcommand{\ttr}[2]{\mbox{}}
\newcommand{\trmf}[2]{\mbox{}}
\newcommand{\tidf}[2]{\mbox{}}
\newcommand{\tdis}[2]{{\sf d}_{#1 ; #2}}
\newcommand{\tred}[2]{{\sf r}_{#1 ; #2}}
\newcommand{\mdis}[2]{\delta_{#1 ; #2}}
\newcommand{\mred}[2]{\rho_{#1 ; #2}}
\renewcommand{\mcomp}{\cdot_{\otimes}}
\renewcommand{\mfeed}[1]{\uparrow_{\otimes}^{#1}}
\renewcommand{\acomp}{\cdot_{\oplus}}
\renewcommand{\afeed}[1]{\uparrow_{\oplus}^{#1}}
\newcommand{\st}{^{\Omega}}
\newcommand{\tna}{Mult\mbox{}NA}\newcommand{\btna}{Mix\mbox{}NA}
\newcommand{\sna}{Mult\mbox{}NA}\newcommand{\bsna}{Mix\mbox{}NA}
\newcommand{\bstna}{Mix\mbox{}NA}

\newcommand{\slogan}[2]{
	\begin{center}\framebox{\parbox{10.5cm}{\small#2}}\end{center}}
\newcommand{\hint}[1]{\bi\item[]{\small #1 }\ei}
\newcommand{\pilula}[2]{\mbox{ }\vspace*{-3cm}\\\mbox{ }\hfill{\parbox[t]{5cm}{\sf\small #1 \\
	\mbox{ }\hfill{#2}}}\vspace*{1cm}\\}
\newcommand{\sac}[1]{\footnotesize {\bf To be inserted somewhere:}\\ #1}

\newcommand{\tdw}[1]{\raisebox{3pt}{
\begin{tiny}\begin{tt}\begin{tabular}[t]{c}#1\end{tabular}\end{tt}\end{tiny}}}
\newcommand{\tdwbis}[2]{\raisebox{3pt}{
\begin{#1}\begin{tt}\begin{tabular}[t]{c}#2\end{tabular}\end{tt}\end{#1}}}
\newcommand{\tdwb}[2]{\raisebox{3pt}{
\begin{#1}\begin{tt}\begin{bfseries}\begin{tabular}[t]{c}#2\end{tabular}\end{bfseries}\end{tt}\end{#1}}}
\newcommand{\tdret}{\snvsp\\}
\newcommand{\vcomp}{\comp}
\newcommand{\hcomp}{\triangleright}
\newcommand{\gcomp}{\star}
\newcommand{\vstar}{^\star}
\newcommand{\hstar}{^\dagger}
\newcommand{\vidn}{\mbox{\footnotesize\tt |}}\newcommand{\hidn}{{\tt -}}
\newcommand{\std}{^{\rm s\!\! t}}
\newcommand{\mypar}{\mathop{\raisebox{3pt}{}}}
\newcommand{\sync}{\mathop{\raisebox{3pt}{}}}




\newcommand{\myfspar}[2]{\paragraph{#1}{\footnotesize #2 \hfill{}\vspace{6pt}}}
\newcommand{\ahint}[1]{{\hsp #1 \hfill{}}}
\newcommand{\bhint}[1]{{\footnotesize \hsp #1 \hfill{}}}
\newcommand{\shint}[1]{{\footnotesize\usebox{\circSignB} #1 \hfill{\usebox{\circSignE}}}}

\newcommand{\bnaex}{\subsection*{\normalsize\sc Exercises and Problems (sec. \thesection)}
\be}
\newcommand{\enaex}{\ee\parskip=1ex\normalsize}

\newcommand{\cazung}{C\u{a}z\u{a}nescu--Ungureanu}
\def\qed{\hsp}

\newcommand{\sltita}[1]{\newpage {\LARGE\sc #1}\\\rule{\textwidth}{5pt}\\}
\newcommand{\sltitb}[1]{\newpage {\LARGE #1}\\\rule{\textwidth}{5pt}\\}
\newcommand{\sltitc}[1]{\newpage {\Large\bf #1}\\\fullhline\\}
\newcommand{\sltitd}[1]{\newpage {\Large #1}\nvsp\\\fullhline\\}
\newcommand{\sltite}[1]{\newpage {\large\bf \dotfill{#1}}\\}
\newcommand{\sltitf}[1]{\newpage {\large \dotfill{#1}}\\}
\newcommand{\sltitcont}[1]{\newpage {\small\bf (cont)\dotfill{#1}}\nvsp\\}


\newsavebox{\circSignB}\savebox{\circSignB}{\setlength{\unitlength}{0.6pt}
\begin{picture}(14.00,00.00)(00.00,00.00)\thicklines \put(4.00,4.00){\circle{14.00}}
\put(1.00,0.00){\makebox(0,0)[lb]{\smash{\mbox{}}}}\end{picture}}

\newsavebox{\circSignE}\savebox{\circSignE}{\setlength{\unitlength}{0.6pt}
\begin{picture}(14.00,00.00)(00.00,00.00)\thicklines \put(4.00,4.00){\circle{14.00}}
\put(-1.00,0.00){\makebox(0,0)[lb]{\smash{\mbox{}}}}\end{picture}}

\def\addrel{{\sf AddRel}}
\def\multrel{{\sf MultRel}}
\def\scnf{{\sf nf}}
\def\bidn{\idn}      
\def\bid{\idn}
\def\btr{\tr}        
\def\bsum{\oplus}         \def\bcomp{\comp}    
\def\bfeed{\feed}  
\def\oe{\epsilon}

\def\pp{\star}
\def\op{\star}\def\adun{\op}
\newcommand{\Imp}{{\sc Imp}}

\def\aidn{\idn}
\def\acomp{\comp}
\def\tidn{\idn}
\def\tcomp{\comp}
\def\midn{\idn}
\def\mcomp{\comp}

\def\newblock{}

\renewcommand{\flxy}[2]{[#2]_{#1}}	
\renewcommand{\fle}[2]{{\sf FlowExp}[#2]_{#1}}
\renewcommand{\eval}[1]{{\cal E}^{ #1}}
\newcommand{\regexp}{{\sf RegExp}}	
\newcommand{\unitexp}{{\sf UnitExp}}
\newcommand{\cregexp}{{\sf CRegExp}}

\newcommand{\cruce}[5]{\begin{array}{ccc}\cline{2-2}&\multicolumn{1}{|c|}{#1}&\\\hline 
	\multicolumn{1}{|c}{#2}&\multicolumn{1}{|c|}{#3}&\multicolumn{1}{c|}{#4}\\\hline
	&\multicolumn{1}{|c|}{#5}&\\\cline{2-2}\end{array}}
\newcommand{\scruce}[5]{\footnotesize\begin{array}{c@{\hspace{1mm}}c@{\hspace{1mm}}c}
	\cline{2-2}&\multicolumn{1}{|@{\hspace{1mm}}c@{\hspace{1mm}}|}{#1}&\\\hline 
	\multicolumn{1}{|@{\hspace{1mm}}c@{\hspace{1mm}}}{#2}
	&\multicolumn{1}{|@{\hspace{1mm}}c@{\hspace{1mm}}|}{#3}
	&\multicolumn{1}{@{\hspace{1mm}}c@{\hspace{1mm}}|}{#4}\\\hline
	&\multicolumn{1}{|@{\hspace{1mm}}c@{\hspace{1mm}}|}{#5}&\\\cline{2-2}\end{array}\normalsize}
\newcommand{\patrat}[4]{\footnotesize\begin{array}{|c|c|}
	\hline #1&#2\\\hline #3&#4\\\hline\end{array}\normalsize}

\newcommand{\inda}[1]{\\\hspace*{.5cm}\parbox[t]{10.5cm}{#1}}
\newcommand{\indb}[1]{\\\hspace*{1cm}\parbox[t]{10cm}{#1}}
\newcommand{\indc}[1]{\\\hspace*{1.5cm}\parbox[t]{9.5cm}{#1}}

\newcommand{\mscsl}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(5,5){\vector(-1,0){5}}\put(5,10){\vector(0,-1){10}}\end{picture}}}
\newcommand{\mscsr}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(5,5){\vector(1,0){5}}\put(5,10){\vector(0,-1){10}} \end{picture}}}
\newcommand{\mscrl}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(0,5){\vector(1,0){5}}\put(5,10){\vector(0,-1){10}}\end{picture}}}
\newcommand{\mscrr}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(10,5){\vector(-1,0){5}}\put(5,10){\vector(0,-1){10}} \end{picture}}}
\newcommand{\mscpl}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(10,5){\vector(-1,0){10}}\put(5,10){\vector(0,-1){10}} \end{picture}}}
\newcommand{\mscpr}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(0,5){\vector(1,0){10}}\put(5,10){\vector(0,-1){10}}\end{picture}}}
\newcommand{\msci}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(5,5){\vector(0,-1){5}}\end{picture}}}
\newcommand{\mscv}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0) \put(0,0){\framebox(10,10){}}
	\put(5,10){\vector(0,-1){10}}\end{picture}}}
\newcommand{\msce}{\raisebox{-1mm}{\begin{picture}(10,10)(0,0)\put(0,0){\framebox(10,10){}} 
	\put(5,10){\vector(0,-1){5}}\end{picture}}}

\newcommand{\mya}{\mbox{\sc a}}\newcommand{\mye}{\mbox{\sc e}}\newcommand{\myx}{\mbox{\sc x}}
	\newcommand{\myu}{\mbox{\sc u}}\newcommand{\myg}{\mbox{\sc g}}\newcommand{\myf}{\mbox{\sc f}}
	\newcommand{\myw}{\mbox{\sc w}}

\newcommand{\fis}{{\sc fis}}
\newcommand{\dfn}{{\sc dfn}}
\newcommand{\nfa}{{\sc nfa}}\newcommand{\dfa}{{\sc dfa}}
\newcommand{\rvprog}[6]{\begin{tabular}[t]{r|@{\hspace{2mm}}l}\parbox{#1}{\tt #3}&\parbox{#2}{\tt #4}\\\hline
  \parbox[t]{#1}{\tt #5}&\parbox[t]{#2}{\tt #6}\end{tabular}\svsp}

\newcommand{\timetosing}{\mbox{\raisebox{1ex}{\small\sc time}{\LARGE\bf\it 2}{\small\sc sing}}}

\newcommand{\stdata}[2]{\langle #1 \;|\; #2 \rangle}

\newcommand{\dsp}{\displaystyle}

\newcommand{\conc}[1]{{\color{blue}\em #1}}\newcommand{\defi}[1]{{\color{red}\em #1}}
\newcommand{\rema}[1]{{\normalsize\color{cola}\em #1}}

\newcommand{\mipsh}{\hspace*{-.4cm}\begin{tabular}{|l|l|l|l|l|}\hline 
   Tip\hspace*{0mm} & Instructiune\hspace*{4mm} & Exemple\hspace*{12mm} 
   & Semantica\hspace*{8mm} & Comentarii\hspace*{16mm}\\\hline}
\newcommand{\mipsl}[5]{\parbox[t]{.65cm}{#1} & \parbox[t]{2.2cm}{#2} & \parbox[t]{3.3cm}{\tt #3}
   & \parbox[t]{2.5cm}{\tt #4} & \parbox[t]{3.7cm}{#5}\\\hline}
\newcommand{\mipst}{\end{tabular}}
\newcommand{\mipsi}[7]{\parbox[t]{\textwidth}{\small\begin{tabular}{|c|c|c|c|c|c|}\hline 
   \hspace*{#1}#2\hspace*{#1} & \hspace*{#1}#3\hspace*{#1} & \hspace*{#1}#4\hspace*{#1} 
   & \hspace*{#1}#5\hspace*{#1} & \hspace*{#1}#6\hspace*{#1} & \hspace*{#1}#7\hspace*{#1}\\\hline\end{tabular}}}
\newcommand{\mipsii}[5]{\parbox[t]{\textwidth}{\small\begin{tabular}{|c|c|c|c|}\hline 
   \hspace*{#1}#2\hspace*{#1} & \hspace*{#1}#3\hspace*{#1} & \hspace*{#1}#4\hspace*{#1} 
   & \hspace*{#1}#5\hspace*{#1}\\\hline\end{tabular}}}

\newcommand{\codi}[6]{\hspace*{1.5cm}\parbox[t]{\textwidth}{\tt\small
   \begin{tabular}{|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|}\hline 
   \parbox[t]{11ex}{\centerline{#1}} & \parbox[t]{10ex}{\centerline{#2}} & \parbox[t]{10ex}{\centerline{#3}} 
   & \parbox[t]{10ex}{\centerline{#4}} & \parbox[t]{10ex}{\centerline{#5}} & \parbox[t]{11ex}{\centerline{#6}} 
   \\\hline\end{tabular}}}
\newcommand{\codii}[4]{\hspace*{1.5cm}\parbox[t]{\textwidth}{\tt\small
   \begin{tabular}{|@{}c@{}|@{}c@{}|@{}c@{}|@{}c@{}|}\hline 
   \parbox[t]{11ex}{\centerline{#1}} & \parbox[t]{10ex}{\centerline{#2}} & \parbox[t]{10ex}{\centerline{#3}} 
   & \parbox[t]{31ex}{\centerline{#4}} \\\hline\end{tabular}}}
\newcommand{\codiii}[2]{\hspace*{1.5cm}\parbox[t]{\textwidth}{\tt\small
   \begin{tabular}{|@{}c@{}|@{}c@{}|}\hline 
   \parbox[t]{11ex}{\centerline{#1}} & \parbox[t]{51ex}{\centerline{#2}} \\\hline\end{tabular}}}

\newcommand{\progtext}[1]{\bi\item[]\framebox{\parbox[t]{12.5cm}{\small\tt #1}}\ei}

\newcommand{\mytxtpar}[1]{{\normalsize \bi\item[] #1 \ei}}

\newcommand{\gsase}[6]{\begin{array}{|c|c|c|}\hline #1&#2&#3\\\hline#4&#5&#6\\\hline\end{array}}

\newcommand{\scelli}[5]{\begin{picture}(0,0)(0,0)\put(-12,52){\parbox[t]{20mm}{\begin{center}#1\end{center}}}
  \put(-28,35){\parbox[t]{20mm}{\begin{center}#2\end{center}}}\put(16,16){\makebox(0,0){#3}}
  \put(5,35){\parbox[t]{20mm}{\begin{center}#4\end{center}}}
  \put(-12,18){\parbox[t]{20mm}{\begin{center}#5\end{center}}}
  \end{picture}\includegraphics[scale=.15]{fig/scen01.eps}}

\newcommand{\dcomp}{\bullet}\newcommand{\dstar}{^\bullet}
\newcommand{\pvcomp}{\%}\newcommand{\phcomp}{\#}\newcommand{\pdcomp}{\ #1 | #2  #4 | #5  #1 | #2 | #3  #5 | #6 | #7  #1 \ #2\  #3 \piSTHlog_0STHlog_0STHlog_0a_0{}^{\frown}a_1{}^{\frown}\dotsa_0,a_1,\dots0,1,\dotsS:(m,p)\ra (n,q)S\subseteq (\mathbb{N}^m \times \mathbb{N}^p) \times(\mathbb{N}^n \times\mathbb{N}^q)mpnqS\stdata{v}{r}
\mapsto \stdata{v'}{r'}v,v'r,r'S_1:(m_1,p_1)\ra (n_1,q_1)S_2:(m_2,p_2)\ra (n_2,q_2)S_1\hcomp S_2n_1=m_2S_1\hcomp S_2(m_1,p_1+p_2)\ra
(n_2,q_1+q_2)((v,(r_1,r_2)),(v'',(r'_1,r'_2)))v'((v,r_1),(v',r'_1,))\in f_1((v',r_2),(v'',r'_2))\in f_2\tdwbis{small}{\ 1\ 1\ 1\ \tdret AaBbBbB\tdret \ 2\ 1\
1\ \tdret AcAaBbB\tdret \ 2\ 2\ 1\ \tdret AcAcAaB\tdret 2\ 2\ 2\ }\begin{array}{@{}c@{}c@{}c@{}}
\scelli{1:\snvsp\\x=4}{A:}{X}{}{}
&\scelli{1:}{B:\snvsp\\tx=4}{Y}{}{}
&\scelli{1:}{C:\snvsp\\tx=4}{Z}{D}{}
\vspace{-1mm}\\
\scelli{3:\snvsp\\x=2}{A:}{U}{}{3:\snvsp\\x=1}
&\scelli{2:\snvsp\\y=4}{B:\snvsp\\tx=2}{V}{}{2:\snvsp\\y=4}
&\scelli{2:\snvsp\\z=4}{C:\snvsp\\tx=2}{W}{D}{2:\snvsp\\z=2}
\end{array}t_1;t_2;\dots;t_kt_knilf:\tsrv{w}{n}{e}{s}w,n,e,s\tsrv{nil;nil}{sn;nil;nil}
{nil;nil}{sn;sn;sn}snt=t_1;t_2;\dots;t_kt'=t'_1;t'_2;\dots;t'_{k'}t=t'k=k't_i,t'_inilt=_nt'nilId_{m,p}:\tsrv{m}{p}{m}{p}Id_{1,2}f_i:\tsrv{w_i}{n_i}{e_i}{s_i}, i=1,2f_1\hcomp f_2e_1=_nw_2nile_1w_2\ol{f_i}f_1\hcomp f_2\ol{f_1}\ol{f_2}Id_{m,0}, m\geq 0f_1\vcomp f_2s_1=_nn_2nils_1n_2\ol{f_i}f_1\vcomp f_2\ol{f_1}\ol{f_2}Id_{0,m}, m\geq 0f_1\dcomp f_2e_1=_nw_2s_1=_nn_2f_1\dcomp f_2 =(f_1\hcomp R_1\hcomp \Lambda)\vcomp(S_2\hcomp Id \hcomp R_2)\vcomp(\Lambda \hcomp
  S_1\hcomp f_2).R,S,Id,\LambdaId_{m,n}, m,n\geq
  0R,S,Id,\LambdaRS\LambdaP::=
{}X\ |\ if(C)then\{P\}else\{P\} |\ P\pvcomp P\ |\ P\phcomp P\ |\ P\pdcomp
  P\\ |\ while\_t(C)\{P\}\ |\ while\_s(C)\{P\} |\ while\_st(C)\{P\}X::=
{}module\{listen\ t\_vars\}\{read\ s\_vars\}\\\{code;\}\{speak\ t\_vars\}\{write\ s\_vars\}\vcomp,\hcomp,\dcomp\pvcomp,\phcomp,\pdcomp\pvcompPP:\tsrv{w(P)}{n(P)}{e(P)}{s(P)}w(P)/n(P)/e(P)/s(P)P_i:\tsrv{w_i}{n_i}{e_i}{s_i}i=1,2P_1\phcomp P_2e_1w_2\tsrv{w_1}{n_1;n_2}{e_2}{s_1;s_2}P_1\phcomp P_2P_1P_2P_1\pvcomp P_2P_1\pdcomp P_2e_1w_2s_1n_2\tsrv{w_1}{n_1}{e_2}{s_2}P_1\pdcomp P_2P_1P_2P_i:\tsrv{w_i}{n_i}{e_i}{s_i}i=1,2Q=if\ (C)\ then\ P_1\ else\ P_2Cw_1\cap w_2n_1\cap n_2Q:\tsrv{w_1\cup
  w_2}{n_1\cup n_2}{e_1\cup e_2}{s_1\cup s_2}QP_1CP_2P:\tsrv{w}{n}{e}{s}while\_t\ (C)\{P\}nsCn\cap s\tsrv{(w;)^*}{n\cup s}{(e;)^*}{n\cup s}while\_t\ (C)\{P\}f_1\vcomp f_2\vcomp\dots\vcomp f_kPf_iCf_kCwhile\_s\ (C)\{P\}P:\tsrv{w}{n}{e}{s}while\_st\ (C)\{P\}wensCw\cap en\cap s\tsrv{w\cup e}{n\cup s}{w\cup e}{n\cup s}while\_st\ (C)\{P\}f_1\dcomp
f_2\dcomp\dots\dcomp f_kPf_iCf_kCPSST::={}nil\ |\ sn\ |\ sb\ |\ (SST\cup SST)\\ |\ (SST,SST)\ |\
(SST)^*ST::={} (SST)\ |\ (ST\cup ST)\\ |\ (ST;ST)\ |\ (ST;)^*STT::={}nil\ |\ tn\ |\ tb\ |\ (STT\cup STT)\\ |\ (STT,STT)\ |\
(STT)^*TT::= {}(STT)\ |\ (TT\cup TT)\\ |\ (TT;TT)\ |\ (TT;)^*V::={} x:ST\ |\ x:TT\ |\ V(k)\\ |\ V.k\ |\ V.[k]\ |\ V@k\ |\ V@[k]E::= n\ |\ V\ |\ E+E\ |\ E*E\ |\ E-E\ |\ E/EB::= b\ |\ V\ |\ B\&\& B\ |\ B||B\ |\ !B\ |\ E<EW::={}nil\ |\ new\ x:SST\ |\ new\ x:STT\\ |\ x := E\ |\ if (B) \{W\} else \{W\}
\\ |\ W;W\ |\ while (B) \{W\}M::={}module\{listen\ x:STT\}\{read\ x:SST\}\\
\{W;\}\{speak\ x:STT\}\{write\ x:SST\}P::={}nil\ |\ M\ |\ if (B) \{P\} else \{P\}\ \\ 
|\ P\pvcomp P\ |\ P\phcomp P\ |\ P\pdcomp P\ \\
|\ while\_t (B) \{P\}\ |\ while\_s (B) \{P\}\\ |\ while\_st (B) \{P\}PP^{\vee}P=P^{\vee\vee}sn,sb\cup,\mbox{','},(\_)^*\cup,\mbox{';'},(\_;)^*VV(k),V.k,V.[k], V@k,V@[k]p_1p_2\dots p_kp_ip_iKKNE\tau\sigmaN^{a_1}E^{b_1}\dots N^{a_k}E^{b_k}E^{b_1}\dots N^{a_k}E^{b_k}N^{a_1}E^{b_1}\dots N^{a_k}E^{b_1}\dots N^{a_k}a_i,b_j\geq 1nilC\tau (N^kE^l)\sigmaPC'\tau (E^lN^k)\sigmaC,C'(..)PM\tau\sigmaCC'C1Q=if (Cond)\{P1\} else \{P2\}nilInvC'\ra InvCInvQ=j<aD\ra CC'\ra D'P\BoxP_0P_1P_iP_iP_iP_jj<iP_iP_0{\tt n}{\tt n}{\tt id : sInt,\ c : \{white,black\},\ active : sBool}{\tt tn, tid : tInt,\ msg : tIntSet[~]}{}{\tt P}{\tt I}{\tt Q}{\tt I={}}{\tt I1={}}{\tt I2={}}{\tt Q={}}{\tt R={}}\cup{\tt id,c,active}{\tt tn,tid}{\tt
n,id}{\tt msg[~]}{\tt msg[k]}{\tt id}{\tt k}{\tt token.col}{\tt \{white,black\}}{\tt token.pos}{\tt I}{\tt id,c,active}{\tt msg[i]=\emptyset}{\tt 0\leq i <
n}{\tt R}{\tt P}{\tt while\_st}{\tt I}{\tt n}\forall k\in[0,n)\co (id,c,active)[k]=(k,white,true)\\ \wedge tn=n\wedge token=(black,0) \wedge
\forall k\in[0,n)\co msg[k]=\emptyset{\tt n}{\tt 0,1,\dots,n-1}{\tt (id,c,active)[k]}{\tt (id,c,active)}{\tt k}Inv{\tt Q}token=(white,i)\ra \\
\hspace*{.5cm}[(\forall r\in[0,i-1]\co active[r]=false\wedge msg[r]=\emptyset)\\
\hspace*{.5cm}\vee(\exists k>i-1\co c[k]=black)]i-1tn-1i=0imsg[r]token.col=white\ra(\forall k\in [0,n)\co msg[k]\not=\emptyset\ra c[k]=black)Inv={\tt P1\wedge P2}InvInvInvInvInv{\tt for\_s}Inv'={\tt P1'\wedge P2'}Inv'Invxx'xitoken.pos{\tt for\_s}{\tt P1'}{\tt P1':}token'=(white,i')\ra \\
\hspace*{.2cm}[(\forall r\in[0,i'-1]\co active'[r]=false\wedge msg'[r]=\emptyset)\\
\hspace*{.2cm}\vee(\exists k>i'-1\co c'[k]=black)]token'.col=whitetoken.col=white\forall r\in[i,i'-1]\co
active'[r]=false\wedge msg'[r]=\emptyseti'i,\dots,i'-1token'.colmsg'[i],\dots,msg'[i'-1]{\tt P1}token=(white,i)\forall r\in[0,i-1]\co active[r]=false\wedge msg[r]=\emptyset0,\dots,i-1\forall
r\in[0,i'-1]\co active'[r]=false\wedge msg'[r]=\emptyset0,\dots,i-1kk>i-1msg[0],\dots,msg[i-1]{\tt P2}c[k]=blackk>i'-1token'.colc'[k]=black\exists k>i-1\co c[k]=blackk>i'-1token'.colc'[k]=black{\tt P2'}{\tt P2':}token'.col=white\ra(\forall k\in [0,n):msg'[k]\not=\emptyset\ra c'[k]=black){\tt R}kmsg'[k]k{\tt R}tid=k{\tt R}k<tid<tn{\tt R}kmsg'[k]{\tt for\_s}msg'[k]\subseteq [0,k)msg'[k]\not=\emptysetkpp<ktoken'.col=white{\tt for\_s}c'[k]=black\{|Inv|\}\mbox{\tt while\_st(!(token=(white,0)))\{Q'\}}\{|Inv \wedge (token=(white,0))|\}{\tt Q'= \mbox{\tt for\_(tid=0;tid<tn;tid++)\{R\}}}\BoxInvSTHlog_0{\tt
  tid}{\tt R}{\tt Q1:}token.col=white
\wedge tid<token.postoken'=token\wedge\forall k\not=tid\co msg'[k]=msg[k]-\{tid\}\wedge \\
\hspace*{.5cm}[\hsp (active[tid]=false \wedge {}\not\exists k, tid\in msg[k]\\
\hspace*{1.5cm}\ra active'[tid]=false\wedge msg'[tid]=\emptyset)\\
\hspace*{.5cm}\vee (active[tid]=true \vee\exists k, tid\in msg[k]\\
\hspace*{1.5cm}\ra msg'[tid]\subseteq[0,tid)\cup[tid+1,n)\wedge \\
\hspace*{2.1cm}msg'[tid]\cap [0,tid)\not=\emptyset\ra c'[tid]=black)]{\tt Q2:}token.col=white \wedge tid=token.pos\forall k\not=tid\co msg'[k]=msg[k]-\{tid\}\wedge\\
\hspace*{.5cm}[\hsp(active'[tid]=true \\
\hspace*{1.5cm} \ra token'=token\wedge \\
\hspace*{2.1cm} msg'[tid]\cap [0,tid)\not=\emptyset\ra c'[tid]=black)\\
\hspace*{.5cm}\vee (active'[tid]=false\\ 
\hspace*{1.5cm} \ra token'.pos=token.pos+1\wedge \\ 
\hspace*{2.1cm}token'.col=white \ra msg'[tid]\cap [0,tid)=\emptyset)]{\tt Q3:}token.col=white \wedge tid>token.posInvInv2Inv2tid{\tt R}Inv2tid+1InvInv2tid\{|Inv2|\}{\tt\ R\ }\{|Inv2'|\}Inv2\wedge (tid=n)\ra InvRInv2{\tt P1d}\wedge {\tt P2d}{\tt P1d:}token=(white,i)\ra \\
\hspace*{.5cm}[(\forall r\in[0,i-1]\co active[r]=false\wedge msg[r]\subseteq[max(tid,i),n))\\
\hspace*{.5cm}\vee(\exists k>i-1\co c[k]=black)]i-1tn-1i=0{\tt P2d:}token.col=white\ra\\ \hspace*{.5cm}\forall k\in [0,tid)\co msg[k]\subseteq [0,k)\cup[tid,n) \wedge \\ msg[k]\cap[0,k)\not=\emptyset\ra c[k]=black\{|{\tt P1d}|\}{\tt\ R\ }\{|{\tt P1d}|\}{\tt P1d':}token'=(white,i')\ra \\
\hspace*{.5cm}[(\forall r\in[0,i'-1]\co active'[r]=false\wedge msg'[r]\subseteq[max(tid',i'),n))\\
\hspace*{.5cm}\vee(\exists k>i'-1\co c'[k]=black)]token'=(white,i')i'=itid\not=itid=itid\exists k>i-1\co c[k]=blackc'[k]=blacki'=i\forall r\in[0,i-1]\co active[r]=false\wedge msg[r]\subseteq[max(tid,i),n)\neg(\exists
k>i-1\co c[k]=black)tid\geq itid<itidrr<itidrr\geq itidP2dc[r]rr\not=tidmsg'[r]=msg[r]-\{tid\}tidtid<imsg'[tid]=\emptysettoken'=(white,i')i'=i+1tid=itidtid\exists k>i-1\co c[k]=blacktoken'=(white,i')k>i\forall r\in[0,i-1]\co active[r]=false\wedge msg[r]\subseteq[max(tid,i),n)\neg(\exists
k>i-1\co c[k]=black)r<ir=iactive'[i]=false\ \wedge\ msg'[i]\subseteq[i+1,n)tid=ii+1=i'=tid'=max(tid',i'){\tt for\_s}tid=n{\tt P1d}\wedge
(tid=n)\ra {\tt P1}{}\{|{\tt P2d}|\}{\tt\ R\ }\{|{\tt P2d}|\}{\tt P2d':}token'.col=white\ra\\ \hspace*{.5cm}\forall k\in [0,tid')\co msg'[k]\subseteq [0,k)\cup[tid',n) \wedge \\ msg'[k]\cap[0,k)\not=\emptyset\ra c'[k]=blackmsg'[k]\cap[0,k)\not=\emptyset{\tt R}{\tt R}token'.col=white{\tt for\_s}tid=n{\tt P2d}\wedge (tid=n)\ra {\tt P2}STHlog_0\Box$}\ethm

\end{document}
